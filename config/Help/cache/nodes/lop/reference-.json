{"type": "root", "attrs": {"type": "node", "context": "lop", "internal": "reference", "icon": "LOP/reference", "group": "layers", "since": "17.0", "version": "", "namespace": null}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["Reference"], "extent": [0, 14]}, {"type": "summary", "indent": 0, "text": ["References the contents of an external USD file into a branch of the existing scene graph tree, or removes/replaces existing references."], "extent": [111, 256]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Overview"], "extent": [256, 271], "body": [{"type": "para", "indent": 4, "text": ["Referencing takes the tree in the referenced file and ", {"type": "q", "text": ["injects"]}, " it onto a branch in the current tree."], "extent": [17055, 17163]}, {"type": "para", "indent": 4, "text": ["For example, if you start with this tree:"], "extent": [17163, 17210]}, {"type": "box_group", "body": [{"ext": null, "type": "box", "indent": 4, "text": ["Scene tree before reference"], "role": "item", "extent": [17210, 17248], "body": [{"tag": "pre", "attrs": {}, "type": "xml", "text": [{"tag": "font", "attrs": {"color": "0066ff"}, "type": "xml", "text": ["\n/Lights/\n    light1\n    light2\n/Models/\n    tableside_lamp\n        "]}]}], "container": true, "attrs": {"display": "light"}}], "container": true, "role": "item_group"}, {"type": "para", "indent": 4, "text": ["If ", {"type": "code", "text": ["/Models/tableside_lamp"]}, " references ", {"type": "code", "text": ["lamp.usd"]}, " and that file contains:"], "extent": [17389, 17468]}, {"type": "box_group", "body": [{"ext": null, "type": "box", "indent": 4, "text": ["Contents of ", {"type": "code", "text": ["lamp.usd"]}], "role": "item", "extent": [17468, 17501], "body": [{"tag": "pre", "attrs": {}, "type": "xml", "text": [{"tag": "font", "attrs": {"color": "#ff9900"}, "type": "xml", "text": ["\n/lamp/\n    base\n    bulb\n    shade\n    socket\n    switch"]}]}], "container": true, "attrs": {"display": "light"}}], "container": true, "role": "item_group"}, {"type": "para", "indent": 4, "text": ["Then after referencing the file, the tree will look like this"], "extent": [17632, 17699]}, {"type": "box_group", "body": [{"ext": null, "type": "box", "indent": 4, "text": ["Scene tree after reference"], "role": "item", "extent": [17699, 17736], "body": [{"tag": "pre", "attrs": {}, "type": "xml", "text": [{"tag": "font", "attrs": {"color": "0066ff"}, "type": "xml", "text": ["\n/Lights/\n    light1\n    light2\n/Models/"]}, "\n    ", {"tag": "font", "attrs": {"color": "#66cc00"}, "type": "xml", "text": ["tableside_lamp/"]}, "\n        ", {"tag": "font", "attrs": {"color": "#ff9900"}, "type": "xml", "text": ["base\n        bulb\n        shade\n        socket\n        switch"]}]}], "container": true, "attrs": {"display": "light"}}], "container": true, "role": "item_group"}, {"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["The prim containing the reference (", {"type": "code", "text": ["/Models/tableside_lamp"]}, ") and the referenced prim (", {"type": "code", "text": ["/lamp"]}, " from ", {"type": "code", "text": ["lamp.usd"]}, ") are composed together (with overlapping property values decided by opinion strength), but the prim keeps the name of the original referencing prim."], "extent": [17997, 18263]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["When you reference in content, you must specify a prim in the referenced file (", {"type": "code", "text": ["/lamp"]}, " in the example above), and that prim cannot be the root (", {"type": "code", "text": ["/"]}, "). So when you're creating a file that is meant to be referenced in by other layers, you should organize the contents under a single root primitive."], "extent": [18263, 18566], "body": [{"type": "para", "indent": 8, "text": ["(It\u2019s possible to specify the ", {"scheme": null, "value": "#default_prim", "type": "link", "text": ["default primitive"], "fullpath": "/solaris/usd.html#default_prim", "fragment": "#default_prim"}, " of a file. If you reference a file and don\u2019t specify a specific prim in the file, you get the file\u2019s ", {"type": "q", "text": ["default primitive"]}, ".)"], "extent": [18566, 18762]}], "container": true}], "container": true}, {"type": "para", "indent": 4, "text": ["Referencing is useful to re-use smaller individual assets into a larger scene. In particular, ", {"type": "strong", "text": ["referencing is the only way to load the same layer file more than once at different scene graph locations"]}, ". (Because sublayering works on the entire tree, sublayering the same file more than once would have no effect.)"], "extent": [18762, 19081]}, {"type": "box_group", "body": [{"ext": null, "type": "box", "indent": 4, "text": [" Simple trash can asset"], "role": "item", "extent": [19081, 19114], "body": [{"lang": "usd", "type": "pre", "indent": 8, "text": ["\n        #usda 1.0\n        (\n           defaultPrim = \"TrashCan\"\n        )\n\n        def Xform \"TrashCan\" (\n           kind = \"component\"\n        )\n        {\n           def Cylinder \"Can\"\n           {\n               token axis = \"Y\"\n               bool doubleSided = 0\n               double height = 2\n               double radius = 1\n           }\n        }\n        "], "extent": [19114, 19508]}], "container": true}, {"ext": null, "type": "box", "indent": 4, "text": [" File which references the trash can asset 3 times, for 3 different rooms in a set"], "role": "item", "extent": [19508, 19601], "body": [{"lang": "usd", "type": "pre", "indent": 8, "text": ["\n        #usda 1.0\n        ()\n\n        def Xform \"Scene\"\n        {\n           def Xform \"Set\"\n           {\n               def \"BathroomTrashCan\" (\n                   append references = @./trashcan.usda@\n               )\n               {\n                   double3 xformOp:translate = (2, 0, 1.4)\n                   uniform token[] xformOpOrder = [\"xformOp:translate\"]\n               }\n\n               def \"KitchenTrashCan\" (\n                   append references = @./trashcan.usda@\n               )\n               {\n                   double3 xformOp:translate = (16.01, 5, -43.072)\n                   uniform token[] xformOpOrder = [\"xformOp:translate\"]\n               }\n\n               def \"OfficeTrashCan\" (\n                   append references = @./trashcan.usda@\n               )\n               {\n                   double3 xformOp:translate = (-7.12, 0, 11.9)\n                   uniform token[] xformOpOrder = [\"xformOp:translate\"]\n               }\n           }\n        }\n        "], "extent": [19601, 20617]}], "container": true}], "container": true, "role": "item_group"}, {"type": "para", "indent": 4, "text": [{"scheme": "Smallicon", "value": "MISC/logo", "type": "link", "text": "", "fullpath": "/solaris/MISC/logo.html"}, " The ", {"scheme": "Node", "value": "/nodes/lop/reference", "type": "link", "text": ["Reference LOP"], "fullpath": "/nodes/lop/reference.html"}, " and ", {"scheme": "Node", "value": "/nodes/lop/stagemanager", "type": "link", "text": ["Stage Manager LOP"], "fullpath": "/nodes/lop/stagemanager.html"}, " create references. The ", {"scheme": "Node", "value": "/nodes/lop/graftstages", "type": "link", "text": ["Graft Stages LOP"], "fullpath": "/nodes/lop/graftstages.html"}, " is similar, but instead of referencing from a file, it inserts a branch into the scene graph tree from elsewhere in the LOP network."], "extent": [20617, 20926]}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Tips"], "extent": [310, 321], "body": [{"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": ["If the prim you want to reference onto already has an existing reference, the new reference will be composed ", {"type": "em", "text": ["with any existing references"]}, ". See the ", {"type": "ui", "text": ["Pre-operation"]}, " parameter for how to clear existing references before adding a new one."], "extent": [321, 565]}], "container": true}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["How to"], "extent": [565, 578], "body": [{"type": "para", "indent": 0, "text": ["The ", {"type": "q", "text": ["target"]}, " that gets referenced onto a primitive in the scene graph tree is often in an external file, however this node can also reference a prim in the output of another LOP node."], "extent": [578, 764]}, {"type": "task_group", "body": [{"ext": null, "type": "task", "indent": 0, "text": [" Reference a prim in an external file"], "role": "item", "extent": [764, 810], "body": [{"type": "ord_group", "body": [{"blevel": 6, "type": "ord", "indent": 4, "text": ["Set the ", {"type": "ui", "text": ["Primitive path"]}, " to the scene graph path at which the referenced prim should be attached."], "extent": [810, 917]}, {"blevel": 6, "type": "ord", "indent": 4, "text": ["Set the ", {"type": "ui", "text": ["Reference type"]}, " to ", {"type": "q", "text": ["Reference files"]}, " or ", {"type": "q", "text": ["Payload files"]}, " (see ", {"scheme": null, "value": "/solaris/usd#payloads", "type": "link", "text": ["payloads"], "fullpath": "/solaris/usd.html#payloads", "fragment": "#payloads"}, " for more information)."], "extent": [917, 1052]}, {"blevel": 6, "type": "ord", "indent": 4, "text": ["Set the ", {"type": "ui", "text": ["Reference file"]}, " to the file path of the USD file to reference in."], "extent": [1052, 1136]}, {"blevel": 6, "type": "ord", "indent": 4, "text": ["Use the ", {"type": "ui", "text": ["Reference primitive"]}, " pop-up menu if you want to choose the prim in the external file to load in."], "extent": [1136, 1251]}, {"blevel": 6, "type": "ord", "indent": 4, "text": ["Usually you can leave ", {"type": "ui", "text": ["Reference primitive"]}, " set to ", {"type": "q", "text": ["Reference automatically chosen primitive"]}, ". If you want to import a specific prim, change ", {"type": "ui", "text": ["Reference primitive"]}, " to ", {"type": "q", "text": ["Reference specific primitive"]}, " and enter the prim path in ", {"type": "ui", "text": ["Reference primitive path"]}, "."], "extent": [1251, 1516]}], "container": true}], "container": true}, {"ext": null, "type": "task", "indent": 0, "text": [" Reference a prim from the output of a LOP node"], "role": "item", "extent": [1516, 1572], "body": [{"type": "ord_group", "body": [{"blevel": 6, "type": "ord", "indent": 4, "text": ["Connect the LOP node containing the stage you want to reference to this node\u2019s multi-input."], "extent": [1572, 1671]}, {"blevel": 6, "type": "ord", "indent": 4, "text": ["Set the ", {"type": "ui", "text": ["Reference type"]}, " to ", {"type": "q", "text": ["Reference from multi-input"]}, "."], "extent": [1671, 1738]}, {"blevel": 6, "type": "ord", "indent": 4, "text": ["Set the ", {"type": "ui", "text": ["Reference primitive"]}, " to ", {"type": "q", "text": ["Reference specific primitive"]}, "."], "extent": [1738, 1812]}, {"blevel": 6, "type": "ord", "indent": 4, "text": ["For a single addition, you can set the ", {"type": "ui", "text": ["Reference primitive path"]}, " to the prim to import."], "extent": [1812, 1910], "body": [{"type": "para", "indent": 8, "text": ["If you have multiple inputs connected to this node\u2019s multi-input:"], "extent": [1910, 1985]}, {"type": "bullet_group", "body": [{"blevel": 10, "type": "bullet", "indent": 8, "text": ["You can set ", {"type": "ui", "text": ["Reference primitive path"]}, " to a scene graph path to import from the same prim in all inputs, or write an expression which is evaluated from each input connected to this node\u2019s multi-input. In the expression, you can use the ", {"type": "code", "text": ["@input"]}, " local variable (", {"type": "code", "text": ["$IIDX"]}, " is deprecated) for the current input index (starting at ", {"type": "code", "text": ["1"]}, "). (Remember that in string parameters, you must enclose expressions in backticks.)"], "extent": [1985, 2410]}, {"blevel": 10, "type": "bullet", "indent": 8, "text": ["Next to each input in the table below the parameters, click in the Reference Primitive Path and enter the scene graph path of the prim you want to reference in from that input. If an input has a Reference Path in the table, it ignores the value of the ", {"type": "ui", "text": ["Reference primitive path"]}, " parameter."], "extent": [2410, 2713]}], "container": true}], "container": true}], "container": true}], "container": true}, {"ext": null, "type": "task", "indent": 0, "text": [" Reference another prim in the scene graph tree in the first input"], "role": "item", "extent": [2713, 2792], "body": [{"type": "ord_group", "body": [{"blevel": 6, "type": "ord", "indent": 4, "text": ["Set the ", {"type": "ui", "text": ["Primitive path"]}, " to the scene graph path at which the referenced prim should be attached."], "extent": [2792, 2899]}, {"blevel": 6, "type": "ord", "indent": 4, "text": ["Set the ", {"type": "ui", "text": ["Reference type"]}, " to ", {"type": "q", "text": ["Reference from first input"]}, ", ", {"type": "q", "text": ["Inherits from first input"]}, ", or ", {"type": "q", "text": ["Specialize from first input"]}, ", depending on the type of composition you want. See ", {"scheme": null, "value": "/solaris/usd#inherits", "type": "link", "text": ["inherits and specializes"], "fullpath": "/solaris/usd.html#inherits", "fragment": "#inherits"}, " for more information about how these choices differ from a simple reference."], "extent": [2899, 3206]}, {"blevel": 6, "type": "ord", "indent": 4, "text": ["Set ", {"type": "ui", "text": ["Reference primitive"]}, " to ", {"type": "q", "text": ["Reference specific primitive"]}, "."], "extent": [3206, 3276]}, {"blevel": 6, "type": "ord", "indent": 4, "text": ["Set ", {"type": "ui", "text": ["Reference primitive path"]}, " to the scene graph path of the prim you want to reference in."], "extent": [3276, 3378]}], "container": true}], "container": true}, {"ext": null, "type": "task", "indent": 0, "text": [" Block all existing references"], "role": "item", "extent": [3378, 3417], "body": [{"type": "ord_group", "body": [{"blevel": 6, "type": "ord", "indent": 4, "text": ["Set the ", {"type": "ui", "text": ["Primitive path"]}, " to the scene graph path of the prim that currently has a reference you want to block."], "extent": [3417, 3537]}, {"blevel": 6, "type": "ord", "indent": 4, "text": ["Set the ", {"type": "ui", "text": ["Pre-operaiton"]}, " menu to ", {"type": "q", "text": ["Clear all references"]}, "."], "extent": [3537, 3602]}], "container": true}], "container": true}, {"ext": null, "type": "task", "indent": 0, "text": [" Block one existing reference"], "role": "item", "extent": [3602, 3640], "body": [{"type": "ord_group", "body": [{"blevel": 6, "type": "ord", "indent": 4, "text": ["Set the ", {"type": "ui", "text": ["Primitive path"]}, " to the scene graph path of the prim with the reference you want to remove."], "extent": [3640, 3749]}, {"blevel": 6, "type": "ord", "indent": 4, "text": ["Set the parameters to specify the reference you want to remove. For example, if you want to remove a reference to the file ", {"type": "code", "text": ["lamp.usd"]}, ", set ", {"type": "ui", "text": ["Reference type"]}, " to ", {"type": "q", "text": ["Reference files"]}, " and ", {"type": "ui", "text": ["Reference file"]}, " to ", {"type": "code", "text": ["lamp.usd"]}, "."], "extent": [3749, 3973]}, {"blevel": 6, "type": "ord", "indent": 4, "text": ["Set ", {"type": "ui", "text": ["Reference operation"]}, " to ", {"type": "q", "text": ["Remove references"]}, "."], "extent": [3973, 4033]}], "container": true}], "container": true}], "container": true, "role": "item_group"}]}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [4033, 4045], "body": [{"level": 4, "type": "sep", "indent": 0, "text": [" Destination Primitive "], "extent": [4045, 4078]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Primitives"], "extent": [4078, 4091], "body": [{"type": "para", "indent": 4, "text": ["In edit mode, the node has this parameter to specify any number of existing primitives. This lets you specify the prim(s) the node should operate on. You can click the select button beside the text box to select the primitives from the scene graph tree. You can also use ", {"scheme": null, "value": "/solaris/pattern", "type": "link", "text": ["primitive patterns"], "fullpath": "/solaris/pattern.html"}, " for advanced matching, including matching all prims in a collection."], "extent": [4113, 4496]}], "container": true, "attrs": {"id": "primpattern"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Primitive Path"], "extent": [4496, 4512], "body": [{"type": "para", "indent": 4, "text": ["In create mode, the node has this parameter to specify a single primitive path. This is the scene graph path where the referenced branch will be attached. The referenced prim will be overlayed onto this prim, and the referenced prim\u2019s descendants will become this prim\u2019s descendants. If this prim doesn\u2019t exist, the node will create it."], "extent": [4531, 4873]}], "container": true, "attrs": {"id": "primpath"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Action"], "extent": [4873, 4881], "body": [{"type": "para", "indent": 4, "text": ["Whether this node should create a new prim, or edit existing prims. Create mode will also edit a prim if it already exists, but only a single prim can be specified in that mode. Edit mode allows for adding references to any number of prims with one node."], "extent": [4903, 5163]}], "container": true, "attrs": {"id": "createprims"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Primitive Kind"], "extent": [5163, 5179], "body": [{"type": "para", "indent": 4, "text": ["If the prim at ", {"type": "ui", "text": ["Primitive path"]}, " doesn\u2019t exist, this node will create it. If it has to create the prim, it will set it to have this ", {"scheme": null, "value": "/solaris/usd#kinds", "type": "link", "text": ["kind"], "fullpath": "/solaris/usd.html#kinds", "fragment": "#kinds"}, "."], "extent": [5198, 5363]}], "container": true, "attrs": {"id": "primkind"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Parent Primitive Type"], "extent": [5363, 5386], "body": [{"type": "para", "indent": 4, "text": ["If the prim at ", {"type": "ui", "text": ["Primitive path"]}, " doesn\u2019t exist, this node will create it. If it has to create the prim, it will give any intermediate prims it has to create this type."], "extent": [5411, 5585]}], "container": true, "attrs": {"id": "parentprimtype"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Make Instanceable"], "extent": [5585, 5604], "body": [{"type": "para", "indent": 4, "text": ["Mark the new or modified prims as ", {"scheme": null, "value": "/solaris/usd#instancing", "type": "link", "text": ["instanceable (as in ", {"type": "q", "text": ["native instancing"]}, ")"], "fullpath": "/solaris/usd.html#instancing", "fragment": "#instancing"}, ". This saves memory if you reference the same branch into multiple places, but makes the descendants of the referenced prim not editable. If this option is off, the prims are not explicitly marked as not instanceable. Instead, the current instanceable value on each prim is left unchanged."], "extent": [5631, 6027]}], "container": true, "attrs": {"id": "instanceable"}, "role": "item"}], "container": true, "role": "item_group"}, {"level": 4, "type": "sep", "indent": 0, "text": [" Composition "], "extent": [6027, 6049]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Reference Type"], "extent": [6049, 6066], "body": [{"type": "para", "indent": 4, "text": ["The type of composition arc to create to the referenced prim."], "extent": [6066, 6133]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Reference Files"], "extent": [6133, 6154], "body": [{"type": "para", "indent": 8, "text": ["Reference in a prim from an external USD file."], "extent": [6154, 6210]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Payload Files"], "extent": [6210, 6229], "body": [{"type": "para", "indent": 8, "text": ["Reference in a prim from an external USD file as a ", {"scheme": null, "value": "/solaris/usd#payloads", "type": "link", "text": ["payload"], "fullpath": "/solaris/usd.html#payloads", "fragment": "#payloads"}, "."], "extent": [6229, 6322]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Reference From Multi-input"], "extent": [6322, 6354], "body": [{"type": "para", "indent": 8, "text": ["Reference in a prim from one of the nodes connected to this node\u2019s multi-input."], "extent": [6354, 6443]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Payload From Multi-input"], "extent": [6443, 6473], "body": [{"type": "para", "indent": 8, "text": ["Reference in a prim from one of the nodes connected to this node\u2019s multi-input as a ", {"scheme": null, "value": "/solaris/usd#payloads", "type": "link", "text": ["payload"], "fullpath": "/solaris/usd.html#payloads", "fragment": "#payloads"}, "."], "extent": [6473, 6599]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Reference From First Input"], "extent": [6599, 6631], "body": [{"type": "para", "indent": 8, "text": ["Reference in another prim from the scene graph tree in the first input."], "extent": [6631, 6712]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Inherit From First Input"], "extent": [6712, 6742], "body": [{"type": "para", "indent": 8, "text": ["Create an ", {"type": "q", "text": ["inherits"]}, " composition arc to another prim from the scene graph tree (in the first input)."], "extent": [6742, 6852]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Specialize From First Input"], "extent": [6852, 6885], "body": [{"type": "para", "indent": 8, "text": ["Creates a ", {"type": "q", "text": ["specializes"]}, " composition arc to another prim from the scene graph tree (in the first input)."], "extent": [6885, 6998]}], "container": true}], "container": true}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Handle Missing Files"], "extent": [6998, 7020], "body": [{"type": "para", "indent": 4, "text": ["If the reference is to an external file, this controls what the node does if the referenced file does not exist."], "extent": [7020, 7138]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Error for Missing Files"], "extent": [7138, 7167], "body": [{"type": "para", "indent": 8, "text": ["The node errors, preventing cooking the rest of the network."], "extent": [7167, 7241]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Warn for Missing Files"], "extent": [7241, 7269], "body": [{"type": "para", "indent": 8, "text": ["The node shows a warning, then passes through the first input unchanged."], "extent": [7269, 7355]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Ignore Missing Files"], "extent": [7355, 7381], "body": [{"type": "para", "indent": 8, "text": ["The node silently ignores the missing file, and passes through the first input unchanged."], "extent": [7381, 7480]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Allow Missing Files on the Stage"], "extent": [7480, 7518], "body": [{"type": "para", "indent": 8, "text": ["Author the reference to the sublayer even if it currently doesn\u2019t exist. This node and the following nodes will probably print warnings from the USD libraries about missing files."], "extent": [7518, 7707]}], "container": true}], "container": true}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Pre-Operation"], "extent": [7707, 7722], "body": [{"type": "para", "indent": 4, "text": ["If you set this to a value other than ", {"type": "q", "text": ["No pre-opertation"]}, ", the node clears existing references on the node."], "extent": [7722, 7835]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["No Pre-Operation"], "extent": [7835, 7857], "body": [{"type": "para", "indent": 8, "text": ["Do not clear existing references on the prim at ", {"type": "ui", "text": ["Primitive path"]}, "."], "extent": [7857, 7934]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Clear Reference Edits in Active Layer"], "extent": [7934, 7977], "body": [{"type": "para", "indent": 8, "text": ["Clear any additions or removals to the list of references on this prim made ", {"type": "em", "text": ["in the currently active layer"]}, "."], "extent": [7977, 8095]}, {"type": "para", "indent": 8, "text": [{"type": "strong", "text": ["This is not a non-destructive USD edit"]}, ". It\u2019s more like undo-ing any changes from previous nodes that are currently ", {"type": "q", "text": ["pending"]}, " in the active layer."], "extent": [8095, 8252]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Clear All References"], "extent": [8252, 8278], "body": [{"type": "para", "indent": 8, "text": ["Authors an override of the specified reference type which masks all existing references on this primitive, regardless of the layer in which they were authored. This provides a blank slate so that only the references specified by this node will remain."], "extent": [8278, 8539]}], "container": true}], "container": true}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Reference Operation"], "extent": [8539, 8560], "body": [{"type": "para", "indent": 4, "text": ["How new references added by this node interact with existing references on the prim at ", {"type": "ui", "text": ["Primitive path"]}, "."], "extent": [8560, 8672]}, {"type": "para", "indent": 4, "text": ["When editing references on a primitive, you are really making edits to a list. These edits are expressed as adding to the beginning or the end of the list created by composing all weaker layers, or by explicitly removing certain items from the list."], "extent": [8672, 8927]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Add as Strongest References in Prepend List"], "extent": [8927, 8976], "body": [{"type": "para", "indent": 8, "text": ["Make new references stronger than any references from lower layers, and stronger than any previous ", {"type": "q", "text": ["prepend"]}, " edits in the currently active layer."], "extent": [8976, 9131]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Add as Weakest References in Prepend List"], "extent": [9131, 9178], "body": [{"type": "para", "indent": 8, "text": ["Make new references stronger than any references from lower layers, but weaker than any previous ", {"type": "q", "text": ["prepend"]}, " edits in the currently active layer."], "extent": [9178, 9331]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Add as Strongest References in Append List"], "extent": [9331, 9379], "body": [{"type": "para", "indent": 8, "text": ["Make new references weaker than any references from lower layers, but stronger than any previous ", {"type": "q", "text": ["append"]}, " edits in the currently active layer."], "extent": [9379, 9531]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Add as Weakest References in Append List"], "extent": [9531, 9577], "body": [{"type": "para", "indent": 8, "text": ["Make new references weaker than any references from lower layers, and weaker than any previous edits in the currently active layer."], "extent": [9577, 9718]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Remove References"], "extent": [9718, 9741], "body": [{"type": "para", "indent": 8, "text": ["The layers or primitives referenced by this node are removed from the list of references on the destination primitive rather that being added."], "extent": [9741, 9893]}, {"type": "para", "indent": 8, "text": ["Because this removal is expressed as a list edit, you can selectively remove specific layers from the list of references, no matter what layer authored the original reference."], "extent": [9893, 10078]}], "container": true}], "container": true}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Number of Files (in File-based modes and primary input modes)"], "extent": [10078, 10141], "body": [{"type": "para", "indent": 4, "text": ["This node can add multiple references to the specified prim, however the reference type, and operation will be the same for all additions."], "extent": [10141, 10286]}], "container": true, "role": "item"}], "container": true, "role": "item_group"}, {"level": 4, "type": "sep", "indent": 0, "text": [" Reference File "], "extent": [10286, 10311]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Enable"], "extent": [10311, 10320], "body": [{"type": "para", "indent": 4, "text": ["Perform the reference in this instance of the multi-parm."], "extent": [10320, 10383]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Reference File"], "extent": [10383, 10399], "body": [{"type": "para", "indent": 4, "text": ["When ", {"type": "ui", "text": ["Reference type"]}, " is ", {"type": "q", "text": ["Reference files"]}, " or ", {"type": "q", "text": ["Payload files"]}, ", the file path to the file to reference in."], "extent": [10399, 10512]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Reference Primitive"], "extent": [10512, 10533], "body": [{"type": "para", "indent": 4, "text": ["When ", {"type": "ui", "text": ["Reference type"]}, " is ", {"type": "q", "text": ["Reference files"]}, " or ", {"type": "q", "text": ["Payload files"]}, ", this controls which prim to import from the external file. When ", {"type": "ui", "text": ["Reference type"]}, " is ", {"type": "q", "text": ["from first input"]}, " or ", {"type": "q", "text": ["from multi-input"]}, ", you should set this to ", {"type": "q", "text": ["Reference specific primitive"]}, " (the other options are usually pointless in that case)."], "extent": [10533, 10841]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Reference Automatically Chosen Primitive"], "extent": [10841, 10887], "body": [{"type": "para", "indent": 8, "text": ["If the referenced file has a ", {"scheme": null, "value": "/solaris/usd#default_prim", "type": "link", "text": ["default primitive"], "fullpath": "/solaris/usd.html#default_prim", "fragment": "#default_prim"}, " set, use that. If there is no default prim, use the first Xform prim at the root. If there is no Xform prim at the root, use the first root prim of any type."], "extent": [10887, 11129]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Reference Default Primitive"], "extent": [11129, 11162], "body": [{"type": "para", "indent": 8, "text": ["If the referenced file has a ", {"scheme": null, "value": "/solaris/usd#default_prim", "type": "link", "text": ["default primitive"], "fullpath": "/solaris/usd.html#default_prim", "fragment": "#default_prim"}, " set, use that. If not, display a warning on this node and ignore this instance of the multi-parm."], "extent": [11162, 11344]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Reference Specific Primitive"], "extent": [11344, 11378], "body": [{"type": "para", "indent": 8, "text": ["Reference in the scene graph path in the ", {"type": "ui", "text": ["Reference primitive path"]}, " parameter."], "extent": [11378, 11468]}], "container": true}], "container": true}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Reference Primitive Path"], "extent": [11468, 11494], "body": [{"type": "para", "indent": 4, "text": ["When ", {"type": "ui", "text": ["Reference primitive"]}, " is ", {"type": "q", "text": ["Reference specific primitive"]}, ", this is the scene graph path to the prim to reference in."], "extent": [11520, 11647]}, {"type": "para", "indent": 4, "text": ["(If you set this field ", {"type": "code", "text": ["automaticPrim"]}, " or ", {"type": "code", "text": ["defaultPrim"]}, ", it mimics the behavior of setting ", {"type": "ui", "text": ["Reference primitive"]}, " to ", {"type": "q", "text": ["Reference automatically chosen primitive"]}, " or ", {"type": "q", "text": ["Reference default primitive"]}, ".)"], "extent": [11647, 11848]}], "container": true, "attrs": {"id": "filerefprimpath"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Time Offset (in Frames)"], "extent": [11848, 11873], "body": [{"type": "para", "indent": 4, "text": ["Offsets all time samples from the file. You can use this to re-time animations in the references file."], "extent": [11894, 12002]}], "container": true, "attrs": {"id": "timeoffset"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Time Scale"], "extent": [12002, 12014], "body": [{"type": "para", "indent": 4, "text": ["Scales all time samples from the file. You can use this to re-time animations in the references file."], "extent": [12034, 12141]}], "container": true, "attrs": {"id": "timescale"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Reload Files"], "extent": [12141, 12155], "body": [{"type": "para", "indent": 4, "text": ["Click to reload the contents of all files imported by this node."], "extent": [12155, 12225]}], "container": true, "role": "item"}], "container": true, "role": "item_group"}], "text": "Parameters"}], "title": ["Reference"], "summary": ["References the contents of an external USD file into a branch of the existing scene graph tree, or removes/replaces existing references."], "included": ["/solaris/usd"]}