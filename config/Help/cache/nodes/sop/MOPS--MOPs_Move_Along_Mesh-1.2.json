{"type": "root", "attrs": {"icon": "/nodes/sop/MOPS--MOPs_Move_Along_Mesh-1.2/mops_modifier_02.svg", "type": "node", "context": "sop", "internal": "MOPs_Move_Along_Mesh", "version": "1.2", "namespace": "MOPS"}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["MOPs Move Along Mesh"], "extent": [0, 28]}, {"type": "summary", "indent": 0, "text": ["Moves MOPs primitives along a polygon mesh surface."], "extent": [66, 125]}, {"type": "para", "indent": 0, "text": ["MOPs Move Along Mesh attaches the input packed primitives onto a template surface, based on proximity to the surface or a random scatter,\nand then optionally slides the primitives over the surface of the mesh. Primitives by default will slide in the local ", {"type": "q", "text": ["up"]}, " direction of the mesh."], "extent": [125, 410]}, {"type": "para", "indent": 0, "text": ["If your template mesh doesn\u2019t already have a defined orientation on its points (via N/up or an orient attribute), consider using MOPs Orient Mesh\nto generate an orientation frame on your mesh before using Move Along Mesh."], "extent": [410, 633]}, {"type": "para", "indent": 0, "text": ["MOPs Move Along Mesh has two ", {"type": "q", "text": ["phases"]}, " of operation: first, the ", {"type": "q", "text": ["Attach"]}, " phase, which determines the initial attachment coordinates for the input packed primitives or points, and then the ", {"type": "q", "text": ["Animate"]}, " phase which determines how the attachment coordinates will change over time. If you just want objects to stick to a mesh, deforming or not, you can skip the ", {"type": "q", "text": ["Animate"]}, " phase entirely."], "extent": [633, 1014]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Overview"], "extent": [1014, 1029], "body": []}, {"level": 1, "id": "inputs", "container": true, "type": "inputs_section", "indent": 0, "role": "section", "extent": [1029, 1038], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 0, "text": ["Packed Primitives"], "extent": [1038, 1058], "body": [{"type": "para", "indent": 4, "text": ["The input packed primitives to slide over a surface."], "extent": [1058, 1120]}], "container": true}, {"type": "dt", "indent": 0, "text": ["Mesh to Attach to"], "extent": [1120, 1139], "body": [{"type": "para", "indent": 4, "text": ["The polygon surface to slide primitives over. The mesh must have defined v@N and v@up attributes. Consider using MOPs Orient Mesh to create them if they don\u2019t exist."], "extent": [1139, 1314]}], "container": true}], "container": true}], "text": "Inputs"}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [1314, 1326], "body": [{"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["General"], "extent": [1326, 1341], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Group"], "extent": [1341, 1349], "body": [{"type": "para", "indent": 4, "text": ["The group of primitives to slide over the surface."], "extent": [1368, 1428]}], "container": true, "attrs": {"id": "group_all"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Attach"], "extent": [1428, 1441], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Attach Mode"], "extent": [1441, 1463], "body": [{"type": "para", "indent": 4, "text": ["The method by which the initial attachment coordinates are defined. Attachment happens at the ", {"type": "q", "text": ["Attach Time"]}, " parameter\u2019s specified frame. There are three possible modes:"], "extent": [1484, 1657]}, {"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Nearest Surface: The nearest coordinate on the target mesh to each packed primitive or point is used as the attach point."], "extent": [1657, 1785]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Scatter: Coordinates are randomly determined on the target mesh, using the Scatter SOP."], "extent": [1785, 1879]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Attributes: Point attributes on the input packed primitives or points are used to determine the primitive number to attach to, and the parametric UV coordinates on that primitive. Note that parametric UVs are not the same as texture UVs. See the ", {"scheme": null, "value": "https://www.sidefx.com/docs/houdini/model/primitive_spaces.html", "type": "link", "text": ["documentation"], "exists": true}, " on parametric UVs."], "extent": [1879, 2235]}], "container": true}], "container": true, "attrs": {"id": "attach_mode"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Attach Time"], "extent": [2235, 2248], "body": [{"type": "para", "indent": 4, "text": ["The frame to use as the ", {"type": "q", "text": ["rest"]}, " frame for the attachment phase. The initial attachment position and orientation will be derived based on the mesh\u2019s shape at this frame."], "extent": [2267, 2444]}], "container": true, "attrs": {"id": "ref_frame"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Maintain Offset"], "extent": [2444, 2461], "body": [{"type": "para", "indent": 4, "text": ["How much to maintain each packed primitive\u2019s current position from the ", {"type": "q", "text": ["attach"]}, " point on the target mesh. A value of 1 means that the packed primitive will not move from its original position at the Attach Time. This offset vector is interpolated as the mesh deforms or the packed primitive moves, keeping its distance from the mesh."], "extent": [2481, 2824]}], "container": true, "attrs": {"id": "pos_offset"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Maintain Orient Offset"], "extent": [2824, 2848], "body": [{"type": "para", "indent": 4, "text": ["How much to maintain each packed primitive\u2019s current orientation as compared to that of the ", {"type": "q", "text": ["attach"]}, " point on the target mesh. A value of 1 means that the packed primitive will not change its orientation at the Attach Time. This offset quaternion is interpolated as the mesh deforms or the packed primitive moves."], "extent": [2871, 3190]}], "container": true, "attrs": {"id": "orient_offset"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Visualize Offset"], "extent": [3190, 3208], "body": [{"type": "para", "indent": 4, "text": ["Display the Maintain Offset vector in the viewport. This can be a useful guide for debugging object motion if they're not moving as you'd expect."], "extent": [3234, 3389]}], "container": true, "attrs": {"id": "visualize_offset"}, "role": "item"}], "container": true, "role": "item_group"}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Nearest Surface"], "extent": [3389, 3413], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Search Distance"], "extent": [3413, 3431], "body": [{"type": "para", "indent": 4, "text": ["In Nearest Surface mode, the maximum distance from each packed primitive or point to search for a position on the target mesh. Higher distances can take longer to compute, especially with many points."], "extent": [3453, 3663]}], "container": true, "attrs": {"id": "max_distance"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Scatter"], "extent": [3663, 3679], "body": [{"type": "para", "indent": 0, "text": ["See the Scatter SOP for details."], "extent": [3679, 3714]}]}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Attributes"], "extent": [3714, 3733], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Prim Number Attribute"], "extent": [3733, 3761], "body": [{"type": "para", "indent": 4, "text": ["In Attributes mode, the integer point attribute that defines what primitive on the mesh each packed primitive or point should be attached to."], "extent": [3782, 3933]}], "container": true, "attrs": {"id": "srcattribs1"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Prim UV Attribute"], "extent": [3933, 3952], "body": [{"type": "para", "indent": 4, "text": ["In Attribute mode, the vector point attribute that defines the parametric UV coordinates on the mesh primitive that each packed primitive or point should be attached to."], "extent": [3973, 4152]}], "container": true, "attrs": {"id": "srcattribs2"}, "role": "item"}], "container": true, "role": "item_group"}]}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Animate"], "extent": [4152, 4166], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Enable Simulation"], "extent": [4166, 4186], "body": [{"type": "para", "indent": 4, "text": ["If enabled, the attached packed primitives will animate over the surface."], "extent": [4209, 4292]}], "container": true, "attrs": {"id": "do_simulation"}, "role": "item"}], "container": true, "role": "item_group"}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Options"], "extent": [4292, 4308], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Forward Vector"], "extent": [4308, 4325], "body": [{"type": "para", "indent": 4, "text": ["The direction packed primitives should move in, according to the mesh\u2019s local orientation. If you orient the mesh using MOPs Orient Mesh, the default value corresponds to the yellow vector visualization on that SOP."], "extent": [4349, 4574]}], "container": true, "attrs": {"id": "forward_vector"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Speed"], "extent": [4574, 4581], "body": [{"type": "para", "indent": 4, "text": ["The distance each primitive should move each timestep. If Falloff is enabled, this distance is scaled by each primitive\u2019s falloff attribute value."], "extent": [4596, 4752]}], "container": true, "attrs": {"id": "speed"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Rand Speed"], "extent": [4752, 4764], "body": [{"type": "para", "indent": 4, "text": ["If greater than zero, a random value from -N to +N to add to the Speed value for each primitive."], "extent": [4784, 4890]}], "container": true, "attrs": {"id": "rand_speed"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Seed"], "extent": [4890, 4896], "body": [{"type": "para", "indent": 4, "text": ["The random seed to use for picking the Rand Speed."], "extent": [4911, 4971]}], "container": true, "attrs": {"id": "seed2"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Enable Falloff"], "extent": [4971, 4987], "body": [{"type": "para", "indent": 4, "text": ["If enabled, scale Speed by the falloff attribute value."], "extent": [5007, 5072]}], "container": true, "attrs": {"id": "do_falloff"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Falloff Attribute"], "extent": [5072, 5091], "body": [{"type": "para", "indent": 4, "text": ["The point attribute to use as the falloff attribute."], "extent": [5112, 5174]}], "container": true, "attrs": {"id": "srcattribs3"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Blend In Orient"], "extent": [5174, 5191], "body": [{"type": "para", "indent": 4, "text": ["The percentage of the orientation of the mesh to blend into the packed primitive orientation at each timestep. This makes the packed primitives naturally turn in to follow their direction of motion along the mesh. A value of zero means that their orientation will not change during animation."], "extent": [5216, 5518]}], "container": true, "attrs": {"id": "blend_in_orient"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Project Distance"], "extent": [5518, 5536], "body": [{"type": "para", "indent": 4, "text": ["After each primitive moves, the point representing it is ", {"type": "q", "text": ["reprojected"]}, " back onto the mesh in order to keep it fully attached, and the position and orientation are updated based on this reprojection. This parameter controls the maximum distance that each primitive will search to find the nearest point on the mesh. Higher values can take more time to compute."], "extent": [5562, 5931]}, {"type": "tip_group", "body": [{"type": "tip", "indent": 4, "role": "item", "extent": [5931, 5940], "body": [{"type": "para", "indent": 8, "text": ["This value needs to be larger than the maximum possible Speed value of any given point, or there\u2019s a chance this step will fail."], "extent": [5940, 6076]}], "container": true}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "project_distance"}, "role": "item"}], "container": true, "role": "item_group"}]}]}], "text": "Parameters"}], "title": ["MOPs Move Along Mesh"], "summary": ["Moves MOPs primitives along a polygon mesh surface."]}