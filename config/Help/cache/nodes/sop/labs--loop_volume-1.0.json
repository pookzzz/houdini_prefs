{"type": "root", "attrs": {"type": "node", "context": "sop", "internal": "labs::loop_volume::1.0", "icon": "/labs_icons/sidefxlabs_default.svg", "since": "20.0", "version": "1.0", "namespace": "labs"}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["Labs Loop Volume"], "extent": [128, 149]}, {"type": "summary", "indent": 0, "text": ["Takes one or two input volume sequences and creates a seamlessly looping volume animation."], "extent": [149, 248]}, {"type": "para", "indent": 0, "text": ["This node generates a seamlessly looping volume animation from one or two input volume sequences. It works on both Houdini native volumes and VDBs."], "extent": [248, 397]}, {"type": "para", "indent": 0, "text": ["The seamless looping is achieved by blending a base sequence with an overlay sequence. The base sequence starts and ends at the start and end of the frame range. The overlay sequence is offset by half the frame range, so it starts at the midpoint, loops back around, and ends at the midpoint again."], "extent": [397, 697]}, {"type": "para", "indent": 0, "text": ["The two sequences cross-fade into each other in a way that masks out any abrupt visual transition. The base sequence approaches 0 blend weight at the start and end of the frame range, while the overlay sequence approaches 0 blend weight at the midpoint."], "extent": [697, 952]}, {"type": "tip_group", "body": [{"type": "tip", "indent": 0, "role": "item", "extent": [952, 957], "body": [{"type": "para", "indent": 4, "text": ["When ", {"type": "ui", "text": ["Overlay Sequence"]}, " is ", {"type": "ui", "text": ["Self"]}, ", in other words, when the overlay sequence is the same as the base sequence, there will be two visually repeating cycles in the loop."], "extent": [957, 1134]}, {"type": "para", "indent": 4, "text": ["For less visual repetition, it is better to set ", {"type": "ui", "text": ["Overlay Sequence"]}, " to ", {"type": "ui", "text": ["Second Input"]}, " and connect a custom time-shifted version of the input animation, or an entirely different animation, to this node\u2019s second input."], "extent": [1134, 1359]}], "container": true}], "container": true, "role": "item_group"}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Visibility Estimation for Vector Fields"], "extent": [1359, 1405], "body": [{"type": "para", "indent": 0, "text": ["Vector field values are not blended because blending vectors can often produce meaningless ", {"type": "q", "text": ["grey"]}, " values. So instead, they are selectively copied from either the base or the overlay sequence. "], "extent": [1405, 1600]}, {"type": "para", "indent": 0, "text": ["For diffuse color, each voxel copies the value from the sequence with the higher density at that location. "], "extent": [1600, 1709]}, {"type": "para", "indent": 0, "text": ["For velocity and emission color, each voxel copies the value from the sequence with the higher visibility at that location. Visibility is estimated on a per-voxel basis as a weighted sum of density, temperature, flame, and scatter values."], "extent": [1709, 1950]}]}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [1950, 1962], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Frame Range"], "extent": [1962, 1980], "body": [{"type": "para", "indent": 8, "text": ["The output frame range, relatively to the global timeline."], "extent": [1995, 2071]}], "container": true, "attrs": {"id": "f"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Overlay Sequence"], "extent": [2071, 2093], "body": [{"type": "para", "indent": 8, "text": ["The source of the overlay sequence. For less visual repetition, it is better to set this to ", {"type": "ui", "text": ["Second Input"]}, " and connect a custom time-shifted version of the input animation, or an entirely different animation, to this node\u2019s second input."], "extent": [2120, 2369]}, {"type": "para", "indent": 8, "text": [{"type": "ui", "text": ["Self"]}, ": Uses this node\u2019s first input as both the base sequence and the overlay sequence."], "extent": [2369, 2481]}, {"type": "para", "indent": 8, "text": [{"type": "ui", "text": ["Second Input"]}, ": Uses this node\u2019s second input as the overlay sequence and the first input as the base sequence."], "extent": [2481, 2616]}], "container": true, "attrs": {"id": "overlaysource"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Blend Mode"], "extent": [2616, 2632], "body": [{"type": "para", "indent": 8, "text": ["Controls how scalar fields from the base and overlay sequences are blended together. The cross-fade blend weights are applied to each sequence prior to this step."], "extent": [2655, 2827]}, {"type": "para", "indent": 8, "text": [{"type": "ui", "text": ["Add"]}, ": Outputs the sum of the weighted voxel values from the two sequences."], "extent": [2827, 2926]}, {"type": "para", "indent": 8, "text": [{"type": "ui", "text": ["Maximum"]}, ": Outputs the maximum of the weighted voxel values from the two sequences."], "extent": [2926, 3033]}, {"type": "para", "indent": 8, "text": [{"type": "ui", "text": ["Average"]}, ": Outputs the average of the weighted voxel values from the two sequences."], "extent": [3033, 3140]}], "container": true, "attrs": {"id": "blendmode"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Density Affects Cross-Fade Curves"], "extent": [3140, 3179], "body": [{"type": "para", "indent": 8, "text": ["Allows the density fields to the influence cross-fade speed by using two sets of cross-fade ramps. Each voxel\u2019s final blend weights, at any given time, are interpolated between the lower-density and higher-density cross-fade ramps, based on where the input density values lie within ", {"type": "ui", "text": ["Density Range"]}, ". When this is on, the default ramp settings make the denser areas in the volume fade in and out faster."], "extent": [3207, 3629]}], "container": true, "attrs": {"id": "nonuniformfade"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Density Range"], "extent": [3629, 3648], "body": [{"type": "para", "indent": 8, "text": ["Theoretically, this should be the density range of the input volume sequences. But since this is used to determine the final blend weights when ", {"type": "ui", "text": ["Density Affects Cross-Fade Curves"]}, " is on, you can artificially change this range to bias the results towards the lower-density or higher-density cross-fade ramps. (When the input density values are outside this range, they are considered clamped.)"], "extent": [3674, 4086]}], "container": true, "attrs": {"id": "densityrange"}, "role": "item"}], "container": true, "role": "item_group"}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 4, "text": ["Sequence Cross-Fade"], "extent": [4086, 4116], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Base Sequence Cross-Fade"], "extent": [4116, 4147], "body": [{"type": "para", "indent": 8, "text": ["The blend weights of the base sequence across the frame range. When ", {"type": "ui", "text": ["Density Affects Cross-Fade Curves"]}, " is on, this defines the cross-fade curve for the lower end of the density range. Steeper slopes mean faster fades."], "extent": [4171, 4409]}], "container": true, "attrs": {"id": "blendrampa"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Overlay Sequence Cross-Fade"], "extent": [4409, 4442], "body": [{"type": "para", "indent": 8, "text": ["The blend weights of the overlay sequence across the frame range. When ", {"type": "ui", "text": ["Density Affects Cross-Fade Curves"]}, " is on, this defines the cross-fade curve for the lower end of the density range. Steeper slopes mean faster fades."], "extent": [4466, 4707]}], "container": true, "attrs": {"id": "blendrampb"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Base Sequence Cross-Fade"], "extent": [4707, 4737], "body": [{"type": "para", "indent": 8, "text": ["The blend weights of the base sequence across the frame range. This defines the cross-fade curve for the higher end of the density range. Steeper slopes mean faster fades."], "extent": [4766, 4955]}], "container": true, "attrs": {"id": "blendrampa_high"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Overlay Sequence Cross-Fade"], "extent": [4955, 4988], "body": [{"type": "para", "indent": 8, "text": ["The blend weights of the overlay sequence across the frame range. This defines the cross-fade curve for the higher end of the density range. Steeper slopes mean faster fades."], "extent": [5017, 5209]}], "container": true, "attrs": {"id": "blendrampb_high"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 4, "text": ["Advanced"], "extent": [5209, 5228], "body": [{"level": 3, "id": null, "container": true, "type": "h", "indent": 4, "text": ["Visibility Estimation"], "extent": [5228, 5263], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Density Weight"], "extent": [5263, 5284], "body": [{"type": "para", "indent": 8, "text": ["Determines how much the density field contributes to visibility estimation. Please see the ", {"type": "ui", "text": ["Visibility Estimation for Vector Fields"]}, " section of the Help Page for more information."], "extent": [5310, 5509]}], "container": true, "attrs": {"id": "visw_density"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Temperature Weight"], "extent": [5509, 5533], "body": [{"type": "para", "indent": 8, "text": ["Determines how much the temperature field contributes to visibility estimation."], "extent": [5556, 5653]}], "container": true, "attrs": {"id": "visw_temp"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Flame Weight"], "extent": [5653, 5671], "body": [{"type": "para", "indent": 8, "text": ["Determines how much the flame field contributes to visibility estimation."], "extent": [5695, 5786]}], "container": true, "attrs": {"id": "visw_flame"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Scatter Weight"], "extent": [5786, 5806], "body": [{"type": "para", "indent": 8, "text": ["Determines how much the scatter field contributes to visibility estimation."], "extent": [5832, 5925]}], "container": true, "attrs": {"id": "visw_scatter"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Preview Motion Vectors"], "extent": [5925, 5953], "body": [{"type": "para", "indent": 8, "text": ["Previews motion vector visualization. This can help you adjust the visibility estimation weights."], "extent": [5976, 6091]}], "container": true, "attrs": {"id": "previewmv"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 4, "text": ["Volume Bindings"], "extent": [6091, 6119], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Density Volume"], "extent": [6119, 6140], "body": [{"type": "para", "indent": 8, "text": ["The name of the density volume."], "extent": [6165, 6214]}], "container": true, "attrs": {"id": "vol_density"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Diffuse Color Volume"], "extent": [6214, 6240], "body": [{"type": "para", "indent": 8, "text": ["The name of the diffuse color volume."], "extent": [6260, 6315]}], "container": true, "attrs": {"id": "vol_cd"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Temperature Volume"], "extent": [6315, 6339], "body": [{"type": "para", "indent": 8, "text": ["The name of the temperature volume."], "extent": [6361, 6406]}], "container": true, "attrs": {"id": "vol_temp"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Flame Volume"], "extent": [6406, 6424], "body": [{"type": "para", "indent": 8, "text": ["The name of the flame volume."], "extent": [6447, 6494]}], "container": true, "attrs": {"id": "vol_flame"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Scatter Volume"], "extent": [6494, 6514], "body": [{"type": "para", "indent": 8, "text": ["The name of the scatter volume."], "extent": [6539, 6588]}], "container": true, "attrs": {"id": "vol_scatter"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Emission Color Volume"], "extent": [6588, 6615], "body": [{"type": "para", "indent": 8, "text": ["The name of the emission color volume."], "extent": [6635, 6691]}], "container": true, "attrs": {"id": "vol_ce"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Velocity Volume"], "extent": [6691, 6712], "body": [{"type": "para", "indent": 8, "text": ["The name of the velocity volume."], "extent": [6733, 6783]}], "container": true, "attrs": {"id": "vol_vel"}, "role": "item"}], "container": true, "role": "item_group"}]}]}], "text": "Parameters"}, {"level": 1, "id": "examples", "container": true, "type": "examples_section", "indent": 0, "role": "section", "extent": [6783, 6793], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": null, "value": "https://github.com/sideeffects/SideFXLabs/blob/Development/hip/examples/loop_volume/loop_volume.1.0.hip", "type": "link", "text": ["Example File"], "exists": true}], "extent": [6793, 6920]}], "container": true}], "text": "Examples"}], "title": ["Labs Loop Volume"], "summary": ["Takes one or two input volume sequences and creates a seamlessly looping volume animation."]}