{"type": "root", "attrs": {"icon": "SOP/popnet", "context": "sop", "type": "node", "internal": "poppost_ql", "version": "1", "namespace": "qLib"}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["POP Post Process qL"], "extent": [45, 69]}, {"type": "para", "indent": 0, "text": [{"type": "strong", "text": ["interface version 1"]}], "extent": [69, 93]}, {"type": "summary", "indent": 0, "text": ["Post-processes particle data from POP (DOP) networks."], "extent": [93, 154]}, {"level": 1, "id": "description", "container": true, "type": "description_section", "indent": 0, "role": "section", "extent": [154, 167], "body": [{"type": "para", "indent": 4, "text": ["This node can be used to post-process and cleanup particles from POP (DOP) networks.\n    It also provides functionality to merge particles from multiple popnets."], "extent": [167, 338]}, {"type": "para", "indent": 4, "text": ["It is recommended to connect this node directly to a popnet output."], "extent": [338, 415]}, {"type": "tip_group", "body": [{"type": "tip", "indent": 4, "role": "item", "extent": [415, 424], "body": [{"type": "para", "indent": 8, "text": ["When particles need to be retimed (time warped)"], "extent": [424, 480]}, {"type": "bullet_group", "body": [{"blevel": 10, "type": "bullet", "indent": 8, "text": ["use a time blender node (e.g. TimeBlend SOP) between the popnet and this node"], "extent": [480, 568]}, {"blevel": 10, "type": "bullet", "indent": 8, "text": ["turn off ", {"type": "em", "text": ["Reap At Frame End"]}, " on the particle solver"], "extent": [568, 630]}, {"blevel": 10, "type": "bullet", "indent": 8, "text": ["use the delete-by-age functions to keep only the particles with valid ages"], "extent": [630, 716]}], "container": true}], "container": true}], "container": true, "role": "item_group"}], "text": "Description"}, {"level": 1, "id": "inputs", "container": true, "type": "inputs_section", "indent": 0, "role": "section", "extent": [716, 724], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Input Particles"], "extent": [724, 745], "body": [{"type": "para", "indent": 8, "text": ["Geometry consisting of particle system(s).\n        Stream filtering (see below) can be used to delete non-particle geometry."], "extent": [745, 880]}], "container": true}], "container": true}], "text": "Inputs"}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [880, 892], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["POP Streams"], "extent": [892, 909], "body": [{"type": "para", "indent": 8, "text": ["This tab contains functions for picking individual streams to keep,\n        and to rename all particle streams."], "extent": [909, 1038]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["Stream Selection"], "extent": [1038, 1064], "body": [{"type": "para", "indent": 12, "text": ["Turns on/off all stream-related functions."], "extent": [1064, 1119]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Keep Stream(s)"], "extent": [1119, 1143], "body": [{"type": "para", "indent": 12, "text": ["Particle stream(s) or group(s) to keep. Anything else will be deleted."], "extent": [1143, 1226]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Add Prefix"], "extent": [1226, 1246], "body": [{"type": "para", "indent": 12, "text": ["The string to be prepended to particle stream groups.\n            By default it uses the name of the input node (assumes it\u2019s connected\n            to a popnet directly)."], "extent": [1246, 1429]}], "container": true}, {"type": "dt", "indent": 8, "text": ["To Streams"], "extent": [1429, 1449], "body": [{"type": "para", "indent": 12, "text": ["A group name mask, specifying which stream groups should be prefixed."], "extent": [1449, 1536]}], "container": true}], "container": true}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Attributes"], "extent": [1536, 1552], "body": [{"type": "para", "indent": 8, "text": ["Options for deleting specified attributes, and/or keeping specified ones."], "extent": [1552, 1643]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["Cast to 16-bit Floats"], "extent": [1643, 1674], "body": [{"type": "para", "indent": 12, "text": ["The specified list of attributes will be cast to 16-bit float precision."], "extent": [1674, 1772]}, {"type": "note_group", "body": [{"type": "note", "indent": 12, "role": "item", "extent": [1772, 1790], "body": [{"type": "para", "indent": 16, "text": ["This only works on data types that are ", {"type": "code", "text": ["float"]}, "-based to begin with\n                (e.g. regular floats, vectors, etc, but not on integers)."], "extent": [1790, 1948]}], "container": true}], "container": true, "role": "item_group"}], "container": true}], "container": true}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Group Selection"], "extent": [1948, 1969], "body": [{"type": "para", "indent": 8, "text": ["If specified, all the operations below will only act on just a subset of\n        particles."], "extent": [1969, 2070]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Lifespan"], "extent": [2070, 2084], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["Delete outside Birth/Death Age"], "extent": [2084, 2124], "body": [{"type": "para", "indent": 12, "text": ["Particles with normalized age below zero or above 1.0 will be deleted."], "extent": [2124, 2220]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Delete Unborn"], "extent": [2220, 2243], "body": [{"type": "para", "indent": 12, "text": ["Particles with an age below zero will be deleted."], "extent": [2243, 2306]}, {"type": "note_group", "body": [{"type": "note", "indent": 12, "role": "item", "extent": [2306, 2324], "body": [{"type": "para", "indent": 16, "text": ["Particles with negative age are usually generated by the\n                ", {"scheme": "Node", "value": "/nodes/dop/popsource", "type": "link", "text": ["POP Source DOP"], "fullpath": "/nodes/dop/popsource.html"}, "\n                when ", {"type": "em", "text": ["Jitter Birth Time"]}, " is set to ", {"type": "code", "text": ["Negative"]}, "."], "extent": [2324, 2525]}], "container": true}], "container": true, "role": "item_group"}], "container": true}, {"type": "dt", "indent": 8, "text": ["Delete Over-aged"], "extent": [2525, 2551], "body": [{"type": "para", "indent": 12, "text": ["Particles with a normalized age above ", {"type": "code", "text": ["1.0"]}, " will be deleted."], "extent": [2551, 2637]}, {"type": "note_group", "body": [{"type": "note", "indent": 12, "role": "item", "extent": [2637, 2655], "body": [{"type": "para", "indent": 16, "text": ["Particles can exceed their maximum age for example when\n                on the ", {"scheme": "Node", "value": "/nodes/dop/popsolver", "type": "link", "text": ["POP Solver DOP"], "fullpath": "/nodes/dop/popsolver.html"}], "extent": [2655, 2803]}, {"type": "bullet_group", "body": [{"blevel": 18, "type": "bullet", "indent": 16, "text": [{"type": "em", "text": ["Reap At Frame End"]}, " is ", {"type": "code", "text": ["off"]}, "\n                  (particles will life one timestep longer,\n                  so they can be used for interpolation before deleting them)"], "extent": [2803, 2988]}, {"blevel": 18, "type": "bullet", "indent": 16, "text": [{"type": "em", "text": ["Reap Particles"]}, " is ", {"type": "code", "text": ["off"]}, " (particles will never die)"], "extent": [2988, 3072]}], "container": true}], "container": true}], "container": true, "role": "item_group"}], "container": true}, {"type": "dt", "indent": 8, "text": ["Invert (debug)"], "extent": [3072, 3096], "body": [{"type": "para", "indent": 12, "text": ["This option will output the particles that are supposed to be deleted."], "extent": [3096, 3184]}], "container": true}], "container": true}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Attribute Timescale Adjustment"], "extent": [3184, 3220], "body": [{"type": "para", "indent": 8, "text": ["Scale certain attributes by the simulation timescale."], "extent": [3220, 3291]}, {"type": "note_group", "body": [{"type": "note", "indent": 8, "role": "item", "extent": [3291, 3305], "body": [{"type": "para", "indent": 12, "text": ["Attributes like ", {"type": "code", "text": ["v"]}, " (velocity) will always have the magnitude of a\n            timescale of ", {"type": "code", "text": ["1.0"]}, " even if the simulation was run on a different timescale,\n            so it might be useful to adjust these attributes (e.g. for velocity motion\n            blur purposes)."], "extent": [3305, 3596]}], "container": true}], "container": true, "role": "item_group"}, {"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["Apply Timescale"], "extent": [3596, 3621], "body": [{"type": "para", "indent": 12, "text": ["Do timescale adjustment."], "extent": [3621, 3671]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Timescale"], "extent": [3671, 3690], "body": [{"type": "para", "indent": 12, "text": ["The actual timescale value. This should be the multiplied result of\n            the DOP network timescale the POP Solver DOP timescale\n            (e.g. if both are ", {"type": "code", "text": ["0.5"]}, ", the overall timescale is ", {"type": "code", "text": ["0.25"]}, ")."], "extent": [3690, 3908]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Attribs"], "extent": [3908, 3925], "body": [{"type": "para", "indent": 12, "text": ["The attributes to do timescale adjustment on. (They\u2019ll be multiplied\n            with the timescale value.)"], "extent": [3925, 4050]}], "container": true}], "container": true}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Multiple POPs Merging"], "extent": [4050, 4077], "body": [{"type": "para", "indent": 8, "text": ["In this tab particle data can be updated so outputs from several pop networks\n        can be merged safely."], "extent": [4077, 4202]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["Interleave Particle Ids"], "extent": [4202, 4235], "body": [{"type": "para", "indent": 12, "text": ["Adjusts particle ", {"type": "code", "text": ["id"]}, " attributes so they\u2019ll remain unique even if\n            multiple popnet outputs are merged."], "extent": [4235, 4361]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Current Particle System"], "extent": [4361, 4394], "body": [{"type": "para", "indent": 12, "text": ["A 0-based index that is unique to each popnet output\n            (0 for the first popnet, 1 for the second, etc)."], "extent": [4394, 4520]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Num Particle Systems"], "extent": [4520, 4550], "body": [{"type": "para", "indent": 12, "text": ["The number of popnet outputs to be merged. This number has to be the\n            same on all post-process nodes."], "extent": [4550, 4675]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Setup Particle Streams"], "extent": [4675, 4707], "body": [{"type": "para", "indent": 12, "text": ["A convenience button to automatically set up stream indices and number\n            of streams on a selected set of post process nodes."], "extent": [4707, 4867]}, {"type": "para", "indent": 12, "text": ["Select two or more POP Post Process nodes (representing particle streams\n            to be merged) and press this button. Each Post Process node will get\n            an incremental stream index, for all nodes the number of streams will\n            be set to the number of nodes selected."], "extent": [4867, 5168]}], "container": true}], "container": true}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Groups"], "extent": [5168, 5180], "body": [{"type": "para", "indent": 8, "text": ["Options for cleaning up (deleting) groups."], "extent": [5180, 5233]}], "container": true, "role": "item"}], "container": true, "role": "item_group"}], "text": "Parameters"}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [5233, 5242], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["\u2026"], "extent": [5242, 5254]}], "container": true}], "text": "Related"}, {"level": 1, "id": "todo", "container": true, "type": "todo_section", "indent": 0, "text": ["To Do"], "role": "section", "extent": [5254, 5266], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Make help more verbose? e.g. more explanation on particle id interleaving and retiming?"], "extent": [5266, 5360]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Attribute timescale handling should be way more robust"], "extent": [5360, 5421], "body": [{"type": "bullet_group", "body": [{"blevel": 10, "type": "bullet", "indent": 8, "text": ["Should support wildcards"], "extent": [5421, 5456]}], "container": true}], "container": true}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["\u2026"], "extent": [5456, 5468]}], "container": true}]}, {"level": 1, "id": "relnotes", "container": true, "type": "relnotes_section", "indent": 0, "text": ["Release Notes"], "role": "section", "extent": [5468, 5492], "body": [{"type": "para", "indent": 0, "text": [{"type": "em", "text": ["interface version 1"]}, " \u2014"], "extent": [5492, 5520]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 0, "text": ["2020-10-27"], "extent": [5520, 5532], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Added option to cast to 16-bit floats (", {"scheme": null, "value": "https://github.com/qLab/qLib/issues/1140", "type": "link", "text": ["#1140"], "exists": true}, ")"], "extent": [5532, 5628]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2020-08-28"], "extent": [5628, 5640], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Added convenience ", {"type": "q", "text": ["set up particle systems"]}, " button for pop merging (", {"scheme": null, "value": "https://github.com/qLab/qLib/issues/1118", "type": "link", "text": ["#1118"], "exists": true}, ")"], "extent": [5640, 5765]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2020-08-06"], "extent": [5765, 5777], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Switch current / num particle systems in parm editor (", {"scheme": null, "value": "https://github.com/qLab/qLib/issues/1097", "type": "link", "text": ["#1097"], "exists": true}, ")"], "extent": [5777, 5888]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2020-07-30"], "extent": [5888, 5900], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Fixed compatibility break between 0.2.165 and 0.2.168 (", {"scheme": null, "value": "https://github.com/qLab/qLib/issues/1090", "type": "link", "text": ["#1090"], "exists": true}, ")"], "extent": [5900, 6012]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2020-06-09"], "extent": [6012, 6024], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Added descriptive parm, updated help page (", {"scheme": null, "value": "https://github.com/qLab/qLib/issues/1075", "type": "link", "text": ["#1075"], "exists": true}, ")"], "extent": [6024, 6124]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2020-05-22"], "extent": [6124, 6136], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Updated UI so parameters now reflect order of operations (", {"scheme": null, "value": "https://github.com/qLab/qLib/issues/1040", "type": "link", "text": ["#1040"], "exists": true}, ")"], "extent": [6136, 6250]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Added ", {"type": "q", "text": ["Group Selection"]}, " to limit particle operations to certain groups (streams)"], "extent": [6250, 6338]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2020-05-22"], "extent": [6338, 6350], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Added some convenience defaults to Keep Attributes field (", {"scheme": null, "value": "https://github.com/qLab/qLib/issues/1036", "type": "link", "text": ["#1036"], "exists": true}, ")"], "extent": [6350, 6464]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Keep Attributes is now enabled by default"], "extent": [6464, 6513]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2020-02-17"], "extent": [6513, 6525], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Added option to delete groups (", {"scheme": null, "value": "https://github.com/qLab/qLib/issues/974", "type": "link", "text": ["#974"], "exists": true}, ")"], "extent": [6525, 6611]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2019-12-12"], "extent": [6611, 6623], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Added attribute delete/keep options (", {"scheme": null, "value": "https://github.com/qLab/qLib/issues/473", "type": "link", "text": ["#473"], "exists": true}, ")"], "extent": [6623, 6714]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Updated UI layout (existing scenes might give harmless warnings)"], "extent": [6714, 6785]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Saved in H17.5"], "extent": [6785, 6807]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2019-08-17"], "extent": [6807, 6819], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Resaved in H16.5 (to get rid of harmless warning on duplication)"], "extent": [6819, 6891]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2019-05-12"], "extent": [6891, 6903], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Removed on-created coloring (in favor of qLib node color theme)"], "extent": [6903, 6974]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2019-01-12"], "extent": [6974, 6986], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Updated UI/help for particle stream group prefixing"], "extent": [6986, 7044]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Added ", {"type": "q", "text": ["Timescale"]}, " tab"], "extent": [7044, 7073]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2018-06-23"], "extent": [7073, 7085], "body": [{"type": "para", "indent": 4, "text": ["First version (prototype)."], "extent": [7085, 7116]}], "container": true}], "container": true}]}], "title": ["POP Post Process qL"], "summary": ["Post-processes particle data from POP (DOP) networks."]}