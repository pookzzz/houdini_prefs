{"type": "root", "attrs": {"icon": "DATATYPES/angle", "context": "sop", "type": "node", "internal": "vector_ql", "version": "2", "namespace": "qLib"}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["Vector qL"], "extent": [50, 64]}, {"type": "para", "indent": 0, "text": [{"type": "strong", "text": ["interface version 2"]}], "extent": [64, 88]}, {"type": "summary", "indent": 0, "text": ["Performs common operations between per-point vector attributes on the input geometry."], "extent": [88, 181]}, {"type": "para", "indent": 0, "text": ["The most common vector-related operations encapsulated in one node. One of the most frequently used operators."], "extent": [181, 293]}, {"type": "para", "indent": 0, "text": [{"scheme": "Image", "value": "/nodes/sop/qLib--vector_ql-2/vector_ql_sop_main.png", "type": "img", "text": ""}], "extent": [293, 332]}, {"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": [{"type": "em", "text": ["A very useful technique: generating per-point velocity vectors using the difference between\n  the original geometry and its transformed version (by subtracting point positions from each other).\n  The resulting vectors and heat map \u2013 representing vector lengths \u2013\n  are displayed using an "]}, {"scheme": "Node", "value": "/nodes/sop/qLib::attr_visualize_ql::1", "type": "link", "text": ["Attr Visualize qL SOP"], "exists": true}, {"type": "em", "text": ["."]}], "extent": [332, 691]}], "container": true}, {"type": "note_group", "body": [{"type": "note", "indent": 0, "role": "item", "extent": [691, 697], "body": [{"type": "para", "indent": 4, "text": ["Although this node might seem a bit monolithic, it encapsulates the most frequently\n    required vector-related operations (and it does that within a single VOP SOP, so it is ", {"type": "em", "text": ["fast"]}, ")."], "extent": [697, 886]}, {"type": "para", "indent": 4, "text": ["If the second input is unconnected, it assumes the geometry of the first input."], "extent": [886, 972]}], "container": true}], "container": true, "role": "item_group"}, {"level": 1, "id": "Parameters", "container": true, "type": "Parameters_section", "indent": 0, "role": "section", "extent": [972, 984], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Group, Group Type"], "extent": [984, 1007], "body": [{"type": "para", "indent": 8, "text": ["The group of geometry components affected."], "extent": [1007, 1059]}, {"type": "note_group", "body": [{"type": "note", "indent": 8, "role": "item", "extent": [1059, 1073], "body": [{"type": "para", "indent": 12, "text": ["Regardless of the group settings, currently this node works on point attributes only."], "extent": [1073, 1181]}], "container": true}], "container": true, "role": "item_group"}], "container": true}, {"type": "dt", "indent": 4, "text": ["Operation"], "extent": [1181, 1196], "body": [{"type": "para", "indent": 8, "text": ["The main vector operation to be performed.\n        The following operations are available."], "extent": [1196, 1296]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["Add"], "extent": [1296, 1309], "body": [{"type": "para", "indent": 12, "text": ["Vector addition. (Output components will be the sum of respective A/B input components.)"], "extent": [1309, 1411]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Substract (A-B), (B-A)"], "extent": [1411, 1443], "body": [{"type": "para", "indent": 12, "text": ["Substraction. Output components will be set the difference between respective A/B input components."], "extent": [1443, 1556]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Mix"], "extent": [1556, 1569], "body": [{"type": "para", "indent": 12, "text": ["The A and B vector individual component values will be mixed\n            using a blend value (or per-point attribute)."], "extent": [1569, 1701]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Cross Product (AxB), (BxA)"], "extent": [1701, 1737], "body": [{"type": "para", "indent": 12, "text": ["The output vector will be perpendicular to the plane defined by the two input vectors."], "extent": [1737, 1837]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Multiply (per-component)"], "extent": [1837, 1871], "body": [{"type": "para", "indent": 12, "text": ["Output components will be the respective A/B input components, multiplied."], "extent": [1871, 1959]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Pass 1st/2nd Input (A/B)"], "extent": [1959, 1993], "body": [{"type": "para", "indent": 12, "text": ["Output the first (or the second) vector input."], "extent": [1993, 2053]}, {"type": "para", "indent": 12, "text": ["All pre- and post-processing operations still apply (including the optional\n            dot product and angle calculations.)"], "extent": [2053, 2191]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Make Perpendicular"], "extent": [2191, 2219], "body": [{"type": "para", "indent": 12, "text": ["The first vector direction will be adjusted to be perpendicular with the\n            second vector (while remaining in the same plane, defined by the two vectors)."], "extent": [2219, 2396]}, {"type": "para", "indent": 12, "text": ["(Equivalent of performing an AxB then a BxA cross products.)"], "extent": [2396, 2470]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Reflect (A, normal B)"], "extent": [2470, 2501], "body": [{"type": "para", "indent": 12, "text": ["Calculate reflection direction vectors, using input A as the incoming ray direction,\n            and input B as surface normal."], "extent": [2501, 2642]}], "container": true}], "container": true}], "container": true}, {"type": "dt", "indent": 4, "text": ["Input"], "extent": [2642, 2654], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["Vector A/B"], "extent": [2654, 2675], "body": [{"type": "para", "indent": 12, "text": ["The two tabs represent separate settings for each of the two sets of vectors.\n            All these settings are applied to the vectors (in order) before the main operation."], "extent": [2675, 2862]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 12, "text": ["Pre-Compute Normal"], "extent": [2862, 2894], "body": [{"type": "para", "indent": 16, "text": ["Precompute normals for the input geometry."], "extent": [2894, 2958]}], "container": true}, {"type": "dt", "indent": 12, "text": ["Vector"], "extent": [2958, 2978], "body": [{"type": "para", "indent": 16, "text": ["Type of vector (geometry attribute or constant)."], "extent": [2978, 3048]}], "container": true}, {"type": "dt", "indent": 12, "text": ["Attribute Name"], "extent": [3048, 3076], "body": [{"type": "para", "indent": 16, "text": ["The name of the vector attribute. (If the second input is not connected\n                the attribute is read from the first input.)"], "extent": [3076, 3230]}], "container": true}, {"type": "dt", "indent": 12, "text": ["Constant"], "extent": [3230, 3252], "body": [{"type": "para", "indent": 16, "text": ["Vector value for the Constant type."], "extent": [3252, 3309]}], "container": true}, {"type": "dt", "indent": 12, "text": ["Normalize"], "extent": [3309, 3332], "body": [{"type": "para", "indent": 16, "text": ["Normalize vector value. (Applies to the constant value as well.)"], "extent": [3332, 3414]}], "container": true}, {"type": "dt", "indent": 12, "text": ["Scale with"], "extent": [3414, 3438], "body": [{"type": "para", "indent": 16, "text": ["Scale the vector with the specified (float) attribute."], "extent": [3438, 3511]}], "container": true}], "container": true}], "container": true}, {"type": "dt", "indent": 8, "text": ["Mix Settings"], "extent": [3511, 3534], "body": [{"type": "para", "indent": 12, "text": ["These settings are used in ", {"type": "code", "text": ["Mix"]}, " mode only."], "extent": [3534, 3595]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 12, "text": ["Blend Value"], "extent": [3595, 3620], "body": [{"type": "para", "indent": 16, "text": ["A constant mixing value."], "extent": [3620, 3662]}], "container": true}, {"type": "dt", "indent": 12, "text": ["Blend Attribute"], "extent": [3662, 3691], "body": [{"type": "para", "indent": 16, "text": ["A per-point float attribute to use as mix value."], "extent": [3691, 3757]}], "container": true}], "container": true}], "container": true}], "container": true}], "container": true}, {"type": "dt", "indent": 4, "text": ["Output"], "extent": [3757, 3769], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["Normalize Output"], "extent": [3769, 3795], "body": [{"type": "para", "indent": 12, "text": ["Applies length normalization right after the main operation."], "extent": [3795, 3869]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Length Multiplier"], "extent": [3869, 3896], "body": [{"type": "para", "indent": 12, "text": ["A post-multiplier value for the output vector."], "extent": [3896, 3956]}, {"type": "note_group", "body": [{"type": "note", "indent": 12, "role": "item", "extent": [3956, 3974], "body": [{"type": "para", "indent": 16, "text": [{"type": "strong", "text": ["Use this value to convert"]}, " between ", {"type": "em", "text": ["regular"]}, " (per-frame) and ", {"type": "em", "text": ["velocity"]}, " (per-second) vectors."], "extent": [3974, 4086]}], "container": true}], "container": true, "role": "item_group"}, {"type": "para", "indent": 12, "text": ["Velocity (", {"type": "code", "text": ["v"]}, ") for instance is measured as distance per second \u2013 this means a regular unit-length vector\n            should be multiplied with ", {"type": "code", "text": ["$FPS"]}, " in order to apply this conversion."], "extent": [4086, 4285]}, {"type": "para", "indent": 12, "text": ["There is a small preset menu provided for ", {"type": "code", "text": ["Multiply"]}, " for converting between unit-length\n            and second-based vector lengths."], "extent": [4285, 4431]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Scale"], "extent": [4431, 4446], "body": [{"type": "para", "indent": 12, "text": ["An additional length scale factor for the output vector."], "extent": [4446, 4516]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Scale with"], "extent": [4516, 4536], "body": [{"type": "para", "indent": 12, "text": ["Scale the output vector with the specified (float) per-point attribute."], "extent": [4536, 4621]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Invert Result"], "extent": [4621, 4644], "body": [{"type": "para", "indent": 12, "text": ["Negate the output vector (so it will point to the opposite direction)."], "extent": [4644, 4728]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Output Attributes"], "extent": [4728, 4756], "body": [{"type": "para", "indent": 12, "text": ["Names and toggles of various attributes to output."], "extent": [4756, 4820]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 12, "text": ["Vector"], "extent": [4820, 4840], "body": [{"type": "para", "indent": 16, "text": ["The target attribute of the vector operation result."], "extent": [4840, 4914]}], "container": true}, {"type": "dt", "indent": 12, "text": ["Length"], "extent": [4914, 4934], "body": [{"type": "para", "indent": 16, "text": ["The length of the result vector.\n                (This vector is ", {"type": "em", "text": ["not"]}, " normalized\u2013the Scale factor applies, though.)"], "extent": [4934, 5073]}], "container": true}, {"type": "dt", "indent": 12, "text": ["\\* Dot Product"], "extent": [5073, 5101], "body": [{"type": "para", "indent": 16, "text": ["Dot product of the two input vectors."], "extent": [5101, 5160]}], "container": true}, {"type": "dt", "indent": 12, "text": ["\\* Angle"], "extent": [5160, 5182], "body": [{"type": "para", "indent": 16, "text": ["Angle between the two input vectors."], "extent": [5182, 5240]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 16, "text": ["Angle In Degrees"], "extent": [5240, 5274], "body": [{"type": "para", "indent": 20, "text": ["Output angle in degrees instead of radians."], "extent": [5274, 5339]}], "container": true}], "container": true}], "container": true}], "container": true}, {"type": "note_group", "body": [{"type": "note", "indent": 12, "role": "item", "extent": [5339, 5357], "body": [{"type": "para", "indent": 16, "text": ["\\* These are calculated between the vectors for ", {"type": "em", "text": ["all"]}, " main operations,\n                including ", {"type": "code", "text": ["Pass 1st"]}, " and ", {"type": "code", "text": ["2nd Input"]}, "."], "extent": [5357, 5500]}], "container": true}], "container": true, "role": "item_group"}], "container": true}], "container": true}], "container": true}], "container": true}], "text": "Parameters"}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [5500, 5509], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/qLib::attr_visualize_ql::1", "type": "link", "text": ["Attr Visualize qL"], "exists": true}], "extent": [5509, 5571]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/qLib::attrib_builder_ql::1", "type": "link", "text": ["Attrib Builder qL"], "exists": true}], "extent": [5571, 5633]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/qLib::vector_jitter_ql::2", "type": "link", "text": ["Vector Jitter qL"], "exists": true}], "extent": [5633, 5693]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/qLib::vector_store_ql::1", "type": "link", "text": ["Vector Store qL"], "exists": true}], "extent": [5693, 5751]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/point", "type": "link", "text": "", "fullpath": "/nodes/sop/point.html"}], "extent": [5751, 5774]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/facet", "type": "link", "text": "", "fullpath": "/nodes/sop/facet.html"}], "extent": [5774, 5800]}], "container": true}], "text": "Related"}, {"level": 1, "id": "relnotes", "container": true, "type": "relnotes_section", "indent": 0, "text": ["Release Notes"], "role": "section", "extent": [5800, 5824], "body": [{"type": "para", "indent": 4, "text": [{"type": "em", "text": ["interface version 2"]}, " \u2014"], "extent": [5824, 5856]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["2017-02-27"], "extent": [5856, 5872], "body": [{"type": "bullet_group", "body": [{"blevel": 10, "type": "bullet", "indent": 8, "text": ["Fixed spelling of ", {"type": "q", "text": ["Subtract"]}, " :)"], "extent": [5872, 5914]}, {"blevel": 10, "type": "bullet", "indent": 8, "text": ["Fixed leaking of output vector attribute even if it was turned off (#534)"], "extent": [5914, 6003]}], "container": true}], "container": true}, {"type": "dt", "indent": 4, "text": ["2016-02-29"], "extent": [6003, 6019], "body": [{"type": "bullet_group", "body": [{"blevel": 10, "type": "bullet", "indent": 8, "text": ["Support for more attribute qualifiers for output vector (color, normal, etc)"], "extent": [6019, 6106]}, {"blevel": 10, "type": "bullet", "indent": 8, "text": ["Bug fix: the ", {"type": "q", "text": ["blend attribute"]}, " was always created by this node. Fixed."], "extent": [6106, 6192]}], "container": true}], "container": true}, {"type": "dt", "indent": 4, "text": ["2015-12-24"], "extent": [6192, 6208], "body": [{"type": "bullet_group", "body": [{"blevel": 10, "type": "bullet", "indent": 8, "text": ["Bug fix: blend attribute in ", {"type": "q", "text": ["mix"]}, " mode now works"], "extent": [6208, 6267]}, {"blevel": 10, "type": "bullet", "indent": 8, "text": ["Added all geometry component support and H15-style selector to group field"], "extent": [6267, 6352]}, {"blevel": 10, "type": "bullet", "indent": 8, "text": ["Merry Xmas :)"], "extent": [6352, 6381]}], "container": true}], "container": true}, {"type": "dt", "indent": 4, "text": ["2015-07-31"], "extent": [6381, 6397], "body": [{"type": "bullet_group", "body": [{"blevel": 10, "type": "bullet", "indent": 8, "text": ["Bug fix: ", {"type": "q", "text": ["Point Group"]}, " parameter now works"], "extent": [6397, 6455]}], "container": true}], "container": true}, {"type": "dt", "indent": 4, "text": ["2014-03-22"], "extent": [6455, 6471], "body": [{"type": "bullet_group", "body": [{"blevel": 10, "type": "bullet", "indent": 8, "text": ["Quick fix: position (", {"type": "code", "text": ["P"]}, ") attribute couldn\u2019t be specified as output (fixed)."], "extent": [6471, 6559]}], "container": true}], "container": true}, {"type": "dt", "indent": 4, "text": ["2014-03-10"], "extent": [6559, 6575], "body": [{"type": "bullet_group", "body": [{"blevel": 10, "type": "bullet", "indent": 8, "text": ["interface version 2:"], "extent": [6575, 6606], "body": [{"type": "bullet_group", "body": [{"blevel": 12, "type": "bullet", "indent": 10, "text": ["parameter renames for more consistency"], "extent": [6606, 6657]}, {"blevel": 12, "type": "bullet", "indent": 10, "text": ["rebuilt internally (as a single wrangler node)"], "extent": [6657, 6716]}, {"blevel": 12, "type": "bullet", "indent": 10, "text": ["upcoming possible major features (vexpressions)"], "extent": [6716, 6777]}], "container": true}], "container": true}], "container": true}], "container": true}], "container": true}, {"type": "para", "indent": 4, "text": [{"type": "em", "text": ["interface version 1"]}, " \u2014"], "extent": [6777, 6808]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["2014-01-31"], "extent": [6808, 6824], "body": [{"type": "bullet_group", "body": [{"blevel": 10, "type": "bullet", "indent": 8, "text": ["Minor descriptive parm changes."], "extent": [6824, 6867]}], "container": true}], "container": true}, {"type": "dt", "indent": 4, "text": ["2013-07-09"], "extent": [6867, 6883], "body": [{"type": "bullet_group", "body": [{"blevel": 10, "type": "bullet", "indent": 8, "text": ["Added optional scaling of output with a specified per-point (float) attribute."], "extent": [6883, 6973]}], "container": true}], "container": true}, {"type": "dt", "indent": 4, "text": ["2013-04-19"], "extent": [6973, 6989], "body": [{"type": "bullet_group", "body": [{"blevel": 10, "type": "bullet", "indent": 8, "text": ["Improvements to descriptive parm."], "extent": [6989, 7034]}], "container": true}], "container": true}, {"type": "dt", "indent": 4, "text": ["2013-04-17"], "extent": [7034, 7050], "body": [{"type": "bullet_group", "body": [{"blevel": 10, "type": "bullet", "indent": 8, "text": ["Added ", {"type": "q", "text": ["descriptive parm"]}, " (shows mode in network view). Experimental with minor update problems."], "extent": [7050, 7157]}], "container": true}], "container": true}, {"type": "dt", "indent": 4, "text": ["2013-04-09"], "extent": [7157, 7173], "body": [{"type": "bullet_group", "body": [{"blevel": 10, "type": "bullet", "indent": 8, "text": ["Added 'Reflect (A, normal B)' mode."], "extent": [7173, 7220]}], "container": true}], "container": true}, {"type": "dt", "indent": 4, "text": ["2012-11-18"], "extent": [7220, 7236], "body": [{"type": "bullet_group", "body": [{"blevel": 10, "type": "bullet", "indent": 8, "text": ["Added 'Make Perpendicular' mode."], "extent": [7236, 7280]}], "container": true}], "container": true}, {"type": "dt", "indent": 4, "text": ["2012-11-16"], "extent": [7280, 7296], "body": [{"type": "bullet_group", "body": [{"blevel": 10, "type": "bullet", "indent": 8, "text": ["Added Multiply (per-component) mode."], "extent": [7296, 7343]}, {"blevel": 10, "type": "bullet", "indent": 8, "text": ["Added a post-multiply parameter for more convenient conversion between regular and per-second based (velocity) vectors."], "extent": [7343, 7473]}, {"blevel": 10, "type": "bullet", "indent": 8, "text": ["Some UI + help card improvements."], "extent": [7473, 7520]}], "container": true}], "container": true}], "container": true}, {"type": "para", "indent": 4, "text": [{"type": "em", "text": ["older versions"]}, " \u2014"], "extent": [7520, 7546]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Version 0.1.1"], "extent": [7546, 7565], "body": [{"type": "bullet_group", "body": [{"blevel": 10, "type": "bullet", "indent": 8, "text": ["Added options for scaling both input vectors with a scalar (float) attribute before main operation."], "extent": [7565, 7675]}, {"blevel": 10, "type": "bullet", "indent": 8, "text": ["Some UI fixes, consolidations, cosmetics."], "extent": [7675, 7727]}, {"blevel": 10, "type": "bullet", "indent": 8, "text": ["Help card revision."], "extent": [7727, 7758]}], "container": true}], "container": true}, {"type": "dt", "indent": 4, "text": ["Version 0.1.1"], "extent": [7758, 7777], "body": [{"type": "para", "indent": 8, "text": ["Interface updated. One thread per processor is now the default."], "extent": [7777, 7850]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Version 0.1.0"], "extent": [7850, 7869], "body": [{"type": "para", "indent": 8, "text": ["Initial release."], "extent": [7869, 7894]}], "container": true}], "container": true}]}], "title": ["Vector qL"], "summary": ["Performs common operations between per-point vector attributes on the input geometry."]}