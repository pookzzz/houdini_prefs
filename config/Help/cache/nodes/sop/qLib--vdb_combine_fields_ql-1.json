{"type": "root", "attrs": {"icon": "SHELF/pyrocluster", "context": "sop", "type": "node", "internal": "vdb_combine_fields_ql", "version": "1", "namespace": "qLib"}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["VDB Combine Fields qL"], "extent": [52, 78]}, {"type": "para", "indent": 0, "text": [{"type": "strong", "text": ["interface version 1"]}], "extent": [78, 102]}, {"type": "summary", "indent": 0, "text": ["Combines various VDB fields with the same names into single fields."], "extent": [102, 177]}, {"type": "para", "indent": 0, "text": ["This node allows combining VDB fields that match specified criteria into single field(s).\nUseful for merging multiple (e.g. clustered) Pyro simulations."], "extent": [177, 331]}, {"type": "para", "indent": 0, "text": ["Criteria can be as simple as ", {"type": "code", "text": ["@name=density"]}, " (referring to all volumes called ", {"type": "code", "text": ["density"]}, ")\nor ", {"type": "code", "text": ["@name=*"]}, " and setting ", {"type": "em", "text": ["Class"]}, " to ", {"type": "em", "text": ["Fog Volume"]}, " (referring to all fog volume VDB types\nin the input geometry)."], "extent": [331, 533]}, {"type": "note_group", "body": [{"type": "note", "indent": 0, "role": "item", "extent": [533, 539], "body": [{"type": "para", "indent": 4, "text": ["This node works only with VDBs and ", {"type": "em", "text": ["not"]}, " regular volumes."], "extent": [539, 602]}], "container": true}], "container": true, "role": "item_group"}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [602, 614], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Name Attribute"], "extent": [614, 635], "body": [{"type": "para", "indent": 8, "text": ["Per-primitive attribute that identifies individual VDB volumes during\n        combining."], "extent": [635, 741]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Combine (Flatten) Operations"], "extent": [741, 775], "body": [{"type": "para", "indent": 8, "text": ["A combine (or flatten) operation consists of volume specification\n        criteria, and the type of combine operation to be performed on all\n        the volumes that match the criteria."], "extent": [775, 978]}, {"type": "para", "indent": 8, "text": ["Volumes can be specified by name and/or other various properties\n        (e.g. data type, vector type, etc). A combine operation will be\n        applied to the volumes that match ", {"type": "em", "text": ["all"]}, " specified criteria\n        (i.e. an ", {"type": "q", "text": ["and"]}, " logical relationship)."], "extent": [978, 1245]}, {"type": "para", "indent": 8, "text": ["Operations are executed in a first-to-last order."], "extent": [1245, 1312]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["Base Group ", {"type": "em", "text": ["n"]}], "extent": [1312, 1336], "body": [{"type": "para", "indent": 12, "text": ["Match volumes by name, using the standard group spec format.\n            Examples:"], "extent": [1336, 1444]}, {"type": "table", "thead": [], "body": [{"type": "row", "body": [{"type": "cell", "indent": 12, "text": ["Value "], "role": "th", "extent": [1444, 1465], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 16, "text": ["Meaning"], "extent": [1465, 1490]}]}], "divider": false}, {"type": "row", "body": [{"type": "cell", "indent": 12, "text": [{"type": "code", "text": ["@name=*"]}, " (or ", {"type": "code", "text": ["*"]}, ") "], "role": "td", "extent": [1490, 1523], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 16, "text": ["Match all volumes"], "extent": [1523, 1557]}]}], "divider": false}, {"type": "row", "body": [{"type": "cell", "indent": 12, "text": [{"type": "code", "text": ["@name=density @name=temperature"]}, " (space-separated ", {"type": "code", "text": ["@name"]}, "-s) "], "role": "td", "extent": [1557, 1633], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 16, "text": ["Match ", {"type": "code", "text": ["density"]}, " or ", {"type": "code", "text": ["temperature"]}, " volumes"], "extent": [1633, 1707]}]}], "divider": false}]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Class"], "extent": [1707, 1722], "body": [{"type": "para", "indent": 12, "text": ["Match volumes by class (fog volume, SDF level set, etc)"], "extent": [1722, 1790]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Value Type"], "extent": [1790, 1810], "body": [{"type": "para", "indent": 12, "text": ["Match volumes by data type (float, vector, etc)"], "extent": [1810, 1870]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Vector Type"], "extent": [1870, 1891], "body": [{"type": "para", "indent": 12, "text": ["Match vector volumes by their type qualifier (color, velocity, etc)"], "extent": [1891, 1984]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Combine Operation"], "extent": [1984, 2011], "body": [{"type": "para", "indent": 12, "text": ["Volumes that match all of the set up criteria above will be\n            VDB Combined, using this operation."], "extent": [2011, 2144]}, {"type": "para", "indent": 12, "text": ["See the ", {"scheme": "Node", "value": "/nodes/sop/vdbcombine", "type": "link", "text": ["VDB Combine help page"], "fullpath": "/nodes/sop/vdbcombine.html"}, " for more details\n            on the various modes."], "extent": [2144, 2260]}], "container": true}], "container": true}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Combine Settings"], "extent": [2260, 2282], "body": [{"type": "para", "indent": 8, "text": ["Various other settings for the VDB Combine operation.\n        See the ", {"scheme": "Node", "value": "/nodes/sop/vdbcombine", "type": "link", "text": ["VDB Combine help page"], "fullpath": "/nodes/sop/vdbcombine.html"}, " for more details."], "extent": [2282, 2423]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Debug"], "extent": [2423, 2434], "body": [{"type": "para", "indent": 8, "text": ["Options to help debugging the combine operations."], "extent": [2434, 2501]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["Add Flatten Info Attrib"], "extent": [2501, 2534], "body": [{"type": "para", "indent": 12, "text": ["A per-primitive attribute (by default ", {"type": "code", "text": ["__flatteninfo"]}, " will be added\n            to the resulting geometry. It\u2019s a string attribute that will contain\n            the index and the type of the operation that was performed on the\n            resulting volumes."], "extent": [2534, 2817]}, {"type": "para", "indent": 12, "text": ["If the attribute is empty, it means the corresponding volumes didn\u2019t\n            match any criteria (and were ignored)."], "extent": [2817, 2962]}, {"type": "para", "indent": 12, "text": ["Examples:"], "extent": [2962, 2997]}, {"type": "table", "thead": [], "body": [{"type": "row", "body": [{"type": "cell", "indent": 12, "text": ["Value "], "role": "th", "extent": [2997, 3018], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 16, "text": ["Meaning"], "extent": [3018, 3055]}]}], "divider": false}, {"type": "row", "body": [{"type": "cell", "indent": 12, "text": [{"type": "code", "text": ["(1)maximum"]}, " "], "role": "td", "extent": [3055, 3082], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 16, "text": ["Volume matched criteria 1 and a ", {"type": "q", "text": ["Maximum"]}, " operation was used"], "extent": [3082, 3159]}]}], "divider": false}, {"type": "row", "body": [{"type": "cell", "indent": 12, "text": [{"type": "code", "text": ["(2)add"]}, " "], "role": "td", "extent": [3159, 3182], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 16, "text": ["Volume matched criteria 2 and an ", {"type": "q", "text": ["Add"]}, " operation was used"], "extent": [3182, 3273]}]}], "divider": false}]}, {"type": "tip_group", "body": [{"type": "tip", "indent": 12, "role": "item", "extent": [3273, 3290], "body": [{"type": "para", "indent": 16, "text": ["This is especially useful when setting up implicit criteria\n                (e.g. referring to volumes as ", {"type": "q", "text": ["velocity vector type"]}, " as opposed to\n                ", {"type": "code", "text": ["@name=vel"]}, ")."], "extent": [3290, 3496]}, {"type": "para", "indent": 16, "text": ["Use the geometry spreadsheet to make sure the criteria work\n                as expected."], "extent": [3496, 3602]}], "container": true}], "container": true, "role": "item_group"}], "container": true}], "container": true}], "container": true, "role": "item"}], "container": true, "role": "item_group"}], "text": "Parameters"}, {"level": 1, "id": "examples", "container": true, "type": "examples_section", "indent": 0, "text": ["Examples"], "role": "section", "extent": [3602, 3621], "body": [{"type": "para", "indent": 4, "text": ["Example criteria \u2013"], "extent": [3621, 3651]}, {"type": "table", "thead": [], "body": [{"type": "row", "body": [{"type": "cell", "indent": 4, "text": ["Intention "], "role": "th", "extent": [3651, 3668], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 8, "text": ["Criteria"], "extent": [3668, 3686]}]}], "divider": false}, {"type": "row", "body": [{"type": "cell", "indent": 4, "text": ["Combine all fog volumes in ", {"type": "q", "text": ["Maximum"]}, " mode "], "role": "td", "extent": [3686, 3734], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 8, "text": [{"type": "code", "text": ["@name=*"]}], "extent": [3734, 3761]}, {"type": "para", "indent": 8, "text": ["Class: Fog Volume"], "extent": [3761, 3796]}, {"type": "para", "indent": 8, "text": ["Operation: Maximum"], "extent": [3796, 3824]}]}], "divider": false}, {"type": "row", "body": [{"type": "cell", "indent": 4, "text": ["Combine all velocity-like fields in ", {"type": "q", "text": ["Add"]}, " mode "], "role": "td", "extent": [3824, 3877], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 8, "text": [{"type": "code", "text": ["@name=*"]}], "extent": [3877, 3904]}, {"type": "para", "indent": 8, "text": ["Vector Type: Displacement/Velocity/Acceleration"], "extent": [3904, 3969]}, {"type": "para", "indent": 8, "text": ["Operation: Add"], "extent": [3969, 3993]}]}], "divider": false}, {"type": "row", "body": [{"type": "cell", "indent": 4, "text": ["Combine all color-like fields in ", {"type": "q", "text": ["Maximum"]}, " mode "], "role": "td", "extent": [3993, 4047], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 8, "text": [{"type": "code", "text": ["@name=*"]}], "extent": [4047, 4074]}, {"type": "para", "indent": 8, "text": ["Class: Other"], "extent": [4074, 4104]}, {"type": "para", "indent": 8, "text": ["Vector Type: Tuple/Color/UVW"], "extent": [4104, 4150]}, {"type": "para", "indent": 8, "text": ["Operation: Add"], "extent": [4150, 4174]}]}], "divider": false}, {"type": "row", "body": [{"type": "cell", "indent": 4, "text": ["Combine all SDFs in SDF Union mode "], "role": "td", "extent": [4174, 4215], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 8, "text": [{"type": "code", "text": ["@name=*"]}], "extent": [4215, 4242]}, {"type": "para", "indent": 8, "text": ["Class: Level Set"], "extent": [4242, 4276]}, {"type": "para", "indent": 8, "text": ["Operation: SDF Union"], "extent": [4276, 4307]}]}], "divider": false}]}]}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [4307, 4316], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["\u2026"], "extent": [4316, 4328]}], "container": true}], "text": "Related"}, {"level": 1, "id": "todo", "container": true, "type": "todo_section", "indent": 0, "text": ["To Do"], "role": "section", "extent": [4328, 4340], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["(DONE) Combined volumes should be ignored"], "extent": [4340, 4388]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Add a ", {"type": "q", "text": ["presets"]}, " button to each criteria to set up fog volume, velocity, Cd, SDF stuff"], "extent": [4388, 4480]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Simplify filters?"], "extent": [4480, 4504]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["\u2026"], "extent": [4504, 4516]}], "container": true}]}, {"level": 1, "id": "relnotes", "container": true, "type": "relnotes_section", "indent": 0, "text": ["Release Notes"], "role": "section", "extent": [4516, 4540], "body": [{"type": "para", "indent": 0, "text": [{"type": "em", "text": ["interface version 1"]}, " \u2013"], "extent": [4540, 4567]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 0, "text": ["2024-03-07"], "extent": [4567, 4579], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Sends a warning if no VDBs found in input (", {"scheme": null, "value": "https://github.com/qLab/qLib/issues/1420", "type": "link", "text": ["#1420"], "exists": true}, ")"], "extent": [4579, 4679]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2020-08-06"], "extent": [4679, 4691], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Exposed Resample parameter (in Combine Settings) (", {"scheme": null, "value": "https://github.com/qLab/qLib/issues/1095", "type": "link", "text": ["#1095"], "exists": true}, ")"], "extent": [4691, 4798]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2020-05-06"], "extent": [4798, 4810], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": [{"type": "q", "text": ["Combine operations"]}, " collapsible is now open by default"], "extent": [4810, 4872]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Volume visualization detail attributes are now preserved (", {"scheme": null, "value": "https://github.com/qLab/qLib/issues/1017", "type": "link", "text": ["#1017"], "exists": true}, ")"], "extent": [4872, 4987]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2020-05-03"], "extent": [4987, 4999], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Already-combined volumes are not included in subsequent combine ops (", {"scheme": null, "value": "https://github.com/qLab/qLib/issues/1017", "type": "link", "text": ["#1017"], "exists": true}, ")"], "extent": [4999, 5125]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2020-05-03"], "extent": [5125, 5137], "body": [{"type": "para", "indent": 4, "text": ["First version."], "extent": [5137, 5157]}], "container": true}], "container": true}]}], "title": ["VDB Combine Fields qL"], "summary": ["Combines various VDB fields with the same names into single fields."]}