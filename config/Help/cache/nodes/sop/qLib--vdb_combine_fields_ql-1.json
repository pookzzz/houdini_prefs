{"type": "root", "attrs": {"icon": "SHELF/pyrocluster", "context": "sop", "type": "node", "internal": "vdb_combine_fields_ql", "version": "1", "namespace": "qLib"}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["VDB Combine Fields qL"], "extent": [52, 78]}, {"type": "para", "indent": 0, "text": [{"type": "strong", "text": ["interface version 1"]}], "extent": [78, 102]}, {"type": "summary", "indent": 0, "text": ["Combines various VDB fields with the same names into single fields."], "extent": [102, 177]}, {"type": "para", "indent": 0, "text": ["This node allows combining VDB fields that match specified criteria into single field(s).\nUseful for merging multiple (e.g. clustered) Pyro simulations."], "extent": [177, 331]}, {"type": "para", "indent": 0, "text": ["Criteria can be as simple as ", {"type": "code", "text": ["@name=density"]}, " (referring to all volumes called ", {"type": "code", "text": ["density"]}, ")\nor ", {"type": "code", "text": ["@name=*"]}, " and setting ", {"type": "em", "text": ["Class"]}, " to ", {"type": "em", "text": ["Fog Volume"]}, " (referring to all fog volume VDB types\nin the input geometry)."], "extent": [331, 533]}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [533, 545], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Name Attribute"], "extent": [545, 566], "body": [{"type": "para", "indent": 8, "text": ["Per-primitive attribute that identifies individual VDB volumes during\n        combining."], "extent": [566, 672]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Combine (Flatten) Operations"], "extent": [672, 706], "body": [{"type": "para", "indent": 8, "text": ["A combine (or flatten) operation consists of volume specification\n        criteria, and the type of combine operation to be performed on all\n        the volumes that match the criteria."], "extent": [706, 909]}, {"type": "para", "indent": 8, "text": ["Volumes can be specified by name and/or other various properties\n        (e.g. data type, vector type, etc). A combine operation will be\n        applied to the volumes that match ", {"type": "em", "text": ["all"]}, " specified criteria\n        (i.e. an ", {"type": "q", "text": ["and"]}, " logical relationship)."], "extent": [909, 1176]}, {"type": "para", "indent": 8, "text": ["Operations are executed in a first-to-last order."], "extent": [1176, 1243]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["Base Group ", {"type": "em", "text": ["n"]}], "extent": [1243, 1267], "body": [{"type": "para", "indent": 12, "text": ["Match volumes by name, using the standard group spec format.\n            Examples:"], "extent": [1267, 1375]}, {"type": "table", "thead": [], "body": [{"type": "row", "body": [{"type": "cell", "indent": 12, "text": ["Value "], "role": "th", "extent": [1375, 1396], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 16, "text": ["Meaning"], "extent": [1396, 1421]}]}], "divider": false}, {"type": "row", "body": [{"type": "cell", "indent": 12, "text": [{"type": "code", "text": ["@name=*"]}, " (or ", {"type": "code", "text": ["*"]}, ") "], "role": "td", "extent": [1421, 1454], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 16, "text": ["Match all volumes"], "extent": [1454, 1488]}]}], "divider": false}, {"type": "row", "body": [{"type": "cell", "indent": 12, "text": [{"type": "code", "text": ["@name=density @name=temperature"]}, " (space-separated ", {"type": "code", "text": ["@name"]}, "-s) "], "role": "td", "extent": [1488, 1564], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 16, "text": ["Match ", {"type": "code", "text": ["density"]}, " or ", {"type": "code", "text": ["temperature"]}, " volumes"], "extent": [1564, 1638]}]}], "divider": false}]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Class"], "extent": [1638, 1653], "body": [{"type": "para", "indent": 12, "text": ["Match volumes by class (fog volume, SDF level set, etc)"], "extent": [1653, 1721]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Value Type"], "extent": [1721, 1741], "body": [{"type": "para", "indent": 12, "text": ["Match volumes by data type (float, vector, etc)"], "extent": [1741, 1801]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Vector Type"], "extent": [1801, 1822], "body": [{"type": "para", "indent": 12, "text": ["Match vector volumes by their type qualifier (color, velocity, etc)"], "extent": [1822, 1915]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Combine Operation"], "extent": [1915, 1942], "body": [{"type": "para", "indent": 12, "text": ["Volumes that match all of the set up criteria above will be\n            VDB Combined, using this operation."], "extent": [1942, 2075]}, {"type": "para", "indent": 12, "text": ["See the ", {"scheme": "Node", "value": "/nodes/sop/vdbcombine", "type": "link", "text": ["VDB Combine help page"], "fullpath": "/nodes/sop/vdbcombine.html"}, " for more details\n            on the various modes."], "extent": [2075, 2191]}], "container": true}], "container": true}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Combine Settings"], "extent": [2191, 2213], "body": [{"type": "para", "indent": 8, "text": ["Various other settings for the VDB Combine operation.\n        See the ", {"scheme": "Node", "value": "/nodes/sop/vdbcombine", "type": "link", "text": ["VDB Combine help page"], "fullpath": "/nodes/sop/vdbcombine.html"}, " for more details."], "extent": [2213, 2354]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Debug"], "extent": [2354, 2365], "body": [{"type": "para", "indent": 8, "text": ["Options to help debugging the combine operations."], "extent": [2365, 2432]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["Add Flatten Info Attrib"], "extent": [2432, 2465], "body": [{"type": "para", "indent": 12, "text": ["A per-primitive attribute (by default ", {"type": "code", "text": ["__flatteninfo"]}, " will be added\n            to the resulting geometry. It\u2019s a string attribute that will contain\n            the index and the type of the operation that was performed on the\n            resulting volumes."], "extent": [2465, 2748]}, {"type": "para", "indent": 12, "text": ["If the attribute is empty, it means the corresponding volumes didn\u2019t\n            match any criteria (and were ignored)."], "extent": [2748, 2893]}, {"type": "para", "indent": 12, "text": ["Examples:"], "extent": [2893, 2928]}, {"type": "table", "thead": [], "body": [{"type": "row", "body": [{"type": "cell", "indent": 12, "text": ["Value "], "role": "th", "extent": [2928, 2949], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 16, "text": ["Meaning"], "extent": [2949, 2986]}]}], "divider": false}, {"type": "row", "body": [{"type": "cell", "indent": 12, "text": [{"type": "code", "text": ["(1)maximum"]}, " "], "role": "td", "extent": [2986, 3013], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 16, "text": ["Volume matched criteria 1 and a ", {"type": "q", "text": ["Maximum"]}, " operation was used"], "extent": [3013, 3090]}]}], "divider": false}, {"type": "row", "body": [{"type": "cell", "indent": 12, "text": [{"type": "code", "text": ["(2)add"]}, " "], "role": "td", "extent": [3090, 3113], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 16, "text": ["Volume matched criteria 2 and an ", {"type": "q", "text": ["Add"]}, " operation was used"], "extent": [3113, 3204]}]}], "divider": false}]}, {"type": "tip_group", "body": [{"type": "tip", "indent": 12, "role": "item", "extent": [3204, 3221], "body": [{"type": "para", "indent": 16, "text": ["This is especially useful when setting up implicit criteria\n                (e.g. referring to volumes as ", {"type": "q", "text": ["velocity vector type"]}, " as opposed to\n                ", {"type": "code", "text": ["@name=vel"]}, ")."], "extent": [3221, 3427]}, {"type": "para", "indent": 16, "text": ["Use the geometry spreadsheet to make sure the criteria work\n                as expected."], "extent": [3427, 3533]}], "container": true}], "container": true, "role": "item_group"}], "container": true}], "container": true}], "container": true, "role": "item"}], "container": true, "role": "item_group"}], "text": "Parameters"}, {"level": 1, "id": "examples", "container": true, "type": "examples_section", "indent": 0, "text": ["Examples"], "role": "section", "extent": [3533, 3552], "body": [{"type": "para", "indent": 4, "text": ["Example criteria \u2013"], "extent": [3552, 3582]}, {"type": "table", "thead": [], "body": [{"type": "row", "body": [{"type": "cell", "indent": 4, "text": ["Intention "], "role": "th", "extent": [3582, 3599], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 8, "text": ["Criteria"], "extent": [3599, 3617]}]}], "divider": false}, {"type": "row", "body": [{"type": "cell", "indent": 4, "text": ["Combine all fog volumes in ", {"type": "q", "text": ["Maximum"]}, " mode "], "role": "td", "extent": [3617, 3665], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 8, "text": [{"type": "code", "text": ["@name=*"]}], "extent": [3665, 3692]}, {"type": "para", "indent": 8, "text": ["Class: Fog Volume"], "extent": [3692, 3727]}, {"type": "para", "indent": 8, "text": ["Operation: Maximum"], "extent": [3727, 3755]}]}], "divider": false}, {"type": "row", "body": [{"type": "cell", "indent": 4, "text": ["Combine all velocity-like fields in ", {"type": "q", "text": ["Add"]}, " mode "], "role": "td", "extent": [3755, 3808], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 8, "text": [{"type": "code", "text": ["@name=*"]}], "extent": [3808, 3835]}, {"type": "para", "indent": 8, "text": ["Vector Type: Displacement/Velocity/Acceleration"], "extent": [3835, 3900]}, {"type": "para", "indent": 8, "text": ["Operation: Add"], "extent": [3900, 3924]}]}], "divider": false}, {"type": "row", "body": [{"type": "cell", "indent": 4, "text": ["Combine all color-like fields in ", {"type": "q", "text": ["Maximum"]}, " mode "], "role": "td", "extent": [3924, 3978], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 8, "text": [{"type": "code", "text": ["@name=*"]}], "extent": [3978, 4005]}, {"type": "para", "indent": 8, "text": ["Class: Other"], "extent": [4005, 4035]}, {"type": "para", "indent": 8, "text": ["Vector Type: Tuple/Color/UVW"], "extent": [4035, 4081]}, {"type": "para", "indent": 8, "text": ["Operation: Add"], "extent": [4081, 4105]}]}], "divider": false}, {"type": "row", "body": [{"type": "cell", "indent": 4, "text": ["Combine all SDFs in SDF Union mode "], "role": "td", "extent": [4105, 4146], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 8, "text": [{"type": "code", "text": ["@name=*"]}], "extent": [4146, 4173]}, {"type": "para", "indent": 8, "text": ["Class: Level Set"], "extent": [4173, 4207]}, {"type": "para", "indent": 8, "text": ["Operation: SDF Union"], "extent": [4207, 4238]}]}], "divider": false}]}]}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [4238, 4247], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["\u2026"], "extent": [4247, 4259]}], "container": true}], "text": "Related"}, {"level": 1, "id": "todo", "container": true, "type": "todo_section", "indent": 0, "text": ["To Do"], "role": "section", "extent": [4259, 4271], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["(DONE) Combined volumes should be ignored"], "extent": [4271, 4319]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Add a ", {"type": "q", "text": ["presets"]}, " button to each criteria to set up fog volume, velocity, Cd, SDF stuff"], "extent": [4319, 4411]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Simplify filters?"], "extent": [4411, 4435]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["\u2026"], "extent": [4435, 4447]}], "container": true}]}, {"level": 1, "id": "relnotes", "container": true, "type": "relnotes_section", "indent": 0, "text": ["Release Notes"], "role": "section", "extent": [4447, 4471], "body": [{"type": "para", "indent": 0, "text": [{"type": "em", "text": ["interface version 1"]}, " \u2013"], "extent": [4471, 4498]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 0, "text": ["2020-08-06"], "extent": [4498, 4510], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Exposed Resample parameter (in Combine Settings) (", {"scheme": null, "value": "https://github.com/qLab/qLib/issues/1095", "type": "link", "text": ["#1095"], "exists": true}, ")"], "extent": [4510, 4617]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2020-05-06"], "extent": [4617, 4629], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": [{"type": "q", "text": ["Combine operations"]}, " collapsible is now open by default"], "extent": [4629, 4691]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Volume visualization detail attributes are now preserved (", {"scheme": null, "value": "https://github.com/qLab/qLib/issues/1017", "type": "link", "text": ["#1017"], "exists": true}, ")"], "extent": [4691, 4806]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2020-05-03"], "extent": [4806, 4818], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Already-combined volumes are not included in subsequent combine ops (", {"scheme": null, "value": "https://github.com/qLab/qLib/issues/1017", "type": "link", "text": ["#1017"], "exists": true}, ")"], "extent": [4818, 4944]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2020-05-03"], "extent": [4944, 4956], "body": [{"type": "para", "indent": 4, "text": ["First version."], "extent": [4956, 4976]}], "container": true}], "container": true}]}], "title": ["VDB Combine Fields qL"], "summary": ["Combines various VDB fields with the same names into single fields."]}