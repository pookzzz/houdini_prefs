{"type": "root", "attrs": {"icon": "VIEW/shadow_quality_high", "context": "sop", "type": "node", "internal": "occlusion_ql", "version": "2", "namespace": "qLib"}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["Occlusion qL"], "extent": [58, 75]}, {"type": "para", "indent": 0, "text": [{"type": "strong", "text": ["interface version 2"]}], "extent": [75, 99]}, {"type": "summary", "indent": 0, "text": ["Calculates ambient occlusion and stores it in per-point attribute(s)."], "extent": [99, 176]}, {"type": "para", "indent": 0, "text": ["This operator calculates ambient occlusion. It also can be tuned to compute ", {"type": "q", "text": ["edge maps"]}, "."], "extent": [176, 267]}, {"type": "para", "indent": 0, "text": [{"scheme": "Image", "value": "/nodes/sop/qLib--occlusion_ql-2/occlusion_ql_sop_main.png", "type": "img", "text": ""}], "extent": [267, 309]}, {"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": [{"type": "em", "text": ["Occlusion attribute calculated for the stanford dragon model."]}], "extent": [309, 376]}], "container": true}, {"type": "para", "indent": 0, "text": [{"scheme": "Image", "value": "/nodes/sop/qLib--occlusion_ql-2/occlusion_ql_sop_edgemap.png", "type": "img", "text": ""}], "extent": [376, 421]}, {"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": [{"type": "em", "text": ["An example set of parameters for computing an ", {"type": "q", "text": ["edge map"]}, "."]}], "extent": [421, 485]}], "container": true}, {"type": "note_group", "body": [{"type": "note", "indent": 0, "role": "item", "extent": [485, 491], "body": [{"type": "para", "indent": 4, "text": ["This is a ", {"type": "q", "text": ["naive"]}, " implementation (without any acceleration techniques),\n    so it can be slow for large number of samples."], "extent": [491, 619]}, {"type": "para", "indent": 4, "text": ["Some recommended workarounds are"], "extent": [619, 657]}, {"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Post-process (blur) the resulting attribute(s)"], "extent": [657, 710]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Compute occlusion for a lower-resolution model, then transfer the results"], "extent": [710, 792]}], "container": true}], "container": true}], "container": true, "role": "item_group"}, {"type": "para", "indent": 0, "text": [{"scheme": "Image", "value": "/nodes/sop/qLib--occlusion_ql-2/occlusion_ql_sop_scatter.png", "type": "img", "text": ""}], "extent": [792, 837]}, {"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": [{"type": "em", "text": ["A Scatter SOP driven by the calculated "]}, {"type": "code", "text": ["occlusion"]}, {"type": "em", "text": [" attribute."]}], "extent": [837, 908]}], "container": true}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [908, 920], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Parameters"], "extent": [920, 936], "body": [{"type": "para", "indent": 8, "text": ["Settings for the ambient occlusion computation."], "extent": [936, 993]}, {"type": "tip_group", "body": [{"type": "tip", "indent": 8, "role": "item", "extent": [993, 1006], "body": [{"type": "para", "indent": 12, "text": ["Make sure geometry normals are correct (i.e. pointing outwards)."], "extent": [1006, 1084]}], "container": true}], "container": true, "role": "item_group"}, {"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["Max Distance"], "extent": [1084, 1106], "body": [{"type": "para", "indent": 12, "text": ["Sampling radius for the ambient occlusion."], "extent": [1106, 1162]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Normal Attrib"], "extent": [1162, 1185], "body": [{"type": "para", "indent": 12, "text": ["If enabled, this (per-point vector) attribute will be used as surface normal\n            for the computations. (Also see tip about normals above.)"], "extent": [1185, 1345]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Flip Normal Direction"], "extent": [1345, 1376], "body": [{"type": "para", "indent": 12, "text": ["Reverses the surface normal direction."], "extent": [1376, 1428]}, {"type": "tip_group", "body": [{"type": "tip", "indent": 12, "role": "item", "extent": [1428, 1445], "body": [{"type": "para", "indent": 16, "text": ["This can be useful for computing edge maps."], "extent": [1445, 1506]}], "container": true}], "container": true, "role": "item_group"}], "container": true}, {"type": "dt", "indent": 8, "text": ["Angle, Exponent"], "extent": [1506, 1531], "body": [{"type": "para", "indent": 12, "text": ["Occlusion aperture cone angle.\n            (The exponent value can be used to bias the ray distribution within the aperture cone.)"], "extent": [1531, 1675]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Num Samples"], "extent": [1675, 1696], "body": [{"type": "para", "indent": 12, "text": ["Number of occlusion rays to be cast. Can get very slow for large numbers."], "extent": [1696, 1783]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Ray Bias"], "extent": [1783, 1801], "body": [{"type": "para", "indent": 12, "text": ["Self-intersection tolerance value."], "extent": [1801, 1849]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Range, Exponent"], "extent": [1849, 1874], "body": [{"type": "para", "indent": 12, "text": ["Additional corrections on computed occlusion value."], "extent": [1874, 1939]}], "container": true}], "container": true}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Output"], "extent": [1939, 1951], "body": [{"type": "para", "indent": 8, "text": ["Output attribute settings. All attributes are per-point types."], "extent": [1951, 2023]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["Occlusion Attrib"], "extent": [2023, 2049], "body": [{"type": "para", "indent": 12, "text": ["Output occlusion as a per-point float attribute (in the ", {"type": "code", "text": ["\\[0..1\\]"]}, " range)."], "extent": [2049, 2137]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Color Attrib"], "extent": [2137, 2159], "body": [{"type": "para", "indent": 12, "text": ["Map the ", {"type": "em", "text": ["Occlusion Attrib"]}, " to a color ramp and output it as a color attribute."], "extent": [2159, 2251]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Distance Attrib"], "extent": [2251, 2276], "body": [{"type": "para", "indent": 12, "text": ["Output the computed average distance as a float attribute.\n            (The occlusion value is this value divided by ", {"type": "em", "text": ["Max Distance"]}, ".)"], "extent": [2276, 2425]}], "container": true}], "container": true}], "container": true, "role": "item"}], "container": true, "role": "item_group"}], "text": "Parameters"}, {"level": 1, "id": "relnotes", "container": true, "type": "relnotes_section", "indent": 0, "text": ["Release Notes"], "role": "section", "extent": [2425, 2449], "body": [{"type": "para", "indent": 0, "text": [{"type": "em", "text": ["interface version 2"]}, " \u2014"], "extent": [2449, 2477]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 0, "text": ["2014-08-28"], "extent": [2477, 2489], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Added ", {"type": "em", "text": ["Flip Normal Direction"]}, " toggle."], "extent": [2489, 2534]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2014-06-10"], "extent": [2534, 2546], "body": [{"type": "para", "indent": 4, "text": ["Interface version 2, initial version."], "extent": [2546, 2588]}, {"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Occlusion aperture is now specified with an angle"], "extent": [2588, 2644]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Better structured output options"], "extent": [2644, 2683]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Output attribute local variables are now properly defined"], "extent": [2683, 2747]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["UI/Help card improvements, internal cleanups"], "extent": [2747, 2798]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Internal calculation is the same (slow)"], "extent": [2798, 2846]}], "container": true}], "container": true}], "container": true}, {"type": "para", "indent": 0, "text": [{"type": "em", "text": ["interface version 1"]}, " \u2014"], "extent": [2846, 2873]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 0, "text": ["Version 0.0.1"], "extent": [2873, 2888], "body": [{"type": "para", "indent": 4, "text": ["Initial version. (Slow \u2013 an alternative, pointcloud-based method would be much faster.)"], "extent": [2888, 2982]}], "container": true}], "container": true}]}], "title": ["Occlusion qL"], "summary": ["Calculates ambient occlusion and stores it in per-point attribute(s)."]}