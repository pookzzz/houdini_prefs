{"type": "root", "attrs": {"icon": "COP2/dropshadow", "context": "sop", "type": "node", "internal": "volume_shape_ql", "version": "3", "namespace": "qLib"}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["Volume Shape qL"], "extent": [50, 70]}, {"type": "para", "indent": 0, "text": [{"type": "strong", "text": ["interface version 3"]}], "extent": [70, 94]}, {"type": "summary", "indent": 0, "text": ["Generates a fog volume with variable falloff using a core and falloff boundary geometry pair."], "extent": [94, 195]}, {"type": "para", "indent": 0, "text": ["This node generates a fog volume from a geometry (core), and a modified version of the same geometry\n(falloff boundary). The generated volume will have fully opaque values within the core, and fog density\nwill gradually diminish between the core and the boundary (falloff)."], "extent": [195, 470]}, {"type": "para", "indent": 0, "text": ["The core and falloff geometry has to have the same topology\n(i.e. they should work as each other\u2019s blend shape targets)."], "extent": [470, 592]}, {"type": "para", "indent": 0, "text": [{"scheme": "Image", "value": "/nodes/sop/qLib--volume_shape_ql-3/volume_shape_ql_geo_and_volume.png", "type": "img", "text": ""}], "extent": [592, 643]}, {"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": [{"type": "em", "text": ["A core/falloff boundary shape pair and the resulting volume."]}], "extent": [643, 709]}], "container": true}, {"type": "tip_group", "body": [{"type": "tip", "indent": 0, "role": "item", "extent": [709, 714], "body": [{"type": "para", "indent": 4, "text": ["Simpler and convex shapes work better than complicated or highly concave ones."], "extent": [714, 798]}], "container": true}], "container": true, "role": "item_group"}, {"level": 1, "id": "inputs", "container": true, "type": "inputs_section", "indent": 0, "role": "section", "extent": [798, 806], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Core geometry"], "extent": [806, 825], "body": [{"type": "para", "indent": 8, "text": ["Geometry specifying the core of the shape.\n        The fog volume will get full density values within the core."], "extent": [825, 946]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Boundary geometry"], "extent": [946, 969], "body": [{"type": "para", "indent": 8, "text": ["Geometry specifying the falloff edge of the shape.\n        It has to have the exact same topology as the Core geometry (i.e. blendshape-able)."], "extent": [969, 1121]}, {"type": "para", "indent": 8, "text": ["There\u2019s no restrictions on the shape of the boundary, but non-self-intersecting\n        shapes work better (for obvious reasons)."], "extent": [1121, 1260]}, {"type": "note_group", "body": [{"type": "note", "indent": 8, "role": "item", "extent": [1260, 1274], "body": [{"type": "para", "indent": 12, "text": ["There is a simple topology-checking safeguard built in (it only checks if the\n            number of points are the same in the core and falloff geometry.) This is intentional\n            so a more lightweight, points-only geometry can be passed to the 2nd input."], "extent": [1274, 1550]}], "container": true}], "container": true, "role": "item_group"}, {"type": "tip_group", "body": [{"type": "tip", "indent": 8, "role": "item", "extent": [1550, 1563], "body": [{"type": "para", "indent": 12, "text": ["Use a Blend Shapes SOP to diagnose potential topology mismatches \u2013 the core and falloff\n            geometry should flawlessly blend shape with each other."], "extent": [1563, 1733]}], "container": true}], "container": true, "role": "item_group"}], "container": true}], "container": true}], "text": "Inputs"}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [1733, 1745], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Volume Name"], "extent": [1745, 1762], "body": [{"type": "para", "indent": 8, "text": ["Name of the generated volume."], "extent": [1762, 1801]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Voxel Size"], "extent": [1801, 1817], "body": [{"type": "para", "indent": 8, "text": ["Voxel size of the generated VDB volume."], "extent": [1817, 1866]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Voxel Scale"], "extent": [1866, 1883], "body": [{"type": "para", "indent": 8, "text": ["If enabled, the voxel size will be multiplied by this value (i.e. higher values\n        result in lower resolution volumes)."], "extent": [1883, 2025]}, {"type": "tip_group", "body": [{"type": "tip", "indent": 8, "role": "item", "extent": [2025, 2038], "body": [{"type": "para", "indent": 12, "text": ["This can be used to temporarily lower volume resolution,\n            and speed up interactive feedback when tweaking shapes."], "extent": [2038, 2176]}], "container": true}], "container": true, "role": "item_group"}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Falloff Distance"], "extent": [2176, 2198], "body": [{"type": "para", "indent": 6, "text": ["If no falloff geometry is connected, this value will be used as a constant falloff."], "extent": [2198, 2289]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Invert"], "extent": [2289, 2301], "body": [{"type": "para", "indent": 8, "text": ["Uses the complement of the computed density value."], "extent": [2301, 2369]}, {"type": "para", "indent": 8, "text": ["This practically ", {"type": "q", "text": ["reverses"]}, " (swaps) the concept of core and boundary\n        (the core will have ", {"type": "em", "text": ["Value Min"]}, " and boundary will have ", {"type": "em", "text": ["Value Max"]}, " values)."], "extent": [2369, 2539]}, {"type": "tip_group", "body": [{"type": "tip", "indent": 8, "role": "item", "extent": [2539, 2552], "body": [{"type": "para", "indent": 12, "text": ["Exponent behaves differently if ", {"type": "em", "text": ["Invert"]}, " is used, compared to when\n            the ", {"type": "em", "text": ["Value Min"]}, " and ", {"type": "em", "text": ["Value Max"]}, " values are swapped."], "extent": [2552, 2696]}], "container": true}], "container": true, "role": "item_group"}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Falloff Exponent"], "extent": [2696, 2718], "body": [{"type": "para", "indent": 8, "text": ["The exponent applied to the falloff region of the volume."], "extent": [2718, 2793]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Value Min"], "extent": [2793, 2808], "body": [{"type": "para", "indent": 8, "text": ["The minimum density value to be used (at the falloff boundary)."], "extent": [2808, 2881]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Value Max"], "extent": [2881, 2896], "body": [{"type": "para", "indent": 8, "text": ["The maximum density value to be used (at the core)."], "extent": [2896, 2957]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Multiple Shapes"], "extent": [2957, 2978], "body": [{"type": "para", "indent": 8, "text": ["Options related to how to deal with multiple input shapes."], "extent": [2978, 3046]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["Mode"], "extent": [3046, 3060], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 12, "text": ["Off"], "extent": [3060, 3077], "body": [{"type": "para", "indent": 16, "text": ["No multiple shapes will be considered. The input(s) can still have multiple shapes,\n                but overlaps might result in artifacts."], "extent": [3077, 3233]}], "container": true}, {"type": "dt", "indent": 12, "text": ["By Connectivity"], "extent": [3233, 3262], "body": [{"type": "para", "indent": 16, "text": ["Multiple shapes will automatically be detected using geometry connectivity.\n                A new Piece Attribute will be generated."], "extent": [3262, 3411]}], "container": true}, {"type": "dt", "indent": 12, "text": ["By Piece Attribute"], "extent": [3411, 3443], "body": [{"type": "para", "indent": 16, "text": ["Multiple shapes are specified by an existing Piece Attribute (see below)."], "extent": [3443, 3533]}], "container": true}], "container": true}], "container": true}, {"type": "dt", "indent": 8, "text": ["Piece Attribute"], "extent": [3533, 3558], "body": [{"type": "para", "indent": 12, "text": ["A primitive string attribute with unique value for each piece. This is generated\n            when using By Connectivity and will be expected to exist if the mode is ", {"type": "q", "text": ["By Piece Attribute"]}, "."], "extent": [3558, 3757]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Prefix"], "extent": [3757, 3773], "body": [{"type": "para", "indent": 12, "text": ["The piece attribute value prefix, when using ", {"type": "q", "text": ["By Connectivity"]}, "."], "extent": [3773, 3849]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Combine Mode"], "extent": [3849, 3871], "body": [{"type": "para", "indent": 12, "text": ["How to combine the resulting volumes. If the setting is ", {"type": "q", "text": ["Off"]}, ", a volume primitive for each\n            input shape pair is generated. Otherwise all will be combined into a single volume."], "extent": [3871, 4083]}, {"type": "para", "indent": 12, "text": ["Single-volume outputs will inherit their ", {"type": "code", "text": ["name"]}, " attribute from the Volume Name."], "extent": [4083, 4188]}, {"type": "note_group", "body": [{"type": "note", "indent": 12, "role": "item", "extent": [4188, 4206], "body": [{"type": "para", "indent": 16, "text": ["When outputting multiple volumes, if the piece attribute is ", {"type": "code", "text": ["name"]}, ", each volume\n                will have an unique name based on the attribute value. Volume visualization doesn\u2019t\n                work well with that, so ", {"type": "strong", "text": ["the volumes might not show up as visible in the viewport"]}, "."], "extent": [4206, 4503]}, {"type": "para", "indent": 16, "text": ["If that\u2019s an issue, use a different piece attribute than ", {"type": "code", "text": ["name"]}, "."], "extent": [4503, 4586]}], "container": true}], "container": true, "role": "item_group"}], "container": true}], "container": true}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Show Guide Geometry"], "extent": [4586, 4611], "body": [{"type": "para", "indent": 8, "text": ["Display lines connecting core geometry points to their boundary pairs.\n        This can help visualising any possible twists or tangles that can\n        result in incorrect volumes."], "extent": [4611, 4804]}], "container": true, "role": "item"}], "container": true, "role": "item_group"}], "text": "Parameters"}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [4804, 4813], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/qLib::attrib_shape_ql::2", "type": "link", "text": ["Attrib Shape qL"], "exists": true}], "extent": [4813, 4871]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/volumevisualization", "type": "link", "text": "", "fullpath": "/nodes/sop/volumevisualization.html"}], "extent": [4871, 4910]}], "container": true}], "text": "Related"}, {"level": 1, "id": "todo", "container": true, "type": "todo_section", "indent": 0, "text": ["To Do"], "role": "section", "extent": [4910, 4922], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Should work with a single input? (e.g. generate constant falloff distance)"], "extent": [4922, 5003]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Find something better than tets for the interpolation computation?"], "extent": [5003, 5079]}], "container": true}]}, {"level": 1, "id": "relnotes", "container": true, "type": "relnotes_section", "indent": 0, "text": ["Release Notes"], "role": "section", "extent": [5079, 5103], "body": [{"type": "para", "indent": 0, "text": [{"type": "em", "text": ["interface version 3"]}, " \u2014"], "extent": [5103, 5131]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 0, "text": ["2024-04-17"], "extent": [5131, 5143], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["More informative network label (", {"scheme": null, "value": "https://github.com/qLab/qLib/issues/1431", "type": "link", "text": ["#1431"], "exists": true}, ")"], "extent": [5143, 5232]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2024-03-26"], "extent": [5232, 5244], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Better support for multiple shape pairs as inputs (", {"scheme": null, "value": "https://github.com/qLab/qLib/issues/1051", "type": "link", "text": ["#1051"], "exists": true}, ")"], "extent": [5244, 5352]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2024-03-22"], "extent": [5352, 5364], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Value Max is now set properly on the core part of the volume (", {"scheme": null, "value": "https://github.com/qLab/qLib/issues/1424", "type": "link", "text": ["#1424"], "exists": true}, ")"], "extent": [5364, 5482]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Invert toggle now works properly"], "extent": [5482, 5521]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Implemented constant falloff distance if no falloff geometry is connected (", {"scheme": null, "value": "https://github.com/qLab/qLib/issues/1424", "type": "link", "text": ["#1424"], "exists": true}, ")"], "extent": [5521, 5652]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Other internal cleanups"], "extent": [5652, 5683]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2024-03-14"], "extent": [5683, 5695], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Fixed a typo in the help page."], "extent": [5695, 5733]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2024-02-26"], "extent": [5733, 5745], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Replaced internal tet construction for a (hopefully) more robust version (", {"scheme": null, "value": "https://github.com/qLab/qLib/issues/1415", "type": "link", "text": ["#1415"], "exists": true}, ")"], "extent": [5745, 5876]}], "container": true}], "container": true}], "container": true}, {"type": "para", "indent": 0, "text": [{"type": "em", "text": ["interface version 2"]}, " \u2014"], "extent": [5876, 5903]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 0, "text": ["2024-02-21"], "extent": [5903, 5915], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Now passes through warnings from underlying tet conform node (", {"scheme": null, "value": "https://github.com/qLab/qLib/issues/1415", "type": "link", "text": ["#1415"], "exists": true}, ")"], "extent": [5915, 6034]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2024-02-10"], "extent": [6034, 6046], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Added internal triangulation to (hopefully) help avoiding potential artifacts in generated volumes (", {"scheme": null, "value": "https://github.com/qLab/qLib/issues/1363", "type": "link", "text": ["#1363"], "exists": true}, ")"], "extent": [6046, 6203]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2023-04-13"], "extent": [6203, 6215], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Updated to use Tet Conform SOP internally"], "extent": [6215, 6265]}], "container": true}], "container": true}], "container": true}, {"type": "para", "indent": 0, "text": [{"type": "em", "text": ["interface version 1"]}, " \u2014"], "extent": [6265, 6292]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 0, "text": ["2020-03-03"], "extent": [6292, 6304], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Added Density Scale visualizer (", {"scheme": null, "value": "https://github.com/qLab/qLib/issues/989", "type": "link", "text": ["#989"], "exists": true}, ")"], "extent": [6304, 6390]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Added ", {"type": "q", "text": ["proxy scale"]}, " network editor indicator (when ", {"type": "em", "text": ["Voxel Scale"]}, " is enabled)"], "extent": [6390, 6473]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Added internal note on tetrahedralize method"], "extent": [6473, 6525]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2020-03-02"], "extent": [6525, 6537], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Guide geometry will show self-intersections on the first input geo (if any)"], "extent": [6537, 6620]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2020-03-01"], "extent": [6620, 6632], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Renamed ", {"type": "em", "text": ["VDB Name"]}, " parameter to ", {"type": "em", "text": ["Volume Name"]}], "extent": [6632, 6684]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Added guide geometry display"], "extent": [6684, 6719]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Added ", {"type": "em", "text": ["Voxel Scale"]}, " option (to support temporary ", {"type": "q", "text": ["proxy res"]}, " mode)"], "extent": [6719, 6792]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Added very basic topology checking for inputs"], "extent": [6792, 6844]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Added more shape parameters (Invert, Value Min/Max)"], "extent": [6844, 6903]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2020-02-29"], "extent": [6903, 6915], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["First prototype version."], "extent": [6915, 6947]}], "container": true}], "container": true}], "container": true}]}], "title": ["Volume Shape qL"], "summary": ["Generates a fog volume with variable falloff using a core and falloff boundary geometry pair."]}