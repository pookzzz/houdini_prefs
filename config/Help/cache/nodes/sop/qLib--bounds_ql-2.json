{"type": "root", "attrs": {"icon": "ROP/brickmap", "context": "sop", "type": "node", "internal": "bounds_ql", "version": "2", "namespace": "qLib"}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["Bounds qL"], "extent": [47, 61]}, {"type": "para", "indent": 0, "text": [{"type": "strong", "text": ["interface version 2"]}], "extent": [61, 85]}, {"type": "summary", "indent": 0, "text": ["Builds the bounding box for animated input geometry over a specified frame range."], "extent": [85, 174]}, {"type": "para", "indent": 0, "text": ["This operator evaluates its input geometry over a frame range, merge it into a single geometry,\nand compute the resulting bounds. The results are also returned as numeric parameter values\n(so they can be referred to in expressions, etc)."], "extent": [174, 413]}, {"type": "para", "indent": 0, "text": [{"scheme": "Image", "value": "/nodes/sop/qLib--bounds_ql-2/bounds_ql_sop_main.png", "type": "img", "text": ""}], "extent": [413, 452]}, {"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": [{"type": "em", "text": ["Bounds of the view frustum of an animated camera: a common technique for determining the visible\n  3D area of a shot (used with a "]}, {"scheme": "Node", "value": "/nodes/sop/qLib::camera_frustrum_ql::1", "type": "link", "text": ["Camera Frustrum qL SOP"], "exists": true}, {"type": "em", "text": [").\n  The color-code indicates the relative timing of each geometry snapshot."]}], "extent": [452, 727]}], "container": true}, {"type": "para", "indent": 0, "text": ["This operator can be very useful for DOP solvers that have bounding box settings for spatial limits\n(e.g. fluids or volumetrics)."], "extent": [727, 858]}, {"type": "para", "indent": 0, "text": ["With this node, such limits can be easily approximated, even (especially) when considering animated\ngeometry."], "extent": [858, 969]}, {"type": "tip_group", "body": [{"type": "tip", "indent": 0, "role": "item", "extent": [969, 974], "body": [{"type": "para", "indent": 4, "text": ["A practical example: when doing fluid simulations, the bounding box size and center\n    output values can be directly linked to the volume limit parameters of a ", {"scheme": "Node", "value": "/nodes/dop/flipsolver", "type": "link", "text": ["Flip Solver DOP"], "fullpath": "/nodes/dop/flipsolver.html"}, "."], "extent": [974, 1179]}, {"type": "para", "indent": 4, "text": ["This allows for completely procedural simulation setups \u2013 no need to adjust the limits by\n    hand after geometry or animation changes. (The bounding geometry itself could be constructed from\n    actual scene objects that are involved in the simulation.)"], "extent": [1179, 1440]}], "container": true}, {"type": "tip", "indent": 0, "role": "item", "extent": [1440, 1445], "body": [{"type": "para", "indent": 4, "text": ["For heavier geometry, use larger frame step values and ", {"type": "q", "text": ["Bounding Box"]}, " detail mode."], "extent": [1445, 1533]}, {"type": "para", "indent": 4, "text": ["Although the overall bounds computation might end up being expensive, it also has to be\n    computed ", {"type": "em", "text": ["once"]}, " (unless the input geometry animation changes)."], "extent": [1533, 1694]}], "container": true}], "container": true, "role": "item_group"}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [1694, 1706], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Group, Group Type"], "extent": [1706, 1729], "body": [{"type": "para", "indent": 8, "text": ["Allows to specify a subset of the entire geometry to work with."], "extent": [1729, 1802]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Frame Range (Start, End, Inc)"], "extent": [1802, 1837], "body": [{"type": "para", "indent": 8, "text": ["The input geometry will be evaulated multiple times within this range,\n        the results merged, and from ", {"type": "em", "text": ["that"]}, " will the final bounding box be computed."], "extent": [1837, 2002]}, {"type": "para", "indent": 8, "text": ["The ", {"type": "em", "text": ["frame step"]}, " value is important: for heavier geometry, keep it as low as possible,\n        but without losing detail from the animation (the visual feedback of the guide display\n        can be helpful)."], "extent": [2002, 2218]}, {"type": "para", "indent": 8, "text": ["(Usually it\u2019s enough to sample every ", {"type": "em", "text": ["n"]}, "-th frame \u2013 the results will still be acceptable,\n        and with a much smaller speed/memory impact.)"], "extent": [2218, 2372]}, {"type": "para", "indent": 8, "text": ["Also note that for all fields ", {"type": "em", "text": ["fractional values are supported"]}, " (so non-integer frame\n        step values are valid and allowed)."], "extent": [2372, 2511]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Sub Range (Start, End)"], "extent": [2511, 2539], "body": [{"type": "para", "indent": 8, "text": ["An optional subset of the frame range to keep. This can be used to have the bounds\n        continuously shrink (or expand) throughout the frame range."], "extent": [2539, 2707]}, {"type": "para", "indent": 8, "text": ["This can be useful to get rid of areas that won\u2019t be visible by the camera any more\n        (i.e. shrinking domain)."], "extent": [2707, 2841]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Geometry Detail"], "extent": [2841, 2862], "body": [{"type": "para", "indent": 8, "text": ["The detail level of each individual geometry that will be merged together for the bounding\n        box computation."], "extent": [2862, 2987]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["Bounding Boxes"], "extent": [2987, 3011], "body": [{"type": "para", "indent": 12, "text": ["Replace each geometry sample from the animation with its bounding box.\n            It might be useful for heavy input geometry.\n            (The final result box will be somewhat larger.)"], "extent": [3011, 3224]}, {"type": "note_group", "body": [{"type": "note", "indent": 12, "role": "item", "extent": [3224, 3242], "body": [{"type": "para", "indent": 16, "text": ["Use this mode if the input geometry contains volumes\n                or packed geometry."], "extent": [3242, 3348]}], "container": true}], "container": true, "role": "item_group"}], "container": true}, {"type": "dt", "indent": 8, "text": ["Points Only"], "extent": [3348, 3369], "body": [{"type": "para", "indent": 12, "text": ["Keep only points of the incoming geometry. When outputting bounds,\n            this has the same result as ", {"type": "em", "text": ["Full Geometry"]}, ", but more lightweight."], "extent": [3369, 3528]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Full Geometry"], "extent": [3528, 3551], "body": [{"type": "para", "indent": 12, "text": ["Retain the full input geometry for each frame sampled.\n            Use only if ", {"type": "em", "text": ["Output Type"]}, " is ", {"type": "em", "text": ["Geometry Trail"]}, "."], "extent": [3551, 3678]}], "container": true}], "container": true}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Output Type"], "extent": [3678, 3695], "body": [{"type": "para", "indent": 8, "text": ["Geometry to output: final bounding box, or the geometry ", {"type": "q", "text": ["trail"]}, " the final bounds are computed from."], "extent": [3695, 3804]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Piece Attribute"], "extent": [3804, 3825], "body": [{"type": "para", "indent": 8, "text": ["Partition incoming geometry based on a per-primitive or per-point string or integer geometry,\n        and output bounds for each one individually.\n        Output geometry pieces will inherit their piece attribute values."], "extent": [3825, 4063]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Minimum Size,\n    Lower Padding,\n    Upper Padding"], "extent": [4063, 4119], "body": [{"type": "para", "indent": 8, "text": ["Adjustments to the final bounding box (see ", {"scheme": "Node", "value": "/nodes/sop/bound", "type": "link", "text": ["Bound SOP"], "fullpath": "/nodes/sop/bound.html"}, " for details.)"], "extent": [4119, 4212]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Show Guide"], "extent": [4212, 4228], "body": [{"type": "para", "indent": 8, "text": ["The guide display shows all the geometry that is merged together from the individual animation\n        frames. It can be useful for adjusting geometry detail and frame step (Inc) settings."], "extent": [4228, 4426]}], "container": true, "role": "item"}], "container": true, "role": "item_group"}], "text": "Parameters"}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [4426, 4435], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/bound", "type": "link", "text": "", "fullpath": "/nodes/sop/bound.html"}], "extent": [4435, 4458]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/qLib::camera_frustrum_ql::1", "type": "link", "text": ["Camera Frustrum qL SOP"], "exists": true}], "extent": [4458, 4528]}], "container": true}], "text": "Related"}, {"level": 1, "id": "relnotes", "container": true, "type": "relnotes_section", "indent": 0, "text": ["Release Notes"], "role": "section", "extent": [4528, 4552], "body": [{"type": "para", "indent": 0, "text": [{"type": "em", "text": ["interface version 2"]}, " \u2014"], "extent": [4552, 4580]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 0, "text": ["2022-12-22"], "extent": [4580, 4592], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Sub range option now works with points-only geometry (", {"scheme": null, "value": "https://github.com/qLab/qLib/issues/1353", "type": "link", "text": ["#1353"], "exists": true}, ")"], "extent": [4592, 4703]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2020-08-06"], "extent": [4703, 4715], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Fixed range presets button(s) (", {"scheme": null, "value": "https://github.com/qLab/qLib/issues/1094", "type": "link", "text": ["#1094"], "exists": true}, ")"], "extent": [4715, 4803]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2020-01-30"], "extent": [4803, 4815], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Added support for per-piece bounds"], "extent": [4815, 4856]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Fixed Sub Range preset menu (now it should always work)"], "extent": [4856, 4919]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2019-10-18"], "extent": [4919, 4931], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Resaved in H17.5 to get rid of Bound SOP warning (", {"scheme": null, "value": "https://github.com/qLab/qLib/issues/856", "type": "link", "text": ["#856"], "exists": true}, ")"], "extent": [4931, 5036]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2019-08-30"], "extent": [5036, 5048], "body": [{"type": "para", "indent": 4, "text": ["Interface version 2"], "extent": [5048, 5072]}, {"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Label is now ", {"type": "q", "text": ["Bounds from Anim qL"]}], "extent": [5072, 5113]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Cleaned up UI / functionality"], "extent": [5113, 5149]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Added Sub Range parameters (to allow shrinking/growing bounds)"], "extent": [5149, 5218]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Note: adjusting frame range can temporarily mess with upstream template displays  \u2192 look into it"], "extent": [5218, 5321], "body": [{"type": "bullet_group", "body": [{"blevel": 8, "type": "bullet", "indent": 6, "text": ["v1 does the same\u2026 :/"], "extent": [5321, 5352]}], "container": true}], "container": true}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["TODO: time (frame) attribute should be output? there could be an option for that"], "extent": [5352, 5441]}], "container": true}], "container": true}], "container": true}, {"type": "para", "indent": 0, "text": [{"type": "em", "text": ["interface version 1"]}, " \u2014"], "extent": [5441, 5468]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 0, "text": ["2018-03-08"], "extent": [5468, 5480], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Ignoring zero-sized (empty) bounding boxes (", {"scheme": null, "value": "https://github.com/qLab/qLib/issues/692", "type": "link", "text": ["#692"], "exists": true}, ")"], "extent": [5480, 5579]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2017-09-21"], "extent": [5579, 5591], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Minor tweaks"], "extent": [5591, 5610]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Addressed ", {"type": "q", "text": ["Bounds qL SOP: resulting centroids/trajectory points are in reverse order? (H16.0.633) #621"]}], "extent": [5610, 5721]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2016-08-25"], "extent": [5721, 5733], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Added Alembic SOP bounding box parameter presets to ", {"type": "q", "text": ["Link to Container"]}, "."], "extent": [5733, 5813]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2016-08-13"], "extent": [5813, 5825], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Added bounding box/volume related note to help and mode parameter"], "extent": [5825, 5897]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"type": "q", "text": ["Guide Colors"]}, " now overwrites any existing color on incoming geometry"], "extent": [5897, 5974]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2014-05-07"], "extent": [5974, 5986], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Group parameter now works properly"], "extent": [5986, 6027]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Some UI/help streamlining"], "extent": [6027, 6059]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Added Centroids option for Geometry Detail"], "extent": [6059, 6109]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2014-03-10"], "extent": [6109, 6121], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Added main help image."], "extent": [6121, 6151]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2014-01-16"], "extent": [6151, 6163], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Added support for fractional frame increments (with a limit of 0.01)."], "extent": [6163, 6240]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2014-01-15"], "extent": [6240, 6252], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Added bbox link preset for FLIP fluid solver maximum volume limit parameters."], "extent": [6252, 6337]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2013-09-15"], "extent": [6337, 6349], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Added more presets to Link to Container parameters"], "extent": [6349, 6407]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2013-09-12"], "extent": [6407, 6419], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Added frame range presets"], "extent": [6419, 6451]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Added ", {"type": "q", "text": ["Link to Container"]}, " output functionality"], "extent": [6451, 6505]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2013-08-27"], "extent": [6505, 6517], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Added colored guide option to indicate trail direction over time"], "extent": [6517, 6588]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Minor UI changes"], "extent": [6588, 6612]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2013-08-13"], "extent": [6612, 6624], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Attributes/groups are kept if the output is ", {"type": "q", "text": ["trailed geometry"]}, "."], "extent": [6624, 6695]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2013-05-08"], "extent": [6695, 6707], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Added ", {"type": "q", "text": ["Convert to Polygons"]}, " toggle."], "extent": [6707, 6750]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2013-04-22"], "extent": [6750, 6762], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Changed default node color to light green (the ", {"type": "q", "text": ["referred-to"]}, " color)."], "extent": [6762, 6837]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Published the 'Editable' switch in the UI for the output expressions."], "extent": [6837, 6914]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2013-04-18"], "extent": [6914, 6926], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Supports ", {"type": "code", "text": ["Group"]}, " parameter"], "extent": [6926, 6959]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Distinctive node color"], "extent": [6959, 6988]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Displays animation range in network editor (descriptive parm)"], "extent": [6988, 7056]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Convenience button for node name prefixing (", {"type": "q", "text": ["BOUNDS_<name>"]}, ")"], "extent": [7056, 7124]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2013-04-14"], "extent": [7124, 7136], "body": [{"type": "para", "indent": 4, "text": ["The first frame of the range were often not added to the overall bounding box (the usual ", {"type": "q", "text": ["remainder issue"]}, ").\n    This is now fixed."], "extent": [7136, 7273]}], "container": true}, {"type": "dt", "indent": 0, "text": ["2013-04-10"], "extent": [7273, 7285], "body": [{"type": "para", "indent": 4, "text": ["First version."], "extent": [7285, 7304]}], "container": true}], "container": true}]}], "title": ["Bounds qL"], "summary": ["Builds the bounding box for animated input geometry over a specified frame range."]}