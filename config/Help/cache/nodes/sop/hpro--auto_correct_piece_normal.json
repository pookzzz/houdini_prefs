{"type": "root", "attrs": {"type": "node", "context": "sop", "internal": "hpro::auto_correct_piece_normal", "icon": "SOP/foreach", "tags": "hpro, piece", "version": null, "namespace": "hpro"}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["HPro - Auto Correct Piece Normal"], "extent": [0, 37]}, {"type": "summary", "indent": 0, "text": [" Auto correct piece\u2019s poly normal. "], "extent": [146, 189]}, {"type": "video_group", "body": [{"ext": null, "type": "video", "indent": 0, "role": "item", "extent": [189, 197], "body": [], "container": true, "attrs": {"src": "/movies/auto_correct_piece_normal.mp4"}}], "container": true, "role": "item_group"}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [250, 262], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Detect Piece"], "extent": [262, 280], "body": [{"type": "para", "indent": 8, "text": ["Two methods to detect piece."], "extent": [280, 317]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Poly Gap Threshold"], "extent": [317, 341], "body": [{"type": "para", "indent": 8, "text": ["I use bounding group method to find reversed poly. First, I extract piece\u2019s each poly centroid to point, then move the point along the poly normal, the move distance is the ", {"type": "q", "text": ["Poly Gap Threshold"]}, ". That means the two nearest polys must have gap that larger than ", {"type": "q", "text": ["Poly Gap Threshold"]}, ", otherwise it would not calculate correctly later. Then I treat the origin piece as a bounding geo, and use group SOP to group the point by bounding geo. If the point is grouped, it means the corresponding poly is reversed."], "extent": [341, 853]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Correct Poly Normal"], "extent": [853, 878], "body": [{"type": "para", "indent": 8, "text": ["Check it to really correct the reversed poly normal."], "extent": [878, 939]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Mark Reversed Poly"], "extent": [939, 963], "body": [{"type": "para", "indent": 8, "text": ["Mark the reversed poly by group or set attribute."], "extent": [963, 1020]}], "container": true, "role": "item"}], "container": true, "role": "item_group"}], "text": "Parameters"}], "title": ["HPro - Auto Correct Piece Normal"], "summary": [" Auto correct piece\u2019s poly normal. "]}