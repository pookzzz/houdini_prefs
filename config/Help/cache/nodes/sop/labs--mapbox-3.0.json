{"type": "root", "attrs": {"type": "node", "context": "sop", "internal": "labs::mapbox::3.0", "icon": "SOP/labs::mapbox::3.0", "since": "19.5", "version": "3.0", "namespace": "labs"}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["Labs Mapbox"], "extent": [111, 127]}, {"type": "summary", "indent": 0, "text": ["Downloads real-world terrain tiles from Mapbox."], "extent": [127, 183]}, {"type": "para", "indent": 0, "text": ["This node downloads DEM (digital elevation model) data, satellite images, or other styles of color maps from Mapbox. It can output both terrain heightfields and terrain meshes."], "extent": [183, 361]}, {"type": "note_group", "body": [{"type": "note", "indent": 0, "role": "item", "extent": [361, 367], "body": [{"type": "para", "indent": 4, "text": ["Please refer to ", {"scheme": null, "value": "https://www.mapbox.com", "type": "link", "text": ["Mapbox"], "exists": true}, " for account registration, pricing, and ", {"scheme": null, "value": "https://docs.mapbox.com/help/getting-started/attribution/", "type": "link", "text": ["attribution"], "exists": true}, " requirements."], "extent": [367, 545]}], "container": true}], "container": true, "role": "item_group"}, {"type": "tip_group", "body": [{"type": "tip", "indent": 0, "role": "item", "extent": [545, 550], "body": [{"type": "para", "indent": 4, "text": ["If you are going to place this node inside another HDA, you need to add this node to the list of ", {"type": "ui", "text": ["Editable Nodes"]}, " on that HDA."], "extent": [550, 684]}], "container": true}], "container": true, "role": "item_group"}, {"type": "para", "indent": 0, "text": ["Using this node requires one or two string tokens provided by Mapbox. The steps to acquire and set these tokens are described below."], "extent": [684, 818]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Setting Tokens"], "extent": [818, 839], "body": [{"level": 3, "id": null, "container": true, "type": "h", "indent": 0, "text": ["API Access Token"], "extent": [839, 865], "body": [{"type": "para", "indent": 0, "text": ["This is a long string token, needed for launching the interactive map, downloading maps, and acquiring the SKU token. To set it:"], "extent": [865, 996]}, {"type": "para", "indent": 0, "text": [{"tag": "p", "attrs": {}, "type": "xml", "text": ["1. Go to ", {"scheme": null, "value": "https://www.mapbox.com", "type": "link", "text": ["Mapbox"], "exists": true}, " and create an account if you do not already have one."]}, "\n", {"tag": "p", "attrs": {}, "type": "xml", "text": ["2. Go to your ", {"scheme": null, "value": "https://account.mapbox.com/", "type": "link", "text": ["Mapbox account page"], "exists": true}, ". Find your API access token under ", {"type": "ui", "text": ["Default public token"]}, ". Copy it."]}, "\n", {"tag": "p", "attrs": {}, "type": "xml", "text": ["3.a. Go to your Houdini user preference directory ", {"type": "code", "text": ["$HOUDINI_USER_PREF_DIR"]}, " (on Windows OS, it is typically ", {"type": "code", "text": ["C:\\Users\\...\\Documents\\houdiniX.Y"]}, "). Open ", {"type": "ui", "text": ["houdini.env"]}, " with a text editor. Add a new line at the end: ", {"type": "code", "text": ["MAPBOX_API = pk.***"]}, " (replace the ", {"type": "code", "text": ["pk.***"]}, " part with your actual token). This sets the token as a Houdini environment variable, which is more convenient because the token does not change often."]}, "\n", {"tag": "p", "attrs": {}, "type": "xml", "text": ["3.b. Alternatively, paste the token to ", {"type": "ui", "text": ["Location and Maps"]}, " > ", {"type": "ui", "text": ["Mapbox Download Tokens"]}, " > ", {"type": "ui", "text": ["API Access Token"]}, ". This is less convenient because you have to do this for every ", {"type": "em", "text": ["Labs Mapbos SOP"]}, " you create."]}], "extent": [996, 1867]}]}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 0, "text": ["SKU Token"], "extent": [1867, 1885], "body": [{"type": "para", "indent": 0, "text": ["This is a short string token, needed for downloading elevation maps. To set it:"], "extent": [1885, 1967]}, {"tag": "p", "attrs": {}, "type": "xml", "text": ["1. On the ", {"type": "ui", "text": ["Location and Maps"]}, " tab, launch the interactive map from either of the ", {"type": "ui", "text": ["Look Up"]}, " buttons. On the interactive map window, pressing either ", {"type": "ui", "text": ["Set Location Only"]}, " or ", {"type": "ui", "text": ["Set Location and Download"]}, " will automatically set the SKU token."]}, {"tag": "p", "attrs": {}, "type": "xml", "text": ["2. If for whatever reason the SKU token is not set or not working, press ", {"type": "ui", "text": ["Mapbox Download Tokens"]}, " > ", {"type": "ui", "text": ["Rrefesh SKU Token"]}, ", and then on the pop-up window, press ", {"type": "ui", "text": ["Get New SKU Token"]}, "."]}]}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Creating Seamless Terrain Tiles"], "extent": [2412, 2450], "body": [{"level": 3, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Seamless Elevations, Colors, and Materials"], "extent": [2450, 2502], "body": [{"type": "para", "indent": 0, "text": ["You can join the output tiles of multiple ", {"type": "em", "text": ["Labs Mapbox SOPs"]}, " together to form a larger piece of terrain. To do so:"], "extent": [2502, 2619]}, {"type": "para", "indent": 0, "text": [{"tag": "p", "attrs": {}, "type": "xml", "text": ["1. Create multiple ", {"type": "em", "text": ["Labs Mapbox SOPs"]}, " that use the same location settings and tokens."]}, "\n", {"tag": "p", "attrs": {}, "type": "xml", "text": ["2. Move each tile to its intended location by setting ", {"type": "ui", "text": ["Location and Maps"]}, " > ", {"type": "ui", "text": ["Tile Offset X/Y"]}, ". The unit of this parameter is one full tile width."]}, "\n", {"tag": "p", "attrs": {}, "type": "xml", "text": ["3. All the tiles must share the same width. The easiest way to do this is using one node to provide the reference tile width. On all the other nodes, set ", {"type": "ui", "text": ["Tile Scale"]}, " > ", {"type": "ui", "text": ["Tile Width"]}, " to ", {"type": "ui", "text": ["From Reference Mapbox SOP"]}, ", and then pointing ", {"type": "ui", "text": ["Reference Mapbox"]}, " to the reference node."]}, "\n", {"tag": "p", "attrs": {}, "type": "xml", "text": ["4. Download all the selected maps on all the nodes."]}, "\n", {"tag": "p", "attrs": {}, "type": "xml", "text": ["5. Turn on ", {"type": "ui", "text": ["Seamless Tiling"]}, " > ", {"type": "ui", "text": ["Enable Seamless Tiling with Neighbour Tiles"]}, " on all the nodes."]}, "\n", {"tag": "p", "attrs": {}, "type": "xml", "text": ["6. Set the correct ", {"type": "ui", "text": ["Top Neighbour"]}, ", ", {"type": "ui", "text": ["Right Neighbour"]}, ", and ", {"type": "ui", "text": ["Top-Right Neighbour"]}, " on all the nodes. Leave it blank if a tile does not have a certain neighbour."]}, "\n", {"tag": "p", "attrs": {}, "type": "xml", "text": ["7. (Optional) If you want to use the tileable color map for the materials, press ", {"type": "ui", "text": ["Seamless Tiling"]}, " > ", {"type": "ui", "text": ["Tileable Material"]}, " > ", {"type": "ui", "text": ["Render Tileable Color Map"]}, " on all the nodes."]}, "\n", {"tag": "p", "attrs": {}, "type": "xml", "text": ["8. (Optional) If the location has changed, please re-download all the selected maps, re-render all the tileable color maps (if they are used), and re-enable any material/color parameters on the ", {"type": "ui", "text": ["Output"]}, " tab that have been automatically turned off during the downloads to avoid texture sync issues."]}], "extent": [2619, 3985]}]}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Seamless Normals"], "extent": [3985, 4010], "body": [{"type": "para", "indent": 0, "text": ["For both heightfield tiling and mesh tiling, it is impossible to make normals seamless with this node alone, because normals are inherently inconsistent between two sides of unfused borders. However, you can make normals seamless with a downstream ", {"type": "em", "text": ["Labs Mapbox Post-process SOP"]}, " that works on all the tiles at once."], "extent": [4010, 4328]}]}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Troubleshooting"], "extent": [4328, 4350], "body": [{"level": 3, "id": null, "container": true, "type": "h", "indent": 0, "text": [{"type": "q", "text": ["Your file was not found / ERR_FILE_NOT_FOUND"]}], "extent": [4350, 4406], "body": [{"type": "para", "indent": 0, "text": ["When launching the interactive map, if you see this error message, simply create a new ", {"type": "em", "text": ["Labs Mapbox SOP"]}, " in your network. That should immediately fix the problem and you can delete the new node you created. (Whenever this node is created, it automatically copies several HTML files to ", {"type": "code", "text": ["$HOUDINI_USER_PREF_DIR/SideFXLabs/misc/mapbox/"]}, ". This error message means the node cannot find the necessary HTML files.)"], "extent": [4406, 4816]}]}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Black screen"], "extent": [4816, 4837], "body": [{"type": "para", "indent": 0, "text": ["When launching the interactive map, if you see a black screen (often followed by a crash), there is likely some issue with connecting to the server or rendering the map view. Give it some time and then open a temporary, blank Houdini scene. Create a ", {"type": "em", "text": ["Labs Mapbox SOP"]}, " and try re-launching the interactive map. If the map is back to normal, you can return to your original Houdini scene."], "extent": [4837, 5226]}]}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Materials displays no texture"], "extent": [5226, 5264], "body": [{"type": "para", "indent": 0, "text": ["If a material does not display any texture, even if the texture file exists on disk, check if the viewport material toggle is on and that the material is enabled on the ", {"type": "ui", "text": ["Output"]}, " tab. If everything looks normal, try pressing ", {"type": "ui", "text": ["Refresh Viewport"]}, " before pressing ", {"type": "ui", "text": ["Reload Textures"]}, ". If there is still no texture, then this is most likely a rare deadlock that the viewport can enter when a material is being displayed while its texture path is pointing to a nonexistent file. If the viewport is already in this deadlock, you have to make sure the required texture is present on disk, and then restart Houdini."], "extent": [5264, 5877]}]}]}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [5877, 5889], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Mode"], "extent": [5889, 5900], "body": [{"type": "para", "indent": 8, "text": ["Controls whether to defer cooking until the maps are downloaded, or to immediately cook output geometries with existing maps."], "extent": [5918, 6065]}], "container": true, "attrs": {"id": "mode"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Download"], "extent": [6065, 6079], "body": [{"type": "para", "indent": 8, "text": ["Downloads the selected maps from Mapbox\u2019s servers.\n        ", {"tag": "p", "attrs": {}, "type": "xml", "text": ["When the download starts, all material/color parameters are automatically turned off to avoid texture sync issues. When you manually turn a material/color parameter back on, a safety check for texture dependencies is enforced through that parameter\u2019s callback script."]}], "extent": [6101, 6452]}], "container": true, "attrs": {"id": "download"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Refresh Viewport"], "extent": [6452, 6474], "body": [{"type": "para", "indent": 8, "text": ["Press this if a terrain material in the viewport is displaying an out-of-date texture."], "extent": [6503, 6607]}], "container": true, "attrs": {"id": "refreshviewport"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Reload Textures"], "extent": [6607, 6628], "body": [{"type": "para", "indent": 8, "text": ["Press this to reload all the textures used by this node\u2019s internal COPs and SOPs. This is much slower than ", {"type": "ui", "text": ["Refresh Viewport"]}, ", so only press this when necessary.\n        ", {"tag": "p", "attrs": {}, "type": "xml", "text": ["While this should fix most texture sync issues, there is one rare exception when a material does not display any texture. Please see the ", {"type": "ui", "text": ["Troubleshooting"]}, " section of the Help page."]}], "extent": [6651, 7030]}], "container": true, "attrs": {"id": "reloadtex"}, "role": "item"}], "container": true, "role": "item_group"}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 4, "text": ["Location and Maps"], "extent": [7030, 7058], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Maps"], "extent": [7058, 7069], "body": [{"type": "para", "indent": 8, "text": ["The map(s) to include. This affects both the downloads and the output geometries."], "extent": [7087, 7190]}], "container": true, "attrs": {"id": "maps"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Location Mode"], "extent": [7190, 7209], "body": [{"type": "para", "indent": 8, "text": ["Specifies how to set the location of this tile. In most cases, it is probably easier to set the location using latitude and longitude, but the tile indices option is also provided for special use cases.\n        ", {"tag": "p", "attrs": {}, "type": "xml", "text": ["Latitude and longitude allow you to pin specific coordinates. Depending on ", {"type": "ui", "text": ["Tile Alignment"]}, ", you can either use the pinned coordinates as the center of your tile or coordinates your tile must contain."]}, "\n        ", {"tag": "p", "attrs": {}, "type": "xml", "text": ["Mapbox\u2019s APIs divide Earth\u2019s surface into a grid of square tiles. We refer to these as ", {"type": "q", "text": ["precut tiles"]}, " because their tile borders are predetermined and fixed. At each zoom level, a tile contains exactly 4 evenly divided tiles of the next zoom level. At zoom level 0, there is only 1 tile covering the whole Earth; at zoom level 1, 4 tiles; at zoom level 2, 16 tiles; and so on."]}, "\n        ", {"tag": "p", "attrs": {}, "type": "xml", "text": ["The X index and Y index refer to a pair of integer indices associated with each tile at each zoom level. X increases from west to east. Y increases from north to south. The highest index at a given zoom level equals ", {"type": "code", "text": ["pow(2, zoom) - 1"]}, "."]}], "extent": [7230, 8315]}], "container": true, "attrs": {"id": "locmode"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Tile Alignment"], "extent": [8315, 8335], "body": [{"type": "para", "indent": 8, "text": ["Specifies whether you want to center your tile at the pinned coordinates. The centered option requires more map downloads. Mapbox APIs only allow you to download ", {"type": "q", "text": ["precut tiles"]}, " (see ", {"type": "ui", "text": ["Location Mode"]}, " for the definition), and only at the maximum resolution of 1024\u00d71024 for color maps or 512\u00d7512 for elevation maps. In order to obtain higher resolution 2048\u00d72048 color maps or 1024\u00d71024 elevation maps, multiple maps of the next zoom level will be downloaded to composite the final maps.\n        ", {"tag": "p", "attrs": {}, "type": "xml", "text": [{"type": "ui", "text": ["Custom-Cut Tile Centered at Lat/Lon"]}, ": 9 next-zoom-level maps will be downloaded, combined, and cropped to generate a custom tile centered at the pinned coordinates."]}, "\n        ", {"tag": "p", "attrs": {}, "type": "xml", "text": [{"type": "ui", "text": ["Precut Tile Containing Lat/Lon"]}, ": 4 next-zoom-level maps will be downloaded and combined to generate a precut tile containing the pinned coordinates."]}], "extent": [8358, 9204]}, {"type": "note_group", "body": [{"type": "note", "indent": 8, "role": "item", "extent": [9204, 9218], "body": [{"type": "para", "indent": 12, "text": ["Please refer to your ", {"scheme": null, "value": "https://account.mapbox.com/", "type": "link", "text": ["Mapbox account"], "exists": true}, " for detailed pricing information and usage statistics."], "extent": [9218, 9364]}], "container": true}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "alignmode"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["View Precut Tile"], "extent": [9364, 9386], "body": [{"type": "para", "indent": 8, "text": ["Displays the precut tile containing the pinned coordinates. If ", {"type": "ui", "text": ["Tile Offset X/Y"]}, " is {0, 0}, then this view should match the map you download.\n        ", {"tag": "p", "attrs": {}, "type": "xml", "text": ["This is different from ", {"type": "ui", "text": ["Look Up"]}, ", which when pressed, shows a view that is always centered at the pinned coordinates."]}], "extent": [9413, 9709]}], "container": true, "attrs": {"id": "previewprecut"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Lat/Lon/Zoom"], "extent": [9709, 9727], "body": [{"type": "para", "indent": 8, "text": ["Latitude, longitude, and the zoom level. The zoom level must be an integer. If you keep the latitude and longitude fixed while changing the zoom level, it has the effect of zooming in/out at the same location."], "extent": [9751, 9978]}], "container": true, "attrs": {"id": "latlonzoom"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Look Up"], "extent": [9978, 9991], "body": [{"type": "para", "indent": 8, "text": ["Launches an interactive map that allows you to set a new location and zoom level. The initial view is centered at the current latitude and longitude.\n        ", {"tag": "p", "attrs": {}, "type": "xml", "text": ["If you only see a black screen instead of the satellite image, please refer to the ", {"type": "ui", "text": ["Troubleshooting"]}, " section of the Help page."]}], "extent": [10015, 10326]}], "container": true, "attrs": {"id": "lookup_llz"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["X/Y/Zoom"], "extent": [10326, 10340], "body": [{"type": "para", "indent": 8, "text": ["X and Y are precut tile indices (see ", {"type": "ui", "text": ["Location Mode"]}, " for more information) at the given zoom level. Unlike with ", {"type": "ui", "text": ["Lat/Lon/Zoom"]}, ", it is meaningless to keep the X and Y fixed while changing the zoom level."], "extent": [10360, 10584]}], "container": true, "attrs": {"id": "xyzoom"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Look Up"], "extent": [10584, 10597], "body": [{"type": "para", "indent": 8, "text": ["Launches an interactive map that allows you to set a new location and zoom level. The initial view shows the precut tile at the current precut tile indices.\n        ", {"tag": "p", "attrs": {}, "type": "xml", "text": ["If you only see a black screen instead of the satellite image, please refer to the ", {"type": "ui", "text": ["Troubleshooting"]}, " section of the Help page."]}], "extent": [10621, 10939]}], "container": true, "attrs": {"id": "lookup_xyz"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Compute X/Y using Current Lat/Lon"], "extent": [10939, 10978], "body": [{"type": "para", "indent": 8, "text": ["Computes the indices of the precut tile that contains the current latitude and longitude. This syncs locations for when you want to switch ", {"type": "ui", "text": ["Location Mode"]}, "."], "extent": [11001, 11176]}], "container": true, "attrs": {"id": "syncloc_a"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Compute Lat/Lon using Current X/Y"], "extent": [11176, 11215], "body": [{"type": "para", "indent": 8, "text": ["Computes the center coordinates of the precut tile at the current precut tile indices. This syncs locations for when you want to switch ", {"type": "ui", "text": ["Location Mode"]}, "."], "extent": [11238, 11410]}], "container": true, "attrs": {"id": "syncloc_b"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Tile Offset X/Y"], "extent": [11410, 11431], "body": [{"type": "para", "indent": 8, "text": ["In integers, the number of full tile widths by which to offset the location. Positive X values offset the location to the east. Positive Y values offset the location to the south. This is mainly used for seamless tiling, where you want to join the output tiles of multiple ", {"type": "em", "text": ["Labs Mapbox SOPs"]}, " together to form a larger piece of terrain."], "extent": [11452, 11805]}], "container": true, "attrs": {"id": "offsets"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Color Map Style"], "extent": [11805, 11826], "body": [{"type": "para", "indent": 8, "text": ["The style of the color map. Please visit ", {"scheme": null, "value": "https://docs.mapbox.com/api/maps/styles/", "type": "link", "text": ["Mapbox Styles API"], "exists": true}, " to find out more about each style."], "extent": [11848, 11994]}], "container": true, "attrs": {"id": "mapstyle"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Custom Style"], "extent": [11994, 12012], "body": [{"type": "para", "indent": 8, "text": ["You can use ", {"scheme": null, "value": "https://www.mapbox.com/mapbox-studio", "type": "link", "text": ["Mapbox Studio"], "exists": true}, " to design your own color map styles."], "extent": [12037, 12156]}], "container": true, "attrs": {"id": "customstyle"}, "role": "item"}], "container": true, "role": "item_group"}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 4, "text": ["Mapbox Download Tokens"], "extent": [12156, 12191], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["API Access Token Already Set as Environment Variable"], "extent": [12191, 12250], "body": [{"type": "para", "indent": 8, "text": ["Automatically set based on whether the environment variable ", {"type": "code", "text": ["MAPBOX_API"]}, " exists. Generally, you do not need to change this."], "extent": [12277, 12418]}], "container": true, "attrs": {"id": "apitokenisenv"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["API Access Token"], "extent": [12418, 12440], "body": [{"type": "para", "indent": 8, "text": ["A long string token tied to your Mapbox account. You can find it on your ", {"scheme": null, "value": "https://account.mapbox.com/", "type": "link", "text": ["Mapbox account page"], "exists": true}, ". This is needed for launching the interactive map, downloading maps, and acquiring the SKU token. You can set it as a Houdini environment variable ", {"type": "code", "text": ["MAPBOX_API"]}, " because this token does not change often.\n        ", {"tag": "p", "attrs": {}, "type": "xml", "text": ["Please follow the instructions on the Help page to set this token."]}], "extent": [12465, 12889]}], "container": true, "attrs": {"id": "accesstoken"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["SKU Token"], "extent": [12889, 12904], "body": [{"type": "para", "indent": 8, "text": ["A short string token needed for downloading elevation maps. According to Mapbox, this is only used to count MAU (monthly active users). Please refer to ", {"scheme": null, "value": "https://www.mapbox.com", "type": "link", "text": ["Mapbox"], "exists": true}, " for more usage guidelines.\n        ", {"tag": "p", "attrs": {}, "type": "xml", "text": ["Please follow the instructions on the Help page to set this token."]}], "extent": [12926, 13236]}], "container": true, "attrs": {"id": "skutoken"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Refresh SKU Token"], "extent": [13236, 13259], "body": [{"type": "para", "indent": 8, "text": ["Launches a pop-up window that allows you to acquire a new SKU token through ", {"scheme": null, "value": "https://docs.mapbox.com/mapbox-gl-js/api/", "type": "link", "text": ["Mapbox GL JS API"], "exists": true}, "."], "extent": [13283, 13438]}], "container": true, "attrs": {"id": "refreshsku"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 4, "text": ["Download Paths"], "extent": [13438, 13465], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Color Map"], "extent": [13465, 13481], "body": [{"type": "para", "indent": 8, "text": ["The file path to the color map."], "extent": [13509, 13558]}], "container": true, "attrs": {"id": "filepath_color"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Elevation Map"], "extent": [13558, 13577], "body": [{"type": "para", "indent": 8, "text": ["The file path to the elevation map."], "extent": [13604, 13657]}], "container": true, "attrs": {"id": "filepath_elev"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Temp File Directory"], "extent": [13657, 13682], "body": [{"type": "para", "indent": 8, "text": ["The folder for the temporary next-zoom-level maps used to composite the higher resolution final maps. When ", {"type": "ui", "text": ["Advanced"]}, " > ", {"type": "ui", "text": ["Auto Clean Up Temp Directory"]}, " is on, this folder is deleted after the final maps are generated."], "extent": [13703, 13941]}], "container": true, "attrs": {"id": "tempdir"}, "role": "item"}], "container": true, "role": "item_group"}]}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 4, "text": ["Tile Scale"], "extent": [13941, 13962], "body": [{"level": 3, "id": null, "container": true, "type": "h", "indent": 4, "text": ["Width"], "extent": [13962, 13981], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Tile Width"], "extent": [13981, 13998], "body": [{"type": "para", "indent": 8, "text": ["Specifies what to use as the width (west-east arc length) of the terrain tile. Since the terrain tiles are always squares, the height (north-south arc length) of a tile will be the same as its width. The real-world widths are computed based on the latitude and the zoom level, using the ", {"scheme": null, "value": "https://en.wikipedia.org/wiki/Earth_ellipsoid#Reference_ellipsoid", "type": "link", "text": ["WGS 84 reference ellipsoid"], "exists": true}, ".\n        ", {"tag": "p", "attrs": {}, "type": "xml", "text": [{"type": "ui", "text": ["Custom Width"]}, ": A custom width."]}, "\n        ", {"tag": "p", "attrs": {}, "type": "xml", "text": [{"type": "ui", "text": ["Real-World Width (Northern Border)"]}, ": The real-world width measured at the tile\u2019s northern border."]}, "\n        ", {"tag": "p", "attrs": {}, "type": "xml", "text": [{"type": "ui", "text": ["Real-World Width (Center)"]}, ": The real-world width measured at the tile\u2019s center."]}, "\n        ", {"tag": "p", "attrs": {}, "type": "xml", "text": [{"type": "ui", "text": ["Real-World Width (Southern Border)"]}, ": The real-world width measured at the tile\u2019s southern border."]}, "\n        ", {"tag": "p", "attrs": {}, "type": "xml", "text": [{"type": "ui", "text": ["From Reference Mapbox SOP"]}, ": The final tile width from a reference ", {"type": "em", "text": ["Labs Mapbox SOP"]}, "."]}], "extent": [14021, 14907]}], "container": true, "attrs": {"id": "widthmode"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Custom Tile Width"], "extent": [14907, 14930], "body": [{"type": "para", "indent": 8, "text": ["In metres, the custom tile width."], "extent": [14955, 15006]}], "container": true, "attrs": {"id": "customwidth"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Reference Mapbox"], "extent": [15006, 15028], "body": [{"type": "para", "indent": 8, "text": ["The operator path to the reference ", {"type": "em", "text": ["Labs Mapbox SOP"]}, ". When ", {"type": "ui", "text": ["Tile Width"]}, " is ", {"type": "ui", "text": ["From Reference Mapbox SOP"]}, ", this node copies its final tile width and final elevation scale from the reference ", {"type": "em", "text": ["Labs Mapbox SOP"]}, "."], "extent": [15051, 15278]}], "container": true, "attrs": {"id": "refmapbox"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Width Scale"], "extent": [15278, 15295], "body": [{"type": "para", "indent": 8, "text": ["A final multiplier to the tile width. This is ignored when ", {"type": "ui", "text": ["Tile Width"]}, " is ", {"type": "ui", "text": ["From Reference Mapbox SOP"]}, "."], "extent": [15317, 15442]}], "container": true, "attrs": {"id": "widthmul"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 4, "text": ["Elevation"], "extent": [15442, 15464], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Clamp Input Elevation Range"], "extent": [15464, 15498], "body": [{"type": "para", "indent": 8, "text": ["Clamps the elevation values sampled from the elevation map when generating the initial heightfield. This is applied before the height parameters on the ", {"type": "ui", "text": ["Output"]}, " tab."], "extent": [15521, 15698]}], "container": true, "attrs": {"id": "clampelev"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Clamp Minimum"], "extent": [15698, 15717], "body": [{"type": "para", "indent": 8, "text": ["Applies a lower limit to input elevation values."], "extent": [15741, 15807]}], "container": true, "attrs": {"id": "doclampmin"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Elevation Min"], "extent": [15807, 15826], "body": [{"type": "para", "indent": 8, "text": ["In metres, the lower elevation limit. The sea level is at 0."], "extent": [15848, 15926]}], "container": true, "attrs": {"id": "clampmin"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Clamp Maximum"], "extent": [15926, 15945], "body": [{"type": "para", "indent": 8, "text": ["Applies a higher limit to input elevation values."], "extent": [15969, 16036]}], "container": true, "attrs": {"id": "doclampmax"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Elevation Max"], "extent": [16036, 16055], "body": [{"type": "para", "indent": 8, "text": ["The higher elevation limit. The peak of Mount Everest is at around 8848."], "extent": [16077, 16167]}], "container": true, "attrs": {"id": "clampmax"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Preserve Output Elevation to Real-World Width Ratio"], "extent": [16167, 16224], "body": [{"type": "para", "indent": 8, "text": ["Keeps elevation values proportional to the tile width. This allows you to uniformly scale the terrain. The elevation values in the elevation map are real-world values. The real-world tile width is the width measured at the tile center."], "extent": [16252, 16505]}], "container": true, "attrs": {"id": "autoadjustelev"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Custom Elevation Scale"], "extent": [16505, 16533], "body": [{"type": "para", "indent": 8, "text": ["A custom multiplier to the input elevation. This is applied after ", {"type": "ui", "text": ["Clamp Input Elevation Range"]}, " but before the height parameters on the ", {"type": "ui", "text": ["Output"]}, " tab."], "extent": [16562, 16733]}], "container": true, "attrs": {"id": "customelevscale"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 4, "text": ["Tile Geographical Details"], "extent": [16733, 16771], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Refresh"], "extent": [16771, 16785], "body": [{"type": "para", "indent": 8, "text": ["Updates the tile\u2019s geographical details. These are also automatically updated when you download maps."], "extent": [16814, 16933]}], "container": true, "attrs": {"id": "refreshtileinfo"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 4, "text": ["Real-World Tile Width Calculator"], "extent": [16933, 16978], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Latitude"], "extent": [16978, 16993], "body": [{"type": "para", "indent": 8, "text": ["The latitude at which to compute the real-world tile width."], "extent": [17017, 17094]}], "container": true, "attrs": {"id": "calc_inlat"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Zoom"], "extent": [17094, 17104], "body": [{"type": "para", "indent": 8, "text": ["The zoom level at which to compute the real-world tile width."], "extent": [17129, 17208]}], "container": true, "attrs": {"id": "calc_inzoom"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Compute Real-World Tile Width from Latitude and Zoom"], "extent": [17208, 17266], "body": [{"type": "para", "indent": 8, "text": ["Computes the exact length of a west-east arc spanning a tile on Earth\u2019s surface."], "extent": [17289, 17387]}], "container": true, "attrs": {"id": "calcwidth"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Real-World Tile Width"], "extent": [17387, 17414], "body": [{"type": "para", "indent": 8, "text": ["The computed result, autofilled when you press ", {"type": "ui", "text": ["Compute Real-World Tile Width from Latitude and Zoom"]}, ". If you want to use the real-world width measured at a specific latitude as your tile width, set ", {"type": "ui", "text": ["Tile Width"]}, " to ", {"type": "ui", "text": ["Custom Width"]}, " and use this result as ", {"type": "ui", "text": ["Custom Tile Width"]}, "."], "extent": [17441, 17740]}], "container": true, "attrs": {"id": "calc_outwidth"}, "role": "item"}], "container": true, "role": "item_group"}]}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 4, "text": ["Seamless Tiling"], "extent": [17740, 17766], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Enable Seamless Tiling with Neighbour Tiles"], "extent": [17766, 17816], "body": [{"type": "para", "indent": 8, "text": ["Configures the tile to fetch maps from neighbour tiles in order to make elevations, colors, and materials seamless along the tile borders.\n        ", {"tag": "p", "attrs": {}, "type": "xml", "text": ["Seamless tiling only requires one-way awareness, meaning if every single tile syncs its border values with its top, right, and top-right neighbours, there is no need for any tile to sync with its left, bottom, or other corner neighbours."]}, "\n        ", {"tag": "p", "attrs": {}, "type": "xml", "text": ["On this node alone, it is impossible to make normals seamless, because normals are inherently inconsistent between two sides of unfused borders. However, you can make normals seamless with a downstream ", {"type": "em", "text": ["Labs Mapbox Post-process SOP"]}, " that works on all the tiles at once."]}, "\n        ", {"tag": "p", "attrs": {}, "type": "xml", "text": ["Please see the ", {"type": "ui", "text": ["Creating Seamless Terrain Tiles"]}, " section of the Help page for more information."]}], "extent": [17842, 18649]}], "container": true, "attrs": {"id": "enabletiling"}, "role": "item"}], "container": true, "role": "item_group"}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 4, "text": ["Neighbour Tile Mapbox SOPs"], "extent": [18649, 18688], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Enable Top Neighbour"], "extent": [18688, 18715], "body": [{"type": "para", "indent": 8, "text": ["Enables seamless tiling with the top (northern) neighbour tile, if it exists."], "extent": [18739, 18834]}], "container": true, "attrs": {"id": "enablenb_t"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Top Mapbox"], "extent": [18834, 18850], "body": [{"type": "para", "indent": 8, "text": ["The operator path to the ", {"type": "em", "text": ["Labs Mapbox SOP"]}, " that generates the top (northern) neighbour tile. This is ignored if blank."], "extent": [18875, 19011]}], "container": true, "attrs": {"id": "mapboxsop_t"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Enable Right Neighbour"], "extent": [19011, 19039], "body": [{"type": "para", "indent": 8, "text": ["Enables seamless tiling with the right (eastern) neighbour tile, if it exists."], "extent": [19063, 19159]}], "container": true, "attrs": {"id": "enablenb_r"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Right Mapbox"], "extent": [19159, 19177], "body": [{"type": "para", "indent": 8, "text": ["The operator path to the ", {"type": "em", "text": ["Labs Mapbox SOP"]}, " that generates the right (eastern) neighbour tile. This is ignored if blank."], "extent": [19202, 19339]}], "container": true, "attrs": {"id": "mapboxsop_r"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Enable Top-Right Neighbour"], "extent": [19339, 19371], "body": [{"type": "para", "indent": 8, "text": ["Enables seamless tiling with the top-right (north-eastern) neighbour tile, if it exists."], "extent": [19395, 19501]}], "container": true, "attrs": {"id": "enablenb_c"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Top-Right Mapbox"], "extent": [19501, 19523], "body": [{"type": "para", "indent": 8, "text": ["The operator path to the ", {"type": "em", "text": ["Labs Mapbox SOP"]}, " that generates the top-right (north-eastern) neighbour tile. This is ignored if blank."], "extent": [19548, 19695]}], "container": true, "attrs": {"id": "mapboxsop_c"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Reload Neighbour Color"], "extent": [19695, 19723], "body": [{"type": "para", "indent": 8, "text": ["Forces all the neighbour nodes listed above, as well as this node itself, to reload color maps."], "extent": [19750, 19863]}], "container": true, "attrs": {"id": "reloadnbcmaps"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Reload Neighbour Elevation"], "extent": [19863, 19895], "body": [{"type": "para", "indent": 8, "text": ["Forces all the neighbour nodes listed above, as well as this node itself, to reload elevation maps."], "extent": [19922, 20039]}], "container": true, "attrs": {"id": "reloadnbemaps"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 4, "text": ["Tileable Material"], "extent": [20039, 20069], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Material Diffuse Texture"], "extent": [20069, 20100], "body": [{"type": "para", "indent": 8, "text": ["Specifies which diffuse texture to use for materials. For both terrain heightfields and terrain meshes, the border UVs are aligned to the centers of the border pixels. Since the terrain tile textures are not self-repeating, the texture tiling mode (in whatever application that uses this texture) should be set to ", {"type": "q", "text": ["clamp"]}, " or its equivalents, not ", {"type": "q", "text": ["wrap"]}, " or its equivalents.\n        ", {"tag": "p", "attrs": {}, "type": "xml", "text": [{"type": "ui", "text": ["Color Map on Disk"]}, ": The original color map, not entirely seamless (when tiled at mipmap level 0). Since the border pixels have no knowledge of the neighbour color maps, most texture filtering modes (except for point filtering) will result in seams."]}, "\n        ", {"tag": "p", "attrs": {}, "type": "xml", "text": [{"type": "ui", "text": ["Tileable Color Map on Disk"]}, ": A new tileable color map that needs to be rendered to disk first, completely seamless (when tiled at mipmap level 0). This new map shares border pixel values with the top, right, and top-right neighbours. Consequently, texture filtering will not result in seams. You can render it when all the neighbours' color maps are available."]}], "extent": [20129, 21169]}], "container": true, "attrs": {"id": "usetileablecmap"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Render Tileable Color Map"], "extent": [21169, 21200], "body": [{"type": "para", "indent": 8, "text": ["Renders to disk a new tileable color map. This map contains border pixel values copied from the neighbour nodes' color maps, so you should only render it when all the neighbour nodes' color maps are available.\n        ", {"tag": "p", "attrs": {}, "type": "xml", "text": ["Due to the dependencies on neighbour nodes, this map is not automatically updated when you press ", {"type": "ui", "text": ["Download"]}, ", so please remember to render this map again if the location has changed."]}], "extent": [21232, 21658]}], "container": true, "attrs": {"id": "rendertileablecmap"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 4, "text": ["Render"], "extent": [21658, 21677], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Resample Filter"], "extent": [21677, 21699], "body": [{"type": "para", "indent": 8, "text": ["In order to generate the tileable color map, the original color map is extended by 1 column of pixels to the right and 1 row of pixels to the top. The extended pixels copy the values from the neighbour nodes' color maps. That makes the texture tiling seamless, but the texture resolution becomes 2049\u00d72049. To fix that, when you press ", {"type": "ui", "text": ["Render Tileable Color Map"]}, ", the new map is downsampled back to 2048\u00d72048 using this filter.\n        ", {"tag": "p", "attrs": {}, "type": "xml", "text": [{"type": "ui", "text": ["Point (Original Sharpness)"]}, ": Preserves the original sharpness but creates two subtle seams running horizontally and vertically through the center. Due to material texture filtering, these center seams are rather hard to notice compared to the border seams between the original color maps. In other words, using the tileable color map is probably still worth it."]}, "\n        ", {"tag": "p", "attrs": {}, "type": "xml", "text": [{"type": "ui", "text": ["Catmull-Rom (Smoother)"]}, ": Avoids any center seams but loses some of the sharpness."]}], "extent": [21730, 22661]}], "container": true, "attrs": {"id": "tileabletexfilter"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Soften Subtle Center Seams from Point Filter"], "extent": [22661, 22711], "body": [{"type": "para", "indent": 8, "text": ["Makes the already subtle center seams even harder to notice by blending the tileable color map with the original color map along the center seams."], "extent": [22740, 22904]}], "container": true, "attrs": {"id": "improveptfilter"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Seam Mask Radius"], "extent": [22904, 22926], "body": [{"type": "para", "indent": 8, "text": ["In pixels, the maximum blend distance away from the center seams. The blend mask has a soft falloff."], "extent": [22957, 23075]}], "container": true, "attrs": {"id": "crossmaskblursize"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Seam Mask Intensity"], "extent": [23075, 23100], "body": [{"type": "para", "indent": 8, "text": ["Adjusts the opacity of the blend mask. Higher values mean more influence from the original color map."], "extent": [23132, 23251]}], "container": true, "attrs": {"id": "crossmaskintensity"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Tileable Color Map"], "extent": [23251, 23275], "body": [{"type": "para", "indent": 8, "text": ["The file path to the tileable color map."], "extent": [23304, 23362]}], "container": true, "attrs": {"id": "filepath_colort"}, "role": "item"}], "container": true, "role": "item_group"}]}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 4, "text": ["Output"], "extent": [23362, 23379], "body": [{"level": 3, "id": null, "container": true, "type": "h", "indent": 4, "text": ["HeightField"], "extent": [23379, 23404], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Grid Resolution"], "extent": [23404, 23426], "body": [{"type": "para", "indent": 8, "text": ["The resolution of the heightfield. The total voxel count is this number squared. The resolution of the converted mesh will be this number multiplied by ", {"type": "ui", "text": ["Terrain Mesh Conversion"]}, " > ", {"type": "ui", "text": ["Relative Density"]}, "."], "extent": [23451, 23672]}], "container": true, "attrs": {"id": "gridsamples"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Blur HeightField"], "extent": [23672, 23694], "body": [{"type": "para", "indent": 8, "text": ["Makes the heightfield smoother by blurring the height values."], "extent": [23712, 23791]}], "container": true, "attrs": {"id": "blur"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Blur Radius"], "extent": [23791, 23808], "body": [{"type": "para", "indent": 8, "text": ["In UV units, the blur radius. Highever values mean strong blurs. This is applied before ", {"type": "ui", "text": ["Height Scale"]}, " and ", {"type": "ui", "text": ["Height Offset"]}, "."], "extent": [23832, 23977]}], "container": true, "attrs": {"id": "blurradius"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Height Scale"], "extent": [23977, 23995], "body": [{"type": "para", "indent": 8, "text": ["Scales the height values. This is applied before ", {"type": "ui", "text": ["Height Offset"]}, "."], "extent": [24020, 24105]}], "container": true, "attrs": {"id": "heightscale"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Height Offset"], "extent": [24105, 24124], "body": [{"type": "para", "indent": 8, "text": ["Offsets the height values. This is applied after ", {"type": "ui", "text": ["Height Scale"]}, "."], "extent": [24150, 24234]}], "container": true, "attrs": {"id": "heightoffset"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Add Material"], "extent": [24234, 24252], "body": [{"type": "para", "indent": 8, "text": ["Performs a safety check for texture dependencies, and if the check is passed, adds a material to the terrain heightfield.\n        ", {"tag": "p", "attrs": {}, "type": "xml", "text": ["There is an important Python function in this parameter\u2019s callback script. If you are going to set this parameter through code, that callback script may not be triggered, in which case, please explicitly call that Python function in your code."]}], "extent": [24275, 24673]}], "container": true, "attrs": {"id": "addmat_hf"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 4, "text": ["Terrain Mesh Conversion"], "extent": [24673, 24709], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Relative Density"], "extent": [24709, 24732], "body": [{"type": "para", "indent": 8, "text": ["The ratio of the mesh\u2019s resolution to the heightfield\u2019s resolution."], "extent": [24753, 24838]}], "container": true, "attrs": {"id": "density"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Sample Point Color from Color Map"], "extent": [24838, 24877], "body": [{"type": "para", "indent": 8, "text": ["Performs a safety check for texture dependencies, and if the check is passed, samples point colors from the color map.\n        ", {"tag": "p", "attrs": {}, "type": "xml", "text": ["Point color sampling never uses the tileable color map, which is strictly for materials."]}], "extent": [24899, 25139]}], "container": true, "attrs": {"id": "addcolor"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Color Sample Filter"], "extent": [25139, 25164], "body": [{"type": "para", "indent": 8, "text": ["The filter for sampling point colors from the color map."], "extent": [25186, 25260]}], "container": true, "attrs": {"id": "ptfilter"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Source Color Space"], "extent": [25260, 25284], "body": [{"type": "para", "indent": 8, "text": ["Specifies the color space of the color map. After sampling, the point colors stored in the mesh will typically be linear, and then the viewport will transform them to whatever color space the viewport is using."], "extent": [25310, 25542]}], "container": true, "attrs": {"id": "ptcolorspace"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Add Material"], "extent": [25542, 25560], "body": [{"type": "para", "indent": 8, "text": ["Performs a safety check for texture dependencies, and if the check is passed, adds a material to the terrain mesh.\n        ", {"tag": "p", "attrs": {}, "type": "xml", "text": ["There is an important Python function in this parameter\u2019s callback script. If you are going to set this parameter through code, that callback script may not be triggered, in which case, please explicitly call that Python function in your code."]}], "extent": [25585, 25976]}], "container": true, "attrs": {"id": "addmat_mesh"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Border Point Group"], "extent": [25976, 26000], "body": [{"type": "para", "indent": 8, "text": ["The name of the point group to be created that contains all the border points. This is used by a downstream ", {"type": "em", "text": ["Labs Mapbox Post-process SOP"]}, " to make border normals seamless between adjacent tiles."], "extent": [26027, 26239]}], "container": true, "attrs": {"id": "borderptgroup"}, "role": "item"}], "container": true, "role": "item_group"}]}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 4, "text": ["Advanced"], "extent": [26239, 26258], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Look Up Window Size"], "extent": [26258, 26284], "body": [{"type": "para", "indent": 8, "text": ["The size of the window containing the interactive map. The interactive map itself has a fixed size of 512\u00d7512, which is the required size to match what you see in the window with what you actually download."], "extent": [26308, 26532]}], "container": true, "attrs": {"id": "mapwinsize"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Color Map Size"], "extent": [26532, 26552], "body": [{"type": "para", "indent": 8, "text": ["Currently only 2048\u00d72048 is supported."], "extent": [26578, 26638]}], "container": true, "attrs": {"id": "mapres_color"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Elevation Map Size"], "extent": [26638, 26662], "body": [{"type": "para", "indent": 8, "text": ["Currently only 1024\u00d71024 is supported."], "extent": [26687, 26747]}], "container": true, "attrs": {"id": "mapres_elev"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Retry If Download Fails"], "extent": [26747, 26776], "body": [{"type": "para", "indent": 8, "text": ["Attempts to re-download a next-zoom-level map if the first attempt fails. This node downloads 9 or 4 next-zoom-level maps to composite a final map. The retries will happen per next-zoom-level map, so do not set ", {"type": "ui", "text": ["Retry Limit"]}, " too high."], "extent": [26808, 27062]}], "container": true, "attrs": {"id": "allowdownloadretry"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Retry Delay"], "extent": [27062, 27079], "body": [{"type": "para", "indent": 8, "text": ["In seconds, the delay before attempting to re-download the same next-zoom-level map."], "extent": [27103, 27205]}], "container": true, "attrs": {"id": "retrydelay"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Retry Limit"], "extent": [27205, 27222], "body": [{"type": "para", "indent": 8, "text": ["The maximum number of retries allowed for each next-zoom-level map."], "extent": [27246, 27331]}], "container": true, "attrs": {"id": "retrylimit"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Auto Clean Up Temp Directory"], "extent": [27331, 27365], "body": [{"type": "para", "indent": 8, "text": ["Deletes the folder containing the temporary next-zoom-level maps after the final maps are generated. The path to this folder is specified by ", {"type": "ui", "text": ["Location and Maps"]}, " > ", {"type": "ui", "text": ["Download Paths"]}, " > ", {"type": "ui", "text": ["Temp File Directory"]}, "."], "extent": [27390, 27618]}], "container": true, "attrs": {"id": "autodeltemp"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Show Hidden Autofilled Parameters"], "extent": [27618, 27657], "body": [{"type": "para", "indent": 8, "text": ["Unhides the autofilled parameters, which are a list of parameters automatically set by various parameter callback scripts when you interact with this node."], "extent": [27684, 27857]}], "container": true, "attrs": {"id": "showautoparms"}, "role": "item"}], "container": true, "role": "item_group"}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 4, "text": ["Autofilled Parameters"], "extent": [27857, 27891], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Pin Relative Position"], "extent": [27891, 27919], "body": [{"type": "para", "indent": 8, "text": ["The pinned coordinates' relative UV position within the center next-zoom-level map. This is only used when ", {"type": "ui", "text": ["Location Mode"]}, " is ", {"type": "ui", "text": ["Latitude / Longitude / Zoom"]}, " and ", {"type": "ui", "text": ["Tile Alignment"]}, " is ", {"type": "ui", "text": ["Custom-Cut Tile Centered at Lat/Lon"]}, ".\n        ", {"tag": "p", "attrs": {}, "type": "xml", "text": ["This is automatically set when you download maps."]}], "extent": [27942, 28251]}], "container": true, "attrs": {"id": "pinrelpos"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Real-World Tile Width"], "extent": [28251, 28278], "body": [{"type": "para", "indent": 8, "text": ["The real-world tile widths measured at the tile\u2019s northern border, the center, and the southern border, in that order. This is referenced by ", {"type": "ui", "text": ["Tile Scale"]}, " > ", {"type": "ui", "text": ["Tile Geographical Details"]}, ".\n        ", {"tag": "p", "attrs": {}, "type": "xml", "text": ["This is automatically set when you download maps or press ", {"type": "ui", "text": ["Tile Geographical Details"]}, " > ", {"type": "ui", "text": ["Refresh"]}, "."]}], "extent": [28301, 28625]}], "container": true, "attrs": {"id": "realwidth"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Tile Bounds"], "extent": [28625, 28642], "body": [{"type": "para", "indent": 8, "text": ["The longitude of the tile\u2019s western border, the latitude of the southern border, the longitude of the eastern border, and the latitude of the northern border, in that order. This is referenced by ", {"type": "ui", "text": ["Tile Scale"]}, " > ", {"type": "ui", "text": ["Tile Geographical Details"]}, ".\n        ", {"tag": "p", "attrs": {}, "type": "xml", "text": ["This is automatically set when you download maps or press ", {"type": "ui", "text": ["Tile Geographical Details"]}, " > ", {"type": "ui", "text": ["Refresh"]}, "."]}], "extent": [28662, 29041]}], "container": true, "attrs": {"id": "bounds"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Center Lat/Lon"], "extent": [29041, 29061], "body": [{"type": "para", "indent": 8, "text": ["The latitude and longitude of the tile center. This is referenced by ", {"type": "ui", "text": ["Tile Scale"]}, " > ", {"type": "ui", "text": ["Tile Geographical Details"]}, ".\n        ", {"tag": "p", "attrs": {}, "type": "xml", "text": ["This is automatically set when you download maps or press ", {"type": "ui", "text": ["Tile Geographical Details"]}, " > ", {"type": "ui", "text": ["Refresh"]}, "."]}], "extent": [29087, 29339]}], "container": true, "attrs": {"id": "centerlatlon"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Enable HeightField Material"], "extent": [29339, 29372], "body": [{"type": "para", "indent": 8, "text": ["What actually enables the heightfield material internally.\n        ", {"tag": "p", "attrs": {}, "type": "xml", "text": ["This is automatically set when you click on ", {"type": "ui", "text": ["Output"]}, " > ", {"type": "ui", "text": ["HeightField"]}, " > ", {"type": "ui", "text": ["Add Material"]}, "."]}], "extent": [29398, 29582]}], "container": true, "attrs": {"id": "enablemat_hf"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Enable Mesh Material"], "extent": [29582, 29608], "body": [{"type": "para", "indent": 8, "text": ["What actually enables the mesh material internally.\n        ", {"tag": "p", "attrs": {}, "type": "xml", "text": ["This is automatically set when you click on ", {"type": "ui", "text": ["Output"]}, " > ", {"type": "ui", "text": ["Terrain Mesh Conversion"]}, " > ", {"type": "ui", "text": ["Add Material"]}, "."]}], "extent": [29636, 29817]}], "container": true, "attrs": {"id": "enablemat_mesh"}, "role": "item"}], "container": true, "role": "item_group"}]}]}], "text": "Parameters"}, {"level": 1, "id": "examples", "container": true, "type": "examples_section", "indent": 0, "role": "section", "extent": [29817, 29827], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": null, "value": "https://github.com/sideeffects/SideFXLabs/blob/Development/hip/examples/mapbox/mapbox.3.0.hip", "type": "link", "text": ["Example File"], "exists": true}], "extent": [29827, 29942]}], "container": true}], "text": "Examples"}], "title": ["Labs Mapbox"], "summary": ["Downloads real-world terrain tiles from Mapbox."]}