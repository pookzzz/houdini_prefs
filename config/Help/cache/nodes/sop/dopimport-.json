{"type": "root", "attrs": {"type": "node", "context": "sop", "internal": "dopimport", "icon": "SOP/dopimport", "tags": "dynamics, io, transfer", "version": "", "namespace": null}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["Dop Import"], "extent": [0, 15]}, {"type": "summary", "indent": 0, "text": ["Imports and transforms geometry based on information extracted from a\nDOP simulation."], "extent": [115, 208]}, {"type": "para", "indent": 0, "text": ["The DOP Import SOP imports geometry from a DOP network, and can also transform\nthe input geometry based on the transforms of the DOP objects. The\n", {"type": "ui", "text": ["Import Style"]}, " parameter can be used to select between several modes of\noperation."], "extent": [208, 440]}, {"type": "para", "indent": 0, "text": ["DOP objects have two distinct transforms associated with them. One comes\nfrom the Position data attached to the object. The other comes from the\nGeometry data on the object, which has an inherent transform associated\nwith it. This SOP can apply either, both, or neither of these two\ntransforms. It can also apply the inverse transform to effectively undo\nthe transform operation of another Dop Import SOP."], "extent": [440, 847]}, {"type": "para", "indent": 0, "text": ["The Dop Import SOP also allows the transformation of selected vector\nattributes for points and primitives."], "extent": [847, 955]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Point velocities"], "extent": [955, 978], "body": [{"type": "para", "indent": 0, "text": ["In addition to transforming the geometry, this SOP can create a\nvelocity point attribute on the geometry."], "extent": [978, 1086]}, {"type": "para", "indent": 0, "text": ["This velocity is calculated by combining any velocity attribute on\nthe geometry in the DOP simulation (such as those set by the Cloth\nSolver) and the overall object velocity and angular velocity stored\nin the object\u2019s Position data. This SOP can calculate an instantaneous\nvelocity for each point by combining the linear and angular velocities of\nthe object, or it can integrate the two velocities over some timestep.\nThe instantaneous velocity approach is a true representation of the\nvelocity of each point, but if the object has a high angular velocity\nthen rendering with these instantaneous velocities may make the object\nappear to be exploding in the render. In this case, integrated\nvelocities can be used to ensure the extrapolated points stay ", {"type": "q", "text": ["inside"]}, "\nthe object\u2019s geometry. The Integrate Over Time parameter specifies the\nintegration interval and should be set to match your timestep, or the\nduration of each geometry segment when using multi-segment motion blur."], "extent": [1086, 2061]}, {"type": "para", "indent": 0, "text": ["If a vectorfield called ", {"type": "q", "text": ["vel"]}, " is present on the object, it is\ninterpreted as a velocity field and added to the computed\nvelocity."], "extent": [2061, 2192]}, {"type": "para", "indent": 0, "text": ["The velocity attribute of the simulation object\u2019s Geometry is\ntransferred to the input geometry using a technique similar to the\nAttribute Transfer SOP. It is not necessary to have the input\ngeometry match the simulation object\u2019s Geometry to get good point\nvelocities. This option is useful for rendering simulation objects\nwith motion blur."], "extent": [2192, 2535]}, {"type": "para", "indent": 0, "text": ["When importing DOP Objects as points, this option is disabled. The\nDOP Object overall velocity is always assigned to the point representing\nthat object."], "extent": [2535, 2689]}]}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [2689, 2701], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["DOP Network"], "extent": [2701, 2715], "body": [{"type": "para", "indent": 4, "text": ["The DOP Network to extract the transform and velocity\n    information from."], "extent": [2733, 2818]}], "container": true, "attrs": {"id": "doppath"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Object Mask"], "extent": [2818, 2831], "body": [{"type": "para", "indent": 4, "text": ["Specifies the objects within the DOP Network to extract the\n    transforms from."], "extent": [2852, 2942]}], "container": true, "attrs": {"id": "objpattern"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Use Single Object"], "extent": [2942, 2961], "body": [{"type": "para", "indent": 4, "text": ["Turning on this option causes the entire input geometry to be\n    transformed by the first simulation object matched by the ", {"type": "ui", "text": ["Object\n    Mask"]}, " parameter. If this option is off, then for each object in\n    the Object Mask, this SOP looks for a primitive group with the\n    same name as the object. Only that primitive group is affected\n    by the object it matches. This means some geometry may not be\n    transformed at all if it does not belong to a matching primitive\n    group."], "extent": [2961, 3452]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Import Style"], "extent": [3452, 3466], "body": [{"type": "para", "indent": 4, "text": ["Controls the mode of operation for this SOP."], "extent": [3466, 3516]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Transform Input Geometry"], "extent": [3516, 3546], "body": [{"type": "para", "indent": 8, "text": ["Pulls geometry from the SOP node connected to its input, and\n        transforms that geometry using the objects fetched from the DOP\n        network. The ", {"type": "ui", "text": ["Object Names"]}, " are used to identify primitives\n        belonging to each object."], "extent": [3546, 3792]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Fetch Geometry from DOP Network"], "extent": [3792, 3829], "body": [{"type": "para", "indent": 8, "text": ["Pulls geometry from the DOP Network, ignoring any SOP that may be\n        connected to its input. This is similar to the functionality\n        provided by the Object Merge SOP, but geared towards DOP Networks.\n        This node provides better control over how the geometry is\n        transformed, and provides parameters that are easier to use for\n        this purpose."], "extent": [3829, 4209]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Fetch Packed Geometry from DOP Network (deprecated)"], "extent": [4209, 4266], "body": [{"type": "para", "indent": 8, "text": ["Creates a packed primitive for each object being fetched from the DOP network.\n        For an ", {"scheme": "Node", "value": "/nodes/dop/rbdpackedobject", "type": "link", "text": ["RBD Packed Object"], "fullpath": "/nodes/dop/rbdpackedobject.html"}, ", the object\u2019s packed primitives will be returned and adjusted according to the ", {"type": "ui", "text": ["Pivot Location"]}, " parameter.\n        Otherwise, the object\u2019s geometry will be packed into an embedded packed primitive.\n        For packed objects, this option is deprecated in favor of using the ", {"type": "ui", "text": ["Fetch Geometry from DOP Network"]}, " mode, which does not adjust the packed primitives' positions.\n        For other object types, a ", {"scheme": "Node", "value": "/nodes/sop/pack", "type": "link", "text": ["Pack SOP"], "fullpath": "/nodes/sop/pack.html"}, " with the ", {"type": "ui", "text": ["Pack by Name"]}, " parameter enabled can be used."], "extent": [4266, 4904]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Fetch Unpacked Geometry from DOP Network"], "extent": [4904, 4950], "body": [{"type": "para", "indent": 8, "text": ["Pulls geometry from the DOP Network, ignoring any SOP that may be\n        connected to its input. For an ", {"scheme": "Node", "value": "/nodes/dop/rbdpackedobject", "type": "link", "text": ["RBD Packed Object"], "fullpath": "/nodes/dop/rbdpackedobject.html"}, ",\n        the unpacked collision geometry will be returned."], "extent": [4950, 5168]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Stamp Input Geometry"], "extent": [5168, 5194], "body": [{"type": "para", "indent": 8, "text": ["Creates copies of primitive groups from the SOP connected to its\n        input. This mode is similar to ", {"type": "ui", "text": ["Transform Input Geometry"]}, ", except\n        it can be used when there are several DOP Objects with the same\n        name, all of which want to generate a separate copy of the input\n        primitive group of the same name. This option is also useful if the\n        input SOP contains geometry that is not part of any primitive\n        group, and so does not correspond to any DOP Object."], "extent": [5194, 5696]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Create Points to Represent Objects"], "extent": [5696, 5736], "body": [{"type": "para", "indent": 8, "text": ["Creates one point per object, and sets attributes on that point to\n        represent the position, orientation, velocity, and geometry for\n        that object. This allows for very light weight geometry to be\n        generated from a DOP Network, which can then use point instancing\n        at render time."], "extent": [5736, 6052]}], "container": true}], "container": true}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Pivot Location"], "extent": [6052, 6068], "body": [{"type": "para", "indent": 4, "text": ["Specifies how to initialize the offset for the point referenced by the\n    packed primitive."], "extent": [6068, 6170]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Display As"], "extent": [6170, 6182], "body": [{"type": "para", "indent": 4, "text": ["The viewport LOD for the packed primitives when ", {"type": "ui", "text": ["Import Style"]}, " is\n    ", {"type": "ui", "text": ["Fetch Packed Geometry from DOP Network"]}, "."], "extent": [6182, 6307]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Import By Name"], "extent": [6307, 6323], "body": [{"type": "para", "indent": 4, "text": ["Use the name attribute instead of primitive groups to identify\n    primitives belonging to each DOP Object."], "extent": [6323, 6440]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Object Names"], "extent": [6440, 6454], "body": [{"type": "para", "indent": 4, "text": ["Specifies the format of the name used to identify each DOP object.\n    These names are used by the ", {"type": "ui", "text": ["Transform Input Geometry"]}, " mode and when\n    creating primitive groups or a ", {"type": "code", "text": ["name"]}, " primitive attribute on the\n    imported geometry."], "extent": [6454, 6693]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Use DOP Object Name"], "extent": [6693, 6718], "body": [{"type": "para", "indent": 8, "text": ["The DOP Object name is used to identify the object. For an ", {"scheme": "Node", "value": "/nodes/dop/rbdpackedobject", "type": "link", "text": ["RBD\n        Packed Object"], "fullpath": "/nodes/dop/rbdpackedobject.html"}, ", the value of the ", {"type": "code", "text": ["name"]}, "\n        point attribute is used."], "extent": [6718, 6896]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Use DOP Object Id"], "extent": [6896, 6919], "body": [{"type": "para", "indent": 8, "text": ["Generates a name based on the numeric identifier of the source DOP\n        object. You may want to use this setting if there is some chance\n        that multiple DOP Objects with the same name may be imported from\n        the DOP network."], "extent": [6919, 7166]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Use Full Path to Object"], "extent": [7166, 7195], "body": [{"type": "para", "indent": 8, "text": ["For an ", {"scheme": "Node", "value": "/nodes/dop/rbdpackedobject", "type": "link", "text": ["RBD Packed Object"], "fullpath": "/nodes/dop/rbdpackedobject.html"}, ", the DOP Object\n        name is combined with the value of the ", {"type": "code", "text": ["name"]}, " point attribute to\n        produce an identifier such as ", {"type": "code", "text": ["object2/piece3"]}, ". You may want to use\n        this setting if there is some chance that multiple ", {"scheme": "Node", "value": "/nodes/dop/rbdpackedobject", "type": "link", "text": ["RBD Packed\n        Objects"], "fullpath": "/nodes/dop/rbdpackedobject.html"}, " may contain packed primitives\n        with the same names."], "extent": [7195, 7601]}], "container": true}], "container": true}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Geometry Data Path"], "extent": [7601, 7621], "body": [{"type": "para", "indent": 4, "text": ["The subdata path for the geometry to import from the DOP\n    Network. The same data path will be used for all source objects.\n    If left blank, the primary geometry data for the object is used."], "extent": [7643, 7843]}], "container": true, "attrs": {"id": "geodatapath"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Transfer Attributes"], "extent": [7843, 7864], "body": [{"type": "para", "indent": 4, "text": ["Specifies a list of attributes to transfer to the generated points when ", {"type": "ui", "text": ["Import Style"]}, " is ", {"type": "ui", "text": ["Create Points to Represent Objects"]}, "."], "extent": [7864, 8001]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Transfer Groups"], "extent": [8001, 8018], "body": [{"type": "para", "indent": 4, "text": ["Specifies a list of groups to transfer to the generated points when ", {"type": "ui", "text": ["Import Style"]}, " is ", {"type": "ui", "text": ["Create Points to Represent Objects"]}, "."], "extent": [8018, 8155]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Inverse Transform"], "extent": [8155, 8174], "body": [{"type": "para", "indent": 4, "text": ["Applies the inverse of the transform calculated for the\n    simulation object."], "extent": [8174, 8262]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Transform Geometry With Position Data"], "extent": [8262, 8301], "body": [{"type": "para", "indent": 4, "text": ["Finds the Data named Position on the simulation object and\n    extracts its translation and rotation information to transform\n    the geometry."], "extent": [8301, 8454]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Transform Geometry With Geometry Data"], "extent": [8454, 8493], "body": [{"type": "para", "indent": 4, "text": ["Use the transform embedded in the Geometry data attached to the\n    simulation object. This is a transform is usually set when ", {"type": "ui", "text": ["Use\n    Object Transform"]}, " is set on the Geometry Data."], "extent": [8493, 8687]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Preserve World Space Positions"], "extent": [8687, 8719], "body": [{"type": "para", "indent": 4, "text": ["Use the inverse transform of the object containing this SOP.\n    This allows the world space position of the geometry to be\n    independent of the object level transform. This is useful when\n    this SOP is placed inside an object that is used as the source\n    geometry for the simulation object whose transform is being\n    extracted. The object level transform may be used for the\n    initial position of the simulation object, but you may not want\n    it to affect the world space position of the geometry output\n    from this SOP. When the Inverse Operation option is set, this\n    component of the transform is also inverted."], "extent": [8719, 9360]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Center at Pivot"], "extent": [9360, 9377], "body": [{"type": "para", "indent": 4, "text": ["When ", {"type": "ui", "text": ["Import Style"]}, " is set to ", {"type": "ui", "text": ["Create Points to Represent Objects"]}, ", use the RBD Object\u2019s pivot as the point center, which will typically place the points at the\n    objects' centers of mass. This will ensure the created points better match the motion of the source simulation."], "extent": [9377, 9667]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Add DOP Object Name Attribute"], "extent": [9667, 9698], "body": [{"type": "para", "indent": 4, "text": ["Adds a string primitive attribute ", {"type": "code", "text": ["name"]}, " which contains the name of the\n    object. The format of the name is specified by the ", {"type": "ui", "text": ["Object Names"]}, "\n    parameter."], "extent": [9698, 9866]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Add DOP Object Path Attribute"], "extent": [9866, 9897], "body": [{"type": "para", "indent": 4, "text": ["Adds a string primitive attribute ", {"type": "code", "text": ["dopobject"]}, " which contains the\n    path of the DOP Network followed by the DOP object id."], "extent": [9897, 10030]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Add DOP Object Id Attribute"], "extent": [10030, 10059], "body": [{"type": "para", "indent": 4, "text": ["Adds an integer primitive attribute ", {"type": "code", "text": ["dopobjectid"]}, " which contains\n    the DOP object id of the sourced object."], "extent": [10059, 10178]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Add to Existing Velocity Attributes"], "extent": [10178, 10215], "body": [{"type": "para", "indent": 4, "text": ["Adds velocities computed from the DOP Object to any existing velocity attribute values on the geometry. Turning off this option causes the velocity computed from the DOP Object to simply override any existing velocity attribute value."], "extent": [10215, 10455]}, {"type": "note_group", "body": [{"type": "note", "indent": 4, "role": "item", "extent": [10455, 10465], "body": [{"type": "para", "indent": 8, "text": ["When geometry is dynamically fractured, point velocities are added to transfer the velocity to the smaller chunks. If this parameter is turned on, these point velocities will go to your final render. Turn this parameter off to improve motion blur. It is on by default, but is turned off by shelf tools by default."], "extent": [10465, 10788]}], "container": true}], "container": true, "role": "item_group"}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Delete Abandoned Primitives"], "extent": [10788, 10817], "body": [{"type": "para", "indent": 4, "text": ["When in transform mode, any primitives that do not have a\n    corresponding DOP Object will be deleted instead of being left untransformed.  This is useful if your solver deletes objects over\n    time."], "extent": [10817, 11028]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Point Velocities"], "extent": [11028, 11046], "body": [{"type": "para", "indent": 4, "text": ["Controls whether point velocities will be calculated for the geometry\n    from this SOP, and the method of calculation. The Instantaneous and\n    Integrated velocity calculations are described in the overview."], "extent": [11046, 11265]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Integrate Over Time"], "extent": [11265, 11286], "body": [{"type": "para", "indent": 4, "text": ["The time interval over which velocities are calculated when using the\n    Integrated Point Velocities calculation. This value should be set to\n    a single frame time, or the duration of a single geometry segment when\n    using multi-segment motion blur."], "extent": [11314, 11578]}], "container": true, "attrs": {"id": "integrateovertime"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Do Not Trigger Simulation"], "extent": [11578, 11605], "body": [{"type": "para", "indent": 4, "text": ["If the DOP simulation being imported is out of date, the old cached\n    value will be returned rather than trying to simulate.  This avoids\n    recursion problems when viewing a SOP chain being used by a ", {"scheme": "Node", "value": "/nodes/dop/sopsolver", "type": "link", "text": ["SOP Solver"], "fullpath": "/nodes/dop/sopsolver.html"}, "\n    that would store bad geometry in the simulation cache."], "extent": [11605, 11905]}], "container": true, "role": "item"}], "container": true, "role": "item_group"}], "text": "Parameters"}], "title": ["Dop Import"], "summary": ["Imports and transforms geometry based on information extracted from a\nDOP simulation."]}