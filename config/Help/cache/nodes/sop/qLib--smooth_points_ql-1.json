{"type": "root", "attrs": {"icon": "DOP/squishyobject", "context": "sop", "type": "node", "internal": "smooth_points_ql", "version": "1", "namespace": "qLib"}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["Smooth Points qL"], "extent": [52, 73]}, {"type": "para", "indent": 0, "text": [{"type": "strong", "text": ["interface version 1"]}], "extent": [73, 97]}, {"type": "summary", "indent": 0, "text": ["A two-pass smoothing (", {"type": "q", "text": ["relax"]}, ") of polygon mesh points."], "extent": [97, 159]}, {"type": "para", "indent": 0, "text": ["This operator provides relaxation of geometry points,\nusing a combination of multiple methods (or passes)."], "extent": [159, 267]}, {"type": "para", "indent": 0, "text": [{"scheme": "Image", "value": "/nodes/sop/qLib--smooth_points_ql-1/smooth_points_ql_sop_main.png", "type": "img", "text": ""}], "extent": [267, 313]}, {"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": [{"type": "em", "text": ["Geometry smoothing \u2013 left: original, center: proximity-based, right: topology-based smoothing."]}], "extent": [313, 414]}], "container": true}, {"type": "para", "indent": 0, "text": [{"scheme": "Image", "value": "/nodes/sop/qLib--smooth_points_ql-1/smooth_points_ql_sop_guide.png", "type": "img", "text": ""}], "extent": [414, 461]}, {"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": [{"type": "em", "text": ["Heavily smoothed animated geometry, with guide geometry indicating the original shape (in blue)."]}], "extent": [461, 563]}], "container": true}, {"level": 1, "id": "methods", "container": true, "type": "methods_section", "indent": 0, "role": "section", "extent": [563, 572], "body": [{"type": "para", "indent": 0, "text": ["The following methods (passes) are available:"], "extent": [572, 620]}, {"type": "para", "indent": 0, "text": ["#. ", {"type": "strong", "text": ["Point proximity-based"]}], "extent": [620, 648], "body": [{"type": "para", "indent": 4, "text": [{"type": "em", "text": ["pros: fast / cons: inaccurate"]}], "extent": [648, 685]}, {"type": "para", "indent": 4, "text": ["Point positions are relaxed by averaging with spatially-close neighbours\n    (without any consideration for topology).\n    It is a point cloud-based approach, with the usual parameters."], "extent": [685, 876]}, {"type": "para", "indent": 4, "text": ["This pass doesn\u2019t require any geometry but points\n    (so it works for particles, point clouds, etc.)"], "extent": [876, 983]}, {"type": "para", "indent": 4, "text": ["It is very fast, although a bit inaccurate, and better suited for static geometry\n    (as opposed to one with animated deformations).\n    Applying an additional topology-based pass is recommended."], "extent": [983, 1186]}], "container": true}, {"type": "para", "indent": 0, "text": ["#. ", {"type": "strong", "text": ["Topology-based (Laplacian)"]}], "extent": [1186, 1219], "body": [{"type": "para", "indent": 4, "text": [{"type": "em", "text": ["pros: accurate / cons: slow"]}], "extent": [1219, 1254]}, {"type": "para", "indent": 4, "text": ["This method smooths points by\n    ", {"scheme": null, "value": "http://en.wikipedia.org/wiki/Laplacian_smoothing", "type": "link", "text": ["averaging the positions of topological neighbours"], "exists": true}, ".\n    It requires an actual geometry topology (for point connectivity).\n    It also needs to be run for multiple ", {"type": "em", "text": ["iterations"]}, "\n    (with run time increasing linearly)."], "extent": [1254, 1560]}, {"type": "tip_group", "body": [{"type": "tip", "indent": 4, "role": "item", "extent": [1560, 1569], "body": [{"type": "para", "indent": 8, "text": ["Take advantage of the strengths of both algorithms and avoid their weaknesses \u2013\n        try using a carefully-tuned 1st pass, so the 2nd pass could be run with fewer iterations."], "extent": [1569, 1759]}], "container": true}], "container": true, "role": "item_group"}], "container": true}], "text": "Methods"}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [1759, 1771], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Point Group"], "extent": [1771, 1788], "body": [{"type": "para", "indent": 8, "text": ["The group of points to be smoothed."], "extent": [1788, 1833]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Envelope, Weight Name"], "extent": [1833, 1860], "body": [{"type": "para", "indent": 8, "text": ["Standard deformer envelope and weighting-related parameters."], "extent": [1860, 1930]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Proximity Based"], "extent": [1930, 1951], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["Proximity %"], "extent": [1951, 1972], "body": [{"type": "para", "indent": 12, "text": ["A blending ratio between the original and the proximity-smoothed geometry."], "extent": [1972, 2064]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Max Distance"], "extent": [2064, 2086], "body": [{"type": "para", "indent": 12, "text": ["The maximum distance when looking for nearby points."], "extent": [2086, 2152]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Max Points"], "extent": [2152, 2172], "body": [{"type": "para", "indent": 12, "text": ["The maximum number of points to be considered."], "extent": [2172, 2232]}, {"type": "para", "indent": 12, "text": ["If this number is reached, no further points will be looked for, regardless\n            of ", {"type": "em", "text": ["Max Distance"]}, " \u2013 so if adjusting ", {"type": "em", "text": ["Max Distance"]}, " seems to have no effect,\n            try increasing this value."], "extent": [2232, 2449]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Falloff Exponent"], "extent": [2449, 2475], "body": [{"type": "para", "indent": 12, "text": ["Nearby found points are weighted according to their distance to the current point.\n            This value controls weight falloff."], "extent": [2475, 2619]}, {"type": "para", "indent": 12, "text": ["A value of ", {"type": "code", "text": ["1"]}, " means linear falloff; larger values result in weights dropping\n            faster with distance; smaller ones go towards more equal weights over distance."], "extent": [2619, 2802]}, {"type": "para", "indent": 12, "text": ["A value of ", {"type": "code", "text": ["0"]}, " disables falloff weighting altogether (each point will be weighted\n            equally)."], "extent": [2802, 2920]}], "container": true}], "container": true}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Topology Based"], "extent": [2920, 2940], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["Topology %"], "extent": [2940, 2960], "body": [{"type": "para", "indent": 12, "text": ["A blending ratio between the pre- and the post-smoothed geometry."], "extent": [2960, 3039]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Iterations"], "extent": [3039, 3059], "body": [{"type": "para", "indent": 12, "text": ["The number of times the smoothing to be applied."], "extent": [3059, 3121]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Method"], "extent": [3121, 3137], "body": [{"type": "para", "indent": 12, "text": ["The Laplacian smoothing variant to use."], "extent": [3137, 3190]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 12, "text": ["Extended Laplacian"], "extent": [3190, 3222], "body": [{"type": "para", "indent": 16, "text": ["An extended version of the original Laplacian algorithm."], "extent": [3222, 3296]}, {"type": "para", "indent": 16, "text": ["After each iteration, the original geometry coordinates are blended\n                back with a given percentage (", {"type": "em", "text": ["Alpha"]}, ").\n                This results in better convergence for higher iteration counts."], "extent": [3296, 3517]}], "container": true}, {"type": "dt", "indent": 12, "text": ["Humphrey\u2019s Method"], "extent": [3517, 3548], "body": [{"type": "para", "indent": 16, "text": ["A variant with more complex internal calculations for\n                better convergence."], "extent": [3548, 3655]}, {"type": "note_group", "body": [{"type": "note", "indent": 16, "role": "item", "extent": [3655, 3677], "body": [{"type": "para", "indent": 20, "text": ["This mode is not yet implemented."], "extent": [3677, 3732]}], "container": true}], "container": true, "role": "item_group"}], "container": true}, {"type": "dt", "indent": 12, "text": ["Alpha"], "extent": [3732, 3751], "body": [{"type": "para", "indent": 16, "text": ["The blend-back percentage value for the Extended Laplacian method."], "extent": [3751, 3835]}, {"type": "para", "indent": 16, "text": ["Zero (", {"type": "code", "text": ["0.0"]}, ") will provide the worst convergence, while one (", {"type": "code", "text": ["1.0"]}, ")\n                will result in no smoothing at all."], "extent": [3835, 3971]}], "container": true}, {"type": "dt", "indent": 12, "text": ["Beta"], "extent": [3971, 3989], "body": [{"type": "para", "indent": 16, "text": ["The ", {"type": "q", "text": ["beta"]}, " variable for the HC method (to be implemented later)."], "extent": [3989, 4072]}], "container": true}], "container": true}], "container": true}], "container": true}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["(misc)"], "extent": [4072, 4084], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["Save Rest Position"], "extent": [4084, 4112], "body": [{"type": "para", "indent": 12, "text": ["Save original point coordinates in the ", {"type": "code", "text": ["rest"]}, " attribute."], "extent": [4112, 4182]}, {"type": "tip_group", "body": [{"type": "tip", "indent": 12, "role": "item", "extent": [4182, 4199], "body": [{"type": "para", "indent": 16, "text": ["This is a convenience toggle, allowing to use ", {"type": "code", "text": ["rest"]}, " positions\n                in a connected\n                ", {"scheme": "Node", "value": "/nodes/sop/qLib::displacebydelta_ql::1", "type": "link", "text": ["Displace by Delta qL SOP"], "exists": true}, "."], "extent": [4199, 4391]}], "container": true}], "container": true, "role": "item_group"}], "container": true}, {"type": "dt", "indent": 8, "text": ["Show Guide"], "extent": [4391, 4411], "body": [{"type": "para", "indent": 12, "text": ["Displays the guide geometry in the viewport."], "extent": [4411, 4471]}], "container": true}], "container": true}], "container": true, "role": "item"}], "container": true, "role": "item_group"}], "text": "Parameters"}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [4471, 4480], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/smooth", "type": "link", "text": "", "fullpath": "/nodes/sop/smooth.html"}], "extent": [4480, 4504]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/attribtransfer", "type": "link", "text": "", "fullpath": "/nodes/sop/attribtransfer.html"}], "extent": [4504, 4537]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/qLib::displacebydelta_ql::1", "type": "link", "text": ["Displace by Delta qL SOP"], "exists": true}], "extent": [4537, 4607]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/qLib::smooth_points_ql::1", "type": "link", "text": ["Smooth Points qL SOP"], "exists": true}], "extent": [4607, 4672]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/qLib::bend_ql::2", "type": "link", "text": ["Bend Deformer qL SOP"], "exists": true}], "extent": [4672, 4727]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/qLib::bias_deformer_ql::1", "type": "link", "text": ["Bias Deformer qL SOP"], "exists": true}], "extent": [4727, 4791]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/qLib::deform_pcloud_ql::1", "type": "link", "text": ["Deform by Point Cloud qL SOP"], "exists": true}], "extent": [4791, 4863]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/qLib::deformbysurface_ql::1", "type": "link", "text": ["Deform by Surface qL SOP"], "exists": true}], "extent": [4863, 4933]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/qLib::mountain_deformer_ql::1", "type": "link", "text": ["Mountain Deformer qL SOP"], "exists": true}], "extent": [4933, 5005]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/qLib::noise_ql::1", "type": "link", "text": ["Noise qL SOP"], "exists": true}], "extent": [5005, 5053]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/qLib::pointjitter_ql::1", "type": "link", "text": ["PointJitter qL SOP"], "exists": true}], "extent": [5053, 5113]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/qLib::taper_ql::1", "type": "link", "text": ["Taper Deformer qL SOP"], "exists": true}], "extent": [5113, 5170]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/qLib::twist_ql::2", "type": "link", "text": ["Twist Deformer qL SOP"], "exists": true}], "extent": [5170, 5230]}], "container": true}], "text": "Related"}, {"level": 1, "id": "todo", "container": true, "type": "todo_section", "indent": 0, "text": ["To Do"], "role": "section", "extent": [5230, 5242], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Implement HC method (Humphrey\u2019s)"], "extent": [5242, 5281]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Should work on other attributes than ", {"type": "code", "text": ["P"]}], "extent": [5281, 5328]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Add ", {"type": "code", "text": ["N"]}, " (normal) support to point cloud mode?"], "extent": [5328, 5383]}], "container": true}]}, {"level": 1, "id": "relnotes", "container": true, "type": "relnotes_section", "indent": 0, "text": ["Release Notes"], "role": "section", "extent": [5383, 5407], "body": [{"type": "para", "indent": 0, "text": [{"type": "em", "text": ["interface version 1"]}, " \u2014"], "extent": [5407, 5435]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 0, "text": ["2014-09-04"], "extent": [5435, 5447], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Enhanced the Laplacian smoothing algorithm, so it\u2019ll converge better."], "extent": [5447, 5523], "body": [{"type": "bullet_group", "body": [{"blevel": 8, "type": "bullet", "indent": 6, "text": ["The basic algorithm is now ", {"type": "q", "text": ["Extended Laplacian"]}, "\n        (use an ", {"type": "em", "text": ["Alpha"]}, " value of ", {"type": "code", "text": ["0"]}, " to get the original ", {"type": "q", "text": ["naive"]}, " Laplacian results)."], "extent": [5523, 5664]}, {"blevel": 8, "type": "bullet", "indent": 6, "text": ["Another one called ", {"type": "q", "text": ["Humphrey\u2019s Classes (HC)"]}, " will also be implemented later"], "extent": [5664, 5749]}], "container": true}], "container": true}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2014-08-29"], "extent": [5749, 5761], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["The default method is now the topology-based one"], "extent": [5761, 5817]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2014-08-17"], "extent": [5817, 5829], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Added help tip on rest attribute and Displace by Delta qL SOP."], "extent": [5829, 5899]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2014-08-14"], "extent": [5899, 5911], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Added deformer weighting/envelope parameters"], "extent": [5911, 5962]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Guide geometry"], "extent": [5962, 5984]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2014-08-13"], "extent": [5984, 5996], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["First version. The green squshy-teddy is back! ;)"], "extent": [5996, 6053]}], "container": true}], "container": true}], "container": true}]}], "title": ["Smooth Points qL"], "summary": ["A two-pass smoothing (", {"type": "q", "text": ["relax"]}, ") of polygon mesh points."]}