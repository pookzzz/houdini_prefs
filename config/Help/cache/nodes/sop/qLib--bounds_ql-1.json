{"type": "root", "attrs": {"icon": "ROP/brickmap", "context": "sop", "type": "node", "internal": "bounds_ql", "version": "1", "namespace": "qLib"}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["Bounds qL"], "extent": [47, 61]}, {"type": "para", "indent": 0, "text": [{"type": "strong", "text": ["interface version 1"]}], "extent": [61, 85]}, {"type": "summary", "indent": 0, "text": ["Builds the bounding box for animated input geometry."], "extent": [85, 145]}, {"type": "para", "indent": 0, "text": ["This operator can evaluate its input geometry over a frame range, merge it into a single geometry,\nand compute the resulting bounding box. The results are also returned as numeric parameter values\n(so they can be referred to in expressions, etc)."], "extent": [145, 393]}, {"type": "para", "indent": 0, "text": [{"scheme": "Image", "value": "/nodes/sop/qLib--bounds_ql-1/bounds_ql_sop_main.png", "type": "img", "text": ""}], "extent": [393, 432]}, {"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": [{"type": "em", "text": ["Bounds of the view frustrum of an animated camera: a common technique for determining the visible\n  3D area of a shot (used with a "]}, {"scheme": "Node", "value": "/nodes/sop/qLib::camera_frustrum_ql::1", "type": "link", "text": ["Camera Frustrum qL SOP"], "exists": true}, {"type": "em", "text": [").\n  The color-code indicates the relative timing of each geometry snapshot."]}], "extent": [432, 708]}], "container": true}, {"type": "para", "indent": 0, "text": ["This operator can be very useful for DOP solvers that have bounding box settings for spatial limits\n(e.g. fluids or volumetrics)."], "extent": [708, 839]}, {"type": "para", "indent": 0, "text": ["With this node, such limits can be easily approximated, even (especially) when considering animated\ngeometry."], "extent": [839, 950]}, {"type": "para", "indent": 0, "text": ["Currently this operator only calculates non-oriented bounding boxes."], "extent": [950, 1020]}, {"type": "tip_group", "body": [{"type": "tip", "indent": 0, "role": "item", "extent": [1020, 1025], "body": [{"type": "para", "indent": 4, "text": ["A practical example: when doing fluid simulations, the bounding box size and center\n    output values can be directly linked to the volume limit parameters of a ", {"scheme": "Node", "value": "/nodes/dop/flipsolver", "type": "link", "text": ["Flip Solver DOP"], "fullpath": "/nodes/dop/flipsolver.html"}, "."], "extent": [1025, 1230]}, {"type": "para", "indent": 4, "text": ["This allows for completely procedural simulation setups \u2013 no need to adjust the limits by\n    hand after geometry or animation changes. (The bounding geometry itself could be constructed from\n    actual scene objects that are involved in the simulation.)"], "extent": [1230, 1491]}], "container": true}, {"type": "tip", "indent": 0, "role": "item", "extent": [1491, 1496], "body": [{"type": "para", "indent": 4, "text": ["For heavier geometry, use larger frame step values and ", {"type": "q", "text": ["Bounding Box"]}, " detail mode. (You can also\n    reduce the geometry detail by ", {"type": "q", "text": ["manual"]}, " preprocessing before passing it to this operator,\n    e.g. keeping only every ", {"type": "em", "text": ["n"]}, "-th primitive, etc.)"], "extent": [1496, 1743]}, {"type": "para", "indent": 4, "text": ["Although the overall bounds computation might happen to be expensive, it also has to be\n    computed ", {"type": "em", "text": ["once"]}, " (unless the input geometry animation changes)."], "extent": [1743, 1904]}], "container": true}], "container": true, "role": "item_group"}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [1904, 1916], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Group, Group Type"], "extent": [1916, 1939], "body": [{"type": "para", "indent": 8, "text": ["Allows to specify a subset of the entire geometry to work with."], "extent": [1939, 2012]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Convert Input to Polygons"], "extent": [2012, 2043], "body": [{"type": "para", "indent": 8, "text": ["The input geometry will be converted to polygons before the bounding box calculations.\n        This can be useful when dealing with more esoteric geometry types (e.g. implicit primitives)."], "extent": [2043, 2241]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Geometry Detail"], "extent": [2241, 2262], "body": [{"type": "para", "indent": 8, "text": ["The detail level of each individual geometry that will be merged together for the bounding\n        box computation."], "extent": [2262, 2387]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["Default"], "extent": [2387, 2404], "body": [{"type": "para", "indent": 12, "text": ["Use the input geometry as it is. It gives the exact same result as Points Only,\n            but uses more memory. It can be useful for more detailed guide displays, however."], "extent": [2404, 2591]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Points Only"], "extent": [2591, 2612], "body": [{"type": "para", "indent": 12, "text": ["Since bounding boxes are calculated from geometry points, there\u2019s no reason to\n            keep anything else but the points."], "extent": [2612, 2751]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Bounding Box"], "extent": [2751, 2773], "body": [{"type": "para", "indent": 12, "text": ["Replace each geometry sample from the animation with its bounding box.\n            It might be useful for heavy input geometry.\n            (The final result box will be somewhat larger.)"], "extent": [2773, 2986]}, {"type": "note_group", "body": [{"type": "note", "indent": 12, "role": "item", "extent": [2986, 3004], "body": [{"type": "para", "indent": 16, "text": ["Use this mode if the input geometry contains volumes\n                or packed geometry."], "extent": [3004, 3110]}], "container": true}], "container": true, "role": "item_group"}], "container": true}, {"type": "dt", "indent": 8, "text": ["Centroids"], "extent": [3110, 3129], "body": [{"type": "para", "indent": 12, "text": ["Replace each geometry sample with a single point at its centroid."], "extent": [3129, 3208]}, {"type": "para", "indent": 12, "text": ["This is intended to be a rough feedback for the motion path of the\n            input geometry centroid. It is ", {"type": "em", "text": ["not"]}, " reliable for an all-encompassing\n            bounding box."], "extent": [3208, 3396]}], "container": true}], "container": true}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Frame Range (Start, End, Inc)"], "extent": [3396, 3431], "body": [{"type": "para", "indent": 8, "text": ["The input geometry will be evaulated multiple times within this range,\n        the results merged, and from ", {"type": "em", "text": ["that"]}, " will the final bounding box be computed."], "extent": [3431, 3596]}, {"type": "para", "indent": 8, "text": ["The ", {"type": "em", "text": ["frame step"]}, " value is important: for heavier geometry, keep it as low as possible,\n        but without losing detail from the animation (the visual feedback of the guide display\n        can be helpful)."], "extent": [3596, 3812]}, {"type": "para", "indent": 8, "text": ["(Usually it\u2019s enough to sample every ", {"type": "em", "text": ["n"]}, "-th frame \u2013 the results will still be acceptable,\n        and with a much smaller speed/memory impact.)"], "extent": [3812, 3966]}, {"type": "para", "indent": 8, "text": ["Also note that for all fields ", {"type": "em", "text": ["fractional values are supported"]}, " (so non-integer frame\n        step values are valid and allowed)."], "extent": [3966, 4105]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Minimum Size,\n    Lower Padding,\n    Upper Padding"], "extent": [4105, 4161], "body": [{"type": "para", "indent": 8, "text": ["Adjustments to the final bounding box (see ", {"scheme": "Node", "value": "/nodes/sop/bound", "type": "link", "text": ["Bound SOP"], "fullpath": "/nodes/sop/bound.html"}, " for details.)"], "extent": [4161, 4254]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Output Type"], "extent": [4254, 4271], "body": [{"type": "para", "indent": 8, "text": ["Geometry to output: final bounding box, or the geometry ", {"type": "q", "text": ["trail"]}, " the final bounds are computed from.\n        The output values (below) are ", {"type": "em", "text": ["not"]}, " affected by this setting."], "extent": [4271, 4450]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Show Guide"], "extent": [4450, 4466], "body": [{"type": "para", "indent": 8, "text": ["The guide display shows all the geometry that is merged together from the individual animation\n        frames. It can be useful for adjusting geometry detail and frame step (Inc) settings."], "extent": [4466, 4664]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Guide Colors"], "extent": [4664, 4682], "body": [{"type": "para", "indent": 8, "text": ["The guide geometry will be displayed with a color gradient to indicate the movement of the\n        trail over time. (The gradient is pink/blue-to-red, where the pink/blue is mapped to the beginning\n        of the time range, and red is to the end.)"], "extent": [4682, 4940]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Add 'bounds' Name Prefix"], "extent": [4940, 4970], "body": [{"type": "para", "indent": 8, "text": ["Adds the ", {"type": "q", "text": ["BOUNDS_"]}, " prefix to the node name.\n        (This allows easier picking of the node from an UI selection list \u2013 it also provides an unified\n        naming scheme for Bounds nodes)."], "extent": [4970, 5169]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Output"], "extent": [5169, 5181], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["Values"], "extent": [5181, 5197], "body": [{"type": "para", "indent": 12, "text": ["These contain various numeric results of the final bounding box (size and center, coordinates\n            of opposite corners)."], "extent": [5197, 5342]}, {"type": "para", "indent": 12, "text": ["These parameters can be linked to other nodes (", {"type": "q", "text": ["Paste Copied References"]}, ") wherever necessary."], "extent": [5342, 5449]}], "container": true}], "container": true}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Link to Container"], "extent": [5449, 5472], "body": [{"type": "para", "indent": 8, "text": ["This utility tab allows quick and easy copying (or connecting) of the boundary output values\n        to any container (D)OP."], "extent": [5472, 5606]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["Container OP Path"], "extent": [5606, 5633], "body": [{"type": "para", "indent": 12, "text": ["Path to the container-type (D)OP. Any operator can be specified\n            that has ", {"type": "code", "text": ["size"]}, "/", {"type": "code", "text": ["center"]}, " parameters to define its boundaries."], "extent": [5633, 5784]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Parms (size/center)"], "extent": [5784, 5813], "body": [{"type": "para", "indent": 12, "text": ["Names of the size and center parameters on the target container node.\n            The defaults are ", {"type": "code", "text": ["center"]}, " and ", {"type": "code", "text": ["t"]}, " (these are compatible with all regular DOP containers)."], "extent": [5813, 5998]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Link to Container"], "extent": [5998, 6025], "body": [{"type": "para", "indent": 12, "text": ["Pressing this button will create relative expression references on the\n            target container. The references will point to the output ", {"type": "em", "text": ["Size"]}, " and ", {"type": "em", "text": ["Center"]}, "\n            values on this operator."], "extent": [6025, 6236]}, {"type": "tip_group", "body": [{"type": "tip", "indent": 12, "role": "item", "extent": [6236, 6253], "body": [{"type": "para", "indent": 16, "text": ["Linking boundary values to container dimension parameters one can create\n                full-procedural setups (e.g. by linking the emitter geometry boundaries\n                to the initial dimensions of a volume container)."], "extent": [6253, 6497]}], "container": true}], "container": true, "role": "item_group"}], "container": true}, {"type": "dt", "indent": 8, "text": ["Copy Current Values"], "extent": [6497, 6526], "body": [{"type": "para", "indent": 12, "text": ["Pressing this button will copy the current size and center values to the target\n            container. No expression links will be created (or deleted)."], "extent": [6526, 6693]}], "container": true}], "container": true}], "container": true, "role": "item"}], "container": true, "role": "item_group"}], "text": "Parameters"}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [6693, 6702], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/bound", "type": "link", "text": "", "fullpath": "/nodes/sop/bound.html"}], "extent": [6702, 6725]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/qLib::camera_frustrum_ql::1", "type": "link", "text": ["Camera Frustrum qL SOP"], "exists": true}], "extent": [6725, 6795]}], "container": true}], "text": "Related"}, {"level": 1, "id": "relnotes", "container": true, "type": "relnotes_section", "indent": 0, "text": ["Release Notes"], "role": "section", "extent": [6795, 6819], "body": [{"type": "para", "indent": 0, "text": [{"type": "em", "text": ["interface version 1"]}, " \u2014"], "extent": [6819, 6847]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 0, "text": ["2019-10-28"], "extent": [6847, 6859], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Resaved again in H16.5 (lol), so v1 is now for 16.5 and v2 is for 17.5+"], "extent": [6859, 6938]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2019-10-18"], "extent": [6938, 6950], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Resaved in H17.5 to get rid of Bound SOP warning (", {"scheme": null, "value": "https://github.com/qLab/qLib/issues/856", "type": "link", "text": ["#856"], "exists": true}, ")"], "extent": [6950, 7055]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2018-03-08"], "extent": [7055, 7067], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Ignoring zero-sized (empty) bounding boxes (", {"scheme": null, "value": "https://github.com/qLab/qLib/issues/692", "type": "link", "text": ["#692"], "exists": true}, ")"], "extent": [7067, 7166]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2017-09-21"], "extent": [7166, 7178], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Minor tweaks"], "extent": [7178, 7197]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Addressed ", {"type": "q", "text": ["Bounds qL SOP: resulting centroids/trajectory points are in reverse order? (H16.0.633) #621"]}], "extent": [7197, 7308]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2016-08-25"], "extent": [7308, 7320], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Added Alembic SOP bounding box parameter presets to ", {"type": "q", "text": ["Link to Container"]}, "."], "extent": [7320, 7400]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2016-08-13"], "extent": [7400, 7412], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Added bounding box/volume related note to help and mode parameter"], "extent": [7412, 7484]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"type": "q", "text": ["Guide Colors"]}, " now overwrites any existing color on incoming geometry"], "extent": [7484, 7561]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2014-05-07"], "extent": [7561, 7573], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Group parameter now works properly"], "extent": [7573, 7614]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Some UI/help streamlining"], "extent": [7614, 7646]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Added Centroids option for Geometry Detail"], "extent": [7646, 7696]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2014-03-10"], "extent": [7696, 7708], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Added main help image."], "extent": [7708, 7738]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2014-01-16"], "extent": [7738, 7750], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Added support for fractional frame increments (with a limit of 0.01)."], "extent": [7750, 7827]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2014-01-15"], "extent": [7827, 7839], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Added bbox link preset for FLIP fluid solver maximum volume limit parameters."], "extent": [7839, 7924]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2013-09-15"], "extent": [7924, 7936], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Added more presets to Link to Container parameters"], "extent": [7936, 7994]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2013-09-12"], "extent": [7994, 8006], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Added frame range presets"], "extent": [8006, 8038]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Added ", {"type": "q", "text": ["Link to Container"]}, " output functionality"], "extent": [8038, 8092]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2013-08-27"], "extent": [8092, 8104], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Added colored guide option to indicate trail direction over time"], "extent": [8104, 8175]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Minor UI changes"], "extent": [8175, 8199]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2013-08-13"], "extent": [8199, 8211], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Attributes/groups are kept if the output is ", {"type": "q", "text": ["trailed geometry"]}, "."], "extent": [8211, 8282]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2013-05-08"], "extent": [8282, 8294], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Added ", {"type": "q", "text": ["Convert to Polygons"]}, " toggle."], "extent": [8294, 8337]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2013-04-22"], "extent": [8337, 8349], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Changed default node color to light green (the ", {"type": "q", "text": ["referred-to"]}, " color)."], "extent": [8349, 8424]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Published the 'Editable' switch in the UI for the output expressions."], "extent": [8424, 8501]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2013-04-18"], "extent": [8501, 8513], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Supports ", {"type": "code", "text": ["Group"]}, " parameter"], "extent": [8513, 8546]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Distinctive node color"], "extent": [8546, 8575]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Displays animation range in network editor (descriptive parm)"], "extent": [8575, 8643]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Convenience button for node name prefixing (", {"type": "q", "text": ["BOUNDS_<name>"]}, ")"], "extent": [8643, 8711]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2013-04-14"], "extent": [8711, 8723], "body": [{"type": "para", "indent": 4, "text": ["The first frame of the range were often not added to the overall bounding box (the usual ", {"type": "q", "text": ["remainder issue"]}, ").\n    This is now fixed."], "extent": [8723, 8860]}], "container": true}, {"type": "dt", "indent": 0, "text": ["2013-04-10"], "extent": [8860, 8872], "body": [{"type": "para", "indent": 4, "text": ["First version."], "extent": [8872, 8891]}], "container": true}], "container": true}]}], "title": ["Bounds qL"], "summary": ["Builds the bounding box for animated input geometry."]}