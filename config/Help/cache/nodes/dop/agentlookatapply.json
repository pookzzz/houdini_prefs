{"type": "root", "attrs": {"type": "node", "context": "dop", "internal": "agentlookatapply", "icon": "DOP/agentlookatapply", "tags": "crowds", "version": "3.0", "since": "19.5", "namespace": null}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["Agent Look At Apply"], "extent": [124, 148]}, {"type": "summary", "indent": 0, "text": ["Adjusts the agent\u2019s skeleton to look at a target."], "extent": [148, 206]}, {"type": "para", "indent": 0, "text": ["This node is used together with ", {"scheme": "Node", "value": "/nodes/dop/agentlookat", "type": "link", "text": ["Agent Look At"], "fullpath": "/nodes/dop/agentlookat.html"}, ", which defines the available look at targets.\nThis node selects and tracks the agent\u2019s look at target and adjusts the skeleton so that the head or eye joints look at the target."], "extent": [206, 454]}, {"type": "para", "indent": 0, "text": ["Define the joints to be adjusted with ", {"scheme": "Node", "value": "/nodes/sop/agentprep", "type": "link", "text": ["Agent Prep"], "fullpath": "/nodes/sop/agentprep.html"}, ". Agent Prep adjusts the spine from the ", {"type": "ui", "text": ["Lower Back"]}, " to the ", {"type": "ui", "text": ["Head"]}, " joint, and also allows you to rotate the optional ", {"type": "ui", "text": ["Eye"]}, " joints."], "extent": [454, 661]}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [661, 673], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Activation"], "extent": [673, 686], "body": [{"type": "para", "indent": 4, "text": ["Specifies if this node is activated."], "extent": [686, 728]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Group"], "extent": [728, 735], "body": [{"type": "para", "indent": 4, "text": ["The group of agents to modify."], "extent": [750, 786]}], "container": true, "attrs": {"id": "group"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Guide"], "extent": [786, 793], "body": [{"type": "para", "indent": 4, "text": ["When turned on, displays the guide geometry indicating each agent\u2019s current target."], "extent": [808, 897]}], "container": true, "attrs": {"id": "guide"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Minimum Target Score"], "extent": [897, 919], "body": [{"type": "para", "indent": 4, "text": ["When an agent needs to select a look at target, it selects the target with the highest interest score.\n    The target scores are calculated according to the ", {"type": "ui", "text": ["Target Score"]}, " parameters on ", {"scheme": "Node", "value": "/nodes/dop/agentlookat", "type": "link", "text": ["Agent Look At"], "fullpath": "/nodes/dop/agentlookat.html"}, ".\n    If the highest target score is below the ", {"type": "ui", "text": ["Minimum Target Score"]}, ", the agent will not select a look at target.\n    This ensures that only important targets grab the agents' attention, or that targets that are about to become ineligible (for example, leaving the agent\u2019s field of view) will not be selected."], "extent": [943, 1485]}, {"type": "para", "indent": 4, "text": ["Choose one of the options on this parameter to specify how to determine the minimum target score for each agent:"], "extent": [1485, 1603]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Set Value"], "extent": [1603, 1618], "body": [{"type": "para", "indent": 8, "text": ["Use the ", {"type": "ui", "text": ["Minimum Target Score"]}, " value."], "extent": [1618, 1667]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Set from Attribute"], "extent": [1667, 1691], "body": [{"type": "para", "indent": 8, "text": ["Overrides the ", {"type": "ui", "text": ["Minimum Target Score"]}, " with the value of the point attribute, ", {"type": "ui", "text": ["Minimum Target Score Attribute"]}, "."], "extent": [1691, 1814]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Scale by Attribute"], "extent": [1814, 1838], "body": [{"type": "para", "indent": 8, "text": ["Multiplies the ", {"type": "ui", "text": ["Minimum Target Score"]}, " with the value of the point attribute, ", {"type": "ui", "text": ["Minimum Target Score Attribute"]}, "."], "extent": [1838, 1962]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "mintargetscore"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Minimum Target Score Attribute"], "extent": [1962, 1994], "body": [{"type": "para", "indent": 4, "text": ["The point attribute on the agent. "], "extent": [2024, 2064]}, {"type": "para", "indent": 4, "text": ["This parameter is only available when the ", {"type": "ui", "text": ["Minimum Target Score"]}, " mode is set to ", {"type": "ui", "text": ["Set from Attribute"]}, " or ", {"type": "ui", "text": ["Scale by Attribute"]}, "."], "extent": [2064, 2201]}], "container": true, "attrs": {"id": "mintargetscoreattrib"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Number of Joints"], "extent": [2201, 2219], "body": [{"type": "para", "indent": 4, "text": ["Limits the number of joints you can adjust in the IK chain. This number includes the head joint.\n    When turned off, the default behaviour is to include all of the joints between the ", {"type": "ui", "text": ["Lower Back"]}, " and ", {"type": "ui", "text": ["Head"]}, " joints defined with ", {"scheme": "Node", "value": "/nodes/sop/agentprep", "type": "link", "text": ["Agent Prep"], "fullpath": "/nodes/sop/agentprep.html"}, "."], "extent": [2238, 2508]}], "container": true, "attrs": {"id": "numjoints"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Head Turn Stiffness"], "extent": [2508, 2529], "body": [{"type": "para", "indent": 4, "text": ["Controls how quickly the head adjusts to match the look at direction.\n    This behaves like the stiffness of a damped angular spring."], "extent": [2556, 2695]}], "container": true, "attrs": {"id": "headturnstiffness"}, "role": "item"}], "container": true, "role": "item_group"}, {"level": 3, "type": "sep", "indent": 0, "text": [" Head Rotation Weight "], "extent": [2695, 2724], "body": [{"type": "para", "indent": 4, "text": ["Controls how much the head joint rotates relative to other joints in the IK chain, based on the angle to the target.\n    For example, reducing the head joint\u2019s weight as the target angle increases allows the rest of the spine to be more involved for larger rotations."], "extent": [2753, 3026]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Angle Range"], "extent": [3026, 3043], "body": [{"type": "para", "indent": 8, "text": ["Specifies the angles that match the start and end of the ", {"type": "ui", "text": ["Weight Ramp"]}, ".\n        Outside this angle range, the ramp extends the first and last values."], "extent": [3077, 3238]}], "container": true, "attrs": {"id": "headweightanglerange"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Weight Scale"], "extent": [3238, 3256], "body": [{"type": "para", "indent": 8, "text": ["Scales the value of the ", {"type": "ui", "text": ["Weight Ramp"]}, "."], "extent": [3285, 3335]}], "container": true, "attrs": {"id": "headweightscale"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Weight Ramp"], "extent": [3335, 3352], "body": [{"type": "para", "indent": 8, "text": ["Sets the head joint\u2019s rotation weight based on the angle to the target, multiplied by the ", {"type": "ui", "text": ["Weight Scale"]}, ".\n        The ", {"type": "ui", "text": ["Angle Range"]}, " defines the ramp\u2019s range (outside this range, the first and last values are extended)."], "extent": [3380, 3612]}], "container": true, "attrs": {"id": "headweightramp"}, "role": "item"}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "headrotationweight"}}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Eye Turn Stiffness"], "extent": [3612, 3632], "body": [{"type": "para", "indent": 4, "text": ["Controls how quickly the eye joints adjust to match the look at direction.\n    This behaves like the stiffness of a damped angular spring."], "extent": [3658, 3802]}], "container": true, "attrs": {"id": "eyeturnstiffness"}, "role": "item"}], "container": true, "role": "item_group"}, {"level": 3, "type": "sep", "indent": 0, "text": [" Eye Rotation Weight "], "extent": [3802, 3830], "body": [{"type": "para", "indent": 4, "text": ["Controls how much the eye joints rotate relative to other joints in the IK chain, based on the angle to the target.\n    For example, reducing the eye joints' weights as the target angle increases allows the head and spine to rotate more."], "extent": [3858, 4101]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Angle Range"], "extent": [4101, 4118], "body": [{"type": "para", "indent": 8, "text": ["Specifies the angles that match the start and end of the ", {"type": "ui", "text": ["Weight Ramp"]}, ".\n        Outside this angle range, the ramp extends the first and last values."], "extent": [4151, 4312]}], "container": true, "attrs": {"id": "eyeweightanglerange"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Weight Scale"], "extent": [4312, 4330], "body": [{"type": "para", "indent": 8, "text": ["Scales the value of the ", {"type": "ui", "text": ["Weight Ramp"]}, "."], "extent": [4358, 4408]}], "container": true, "attrs": {"id": "eyeweightscale"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Weight Ramp"], "extent": [4408, 4425], "body": [{"type": "para", "indent": 8, "text": ["Sets the eye joints' rotation weights based on the angle to the target, multiplied by the ", {"type": "ui", "text": ["Weight Scale"]}, ".\n        The ", {"type": "ui", "text": ["Angle Range"]}, " defines the ramp\u2019s range (outside this range, the first and last values are extended)."], "extent": [4452, 4684]}], "container": true, "attrs": {"id": "eyeweightramp"}, "role": "item"}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "eyerotationweight"}}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Adjust Immediately on Initial Frame"], "extent": [4684, 4721], "body": [{"type": "para", "indent": 4, "text": ["When turned on, adjusts the head immediately on the initial frame (if necessary), instead of being limited by the maximum turn rate."], "extent": [4746, 4884]}], "container": true, "attrs": {"id": "immediateadjust"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Reference Direction"], "extent": [4884, 4905], "body": [{"type": "para", "indent": 4, "text": ["The original facing direction of the agent.\n    Used along with the ", {"type": "ui", "text": ["Reference Up"]}, " direction to define the agent\u2019s field of view cone."], "extent": [4921, 5063]}], "container": true, "attrs": {"id": "refdir"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Reference Up"], "extent": [5063, 5077], "body": [{"type": "para", "indent": 4, "text": ["The original up vector of the agent.\n    Used along with the ", {"type": "ui", "text": ["Reference Direction"]}, " to define the agent\u2019s field of view cone."], "extent": [5092, 5224]}], "container": true, "attrs": {"id": "refup"}, "role": "item"}], "container": true, "role": "item_group"}, {"level": 3, "type": "sep", "indent": 0, "text": [" Output Attributes "], "extent": [5224, 5250], "body": [{"type": "para", "indent": 4, "text": ["Outputs additional attributes with information about the agent\u2019s current target (if the agent has ", {"scheme": "Node", "value": "/nodes/sop/agentprep", "type": "link", "text": ["multiple head joints"], "fullpath": "/nodes/sop/agentprep.html"}, ", only the first joint is considered).\n    These attributes can be convenient for controlling forces or other behaviors based on the agent\u2019s current target."], "extent": [5274, 5575]}, {"type": "tip_group", "body": [{"type": "tip", "indent": 4, "role": "item", "extent": [5575, 5584], "body": [{"type": "para", "indent": 8, "text": ["You can use the ", {"scheme": "Node", "value": "/nodes/dop/crowdtrigger", "type": "link", "text": ["Crowd Trigger DOP"], "fullpath": "/nodes/dop/crowdtrigger.html"}, " to transition between states based on the agent\u2019s current target."], "extent": [5584, 5717]}], "container": true}], "container": true, "role": "item_group"}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Target Name"], "extent": [5717, 5734], "body": [{"type": "para", "indent": 8, "text": ["When turned on, creates a string point attribute containing the name of the agent\u2019s current target.\n        This value is empty if the agent does not have a current target."], "extent": [5764, 5946]}], "container": true, "attrs": {"id": "targetnameattrib"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Target Position"], "extent": [5946, 5967], "body": [{"type": "para", "indent": 8, "text": ["When turned on, creates a vector point attribute containing the position of the agent\u2019s current target."], "extent": [5996, 6109]}], "container": true, "attrs": {"id": "targetposattrib"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Target Score"], "extent": [6109, 6127], "body": [{"type": "para", "indent": 8, "text": ["When turned on, creates a float point attribute containing the interest score of the agent\u2019s current target."], "extent": [6158, 6276]}], "container": true, "attrs": {"id": "targetscoreattrib"}, "role": "item"}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "outputattribs"}}], "text": "Parameters"}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [6276, 6285], "body": [{"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/agentprep", "type": "link", "text": "", "fullpath": "/nodes/sop/agentprep.html"}], "extent": [6285, 6308]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/dop/crowdsolver", "type": "link", "text": "", "fullpath": "/nodes/dop/crowdsolver.html"}], "extent": [6308, 6333]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/dop/agentlookat", "type": "link", "text": "", "fullpath": "/nodes/dop/agentlookat.html"}], "extent": [6333, 6358]}], "container": true}], "text": "Related"}], "title": ["Agent Look At Apply"], "summary": ["Adjusts the agent\u2019s skeleton to look at a target."]}