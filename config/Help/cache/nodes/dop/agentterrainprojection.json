{"type": "root", "attrs": {"type": "node", "context": "dop", "internal": "agentterrainprojection", "icon": "CROWDS/agentterrainprojection", "tags": "crowds", "since": "14.0", "version": null, "namespace": null}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["Agent Terrain Projection"], "extent": [125, 154]}, {"type": "summary", "indent": 0, "text": ["Project the agent/particle points onto the terrain"], "extent": [154, 213]}, {"type": "para", "indent": 0, "text": ["This node projects agents/particles onto the terrain."], "extent": [213, 268]}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [268, 280], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Activation"], "extent": [280, 293], "body": [{"type": "para", "indent": 4, "text": [{"type": "code", "text": ["1"]}, " activates the node. ", {"type": "code", "text": ["0"]}, " deactivates the node."], "extent": [313, 368]}], "container": true, "attrs": {"id": "enable"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Group"], "extent": [368, 375], "body": [{"type": "para", "indent": 4, "text": ["The group of agents that this node should affect."], "extent": [394, 449]}], "container": true, "attrs": {"id": "partgroup"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Terrain Source"], "extent": [449, 465], "body": [{"type": "para", "indent": 4, "text": ["Source for the terrain object (SOP path or DOP object)."], "extent": [488, 549]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["SOP"], "extent": [549, 558], "body": [{"type": "para", "indent": 8, "text": ["Use the SOP specified in the ", {"type": "ui", "text": ["SOP Path"]}, " parameter."], "extent": [558, 620]}], "container": true}, {"type": "dt", "indent": 4, "text": ["DOP Data"], "extent": [620, 634], "body": [{"type": "para", "indent": 8, "text": ["Use the DOP specified in the ", {"type": "ui", "text": ["Terrain Object"]}, " parameter."], "extent": [634, 702]}], "container": true}, {"type": "dt", "indent": 4, "text": ["First Context Geometry"], "extent": [702, 730], "body": [{"type": "para", "indent": 8, "text": ["Use the SOP connected to the DOP network\u2019s first input."], "extent": [730, 795]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Second Context Geometry"], "extent": [795, 824], "body": [{"type": "para", "indent": 8, "text": ["Use the SOP connected to the DOP network\u2019s second input."], "extent": [824, 890]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Third Context Geometry"], "extent": [890, 918], "body": [{"type": "para", "indent": 8, "text": ["Use the SOP connected to the DOP network\u2019s third input."], "extent": [918, 983]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Fourth Context Geometry"], "extent": [983, 1012], "body": [{"type": "para", "indent": 8, "text": ["Use the SOP connected to the DOP network\u2019s fourth input."], "extent": [1012, 1078]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "terrainsource"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["SOP Path"], "extent": [1078, 1088], "body": [{"type": "para", "indent": 4, "text": ["The path to the SOP (when the terrain source is set to ", {"type": "ui", "text": ["SOP"]}, ")."], "extent": [1112, 1182]}], "container": true, "attrs": {"id": "terrainsoppath"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Terrain Object"], "extent": [1182, 1198], "body": [{"type": "para", "indent": 4, "text": ["The DOP object to use as the terrain geometry. This can also be specified as an object/data path for using specific geometry data attached to an object. For example, ", {"type": "code", "text": ["popobject/Geometry"]}, ". "], "extent": [1221, 1415]}, {"type": "para", "indent": 4, "text": ["This parameter is only available when the terrain source is set to ", {"type": "ui", "text": ["DOP Data"]}, "."], "extent": [1415, 1501]}], "container": true, "attrs": {"id": "terrainobject"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Terrain Group"], "extent": [1501, 1516], "body": [{"type": "para", "indent": 4, "text": ["The primitives in the terrain geometry to be used for ray intersections."], "extent": [1538, 1616]}], "container": true, "attrs": {"id": "terraingroup"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Mode"], "extent": [1616, 1622], "body": [{"type": "para", "indent": 4, "text": ["Controls the direction of the terrain projection."], "extent": [1636, 1691]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Direction Vector"], "extent": [1691, 1713], "body": [{"type": "para", "indent": 8, "text": ["Use the direction specified in ", {"type": "ui", "text": ["Direction"]}, "."], "extent": [1713, 1768]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Up Attribute"], "extent": [1768, 1786], "body": [{"type": "para", "indent": 8, "text": ["Use the agent\u2019s ", {"type": "code", "text": ["up"]}, " attribute."], "extent": [1786, 1827]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "mode"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Direction"], "extent": [1827, 1838], "body": [{"type": "para", "indent": 4, "text": ["Direction of the terrain projection when ", {"type": "ui", "text": ["Mode"]}, " is set to ", {"type": "ui", "text": ["Direction Vector"]}, ". "], "extent": [1838, 1926]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Sampling Method"], "extent": [1926, 1943], "body": [{"type": "para", "indent": 4, "text": ["Specifies whether to cast a single ray from the agent\u2019s point (", {"type": "ui", "text": ["Particle"]}, "), or cast a ray from each of the agent\u2019s legs (", {"type": "ui", "text": ["Foot"]}, ")."], "extent": [1967, 2106]}], "container": true, "attrs": {"id": "samplingmethod"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Sample From Agent\u2019s Plane"], "extent": [2106, 2133], "body": [{"type": "para", "indent": 4, "text": ["When ", {"type": "ui", "text": ["Sampling Method"]}, " is set to ", {"type": "ui", "text": ["Foot"]}, ", projects the foot positions onto the plane defined by the agent\u2019s position and the ", {"type": "ui", "text": ["Direction"]}, " vector before casting rays.\n    This produces results that are consistent with the ", {"type": "ui", "text": ["Particle"]}, " sampling method if the agent is on flat terrain.\n    If this option is turned off, the agent will be lowered by the average distance of each foot from the terrain."], "extent": [2157, 2564]}], "container": true, "attrs": {"id": "projectsamples"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Offset"], "extent": [2564, 2572], "body": [{"type": "para", "indent": 4, "text": ["Additional offset that will shift all the agents up or down."], "extent": [2588, 2654]}], "container": true, "attrs": {"id": "offset"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Project Forces"], "extent": [2654, 2670], "body": [{"type": "para", "indent": 4, "text": ["When turned on, the ", {"type": "code", "text": ["force"]}, " point attribute will be projected onto the plane defined by the terrain normal."], "extent": [2670, 2783]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Normal Attribute"], "extent": [2783, 2801], "body": [{"type": "para", "indent": 4, "text": ["When turned on, an attribute will be output indicating the normal of the terrain geometry underneath the agent."], "extent": [2801, 2918]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Prim Num Attribute"], "extent": [2918, 2938], "body": [{"type": "para", "indent": 4, "text": ["When turned on, an attribute will be output indicating the primitive that the agent was projected onto in the terrain geometry."], "extent": [2938, 3071]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Prim UVW Attribute"], "extent": [3071, 3091], "body": [{"type": "para", "indent": 4, "text": ["When turned on, an attribute will be added with the coordinates of where the agent was projected onto the terrain geometry."], "extent": [3091, 3220]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Offset Attribute"], "extent": [3220, 3238], "body": [{"type": "para", "indent": 4, "text": ["When turned on, an attribute will be added with the agent\u2019s offset from the terrain (according to the ", {"type": "ui", "text": ["Mode"]}, ", ", {"type": "ui", "text": ["Sampling Method"]}, ", and ", {"type": "ui", "text": ["Offset"]}, " parameters).\n    This can be used in combination with the primitive number and UV coordinates to stick agents onto deforming terrain geometry."], "extent": [3238, 3534]}], "container": true, "role": "item"}], "container": true, "role": "item_group"}], "text": "Parameters"}, {"level": 1, "id": "inputs", "container": true, "type": "inputs_section", "indent": 0, "role": "section", "extent": [3534, 3542], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 0, "text": ["Agents"], "extent": [3542, 3551], "body": [{"type": "para", "indent": 4, "text": ["The packed primitive agents to modify. "], "extent": [3551, 3596]}], "container": true}], "container": true}], "text": "Inputs"}, {"level": 1, "id": "outputs", "container": true, "type": "outputs_section", "indent": 0, "role": "section", "extent": [3596, 3605], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 0, "text": ["Agents"], "extent": [3605, 3614], "body": [{"type": "para", "indent": 4, "text": ["The modified packed primitive agents with terrain projection applied."], "extent": [3614, 3689]}], "container": true}], "container": true}], "text": "Outputs"}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [3689, 3698], "body": [{"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/agentprep", "type": "link", "text": "", "fullpath": "/nodes/sop/agentprep.html"}], "extent": [3698, 3721]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/dop/agentterrainadaptation", "type": "link", "text": "", "fullpath": "/nodes/dop/agentterrainadaptation.html"}], "extent": [3721, 3757]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/dop/crowdsolver", "type": "link", "text": "", "fullpath": "/nodes/dop/crowdsolver.html"}], "extent": [3757, 3782]}], "container": true}], "text": "Related"}], "title": ["Agent Terrain Projection"], "summary": ["Project the agent/particle points onto the terrain"]}