{"type": "root", "attrs": {"icon": "DOP/resizefluid", "context": "dop", "type": "node", "internal": "gasresizefluiddynamic_ql", "version": "1", "namespace": "qLib"}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["Gas Resize Fluid Dynamic qL"], "extent": [50, 82]}, {"type": "para", "indent": 0, "text": [{"type": "strong", "text": ["interface version 1"]}], "extent": [82, 106]}, {"type": "summary", "indent": 0, "text": ["An enhanced, drop-in version of the original ", {"scheme": "Node", "value": "/nodes/dop/gasresizefluiddynamic", "type": "link", "text": "", "fullpath": "/nodes/dop/gasresizefluiddynamic.html"}, " DOP."], "extent": [106, 196]}, {"type": "para", "indent": 0, "text": ["This is an enhanced version of the original node. It can act as a drop-in replacement\n(the ", {"type": "q", "text": ["Change Type\u2026"]}, " menu item can be used to switch from the original node, while\nkeeping all the parameters)."], "extent": [196, 396]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["What\u2019s new"], "extent": [396, 413], "body": [{"type": "para", "indent": 0, "text": ["This operator expands volume boundaries based on the velocity field contents,\nusing both velocity directions and amplitude. When using this node, the\nregular ", {"type": "em", "text": ["Padding"]}, " parameter can be set to ", {"type": "code", "text": ["0"]}, "."], "extent": [413, 612]}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Technical details"], "extent": [612, 638], "body": [{"type": "para", "indent": 0, "text": ["Internally, this node builds a point cloud for each voxel of the ", {"type": "em", "text": ["Reference Field"]}, "\n(usually ", {"type": "code", "text": ["density"]}, "), then advect these points by the ", {"type": "em", "text": ["Velocity Field"]}, ". All field\nboundaries will then be expanded by the point cloud\u2019s bounds."], "extent": [638, 866]}, {"type": "para", "indent": 0, "text": ["The ", {"type": "em", "text": ["Vel Field Scale"]}, " value can be used to reduce the number of points (the default\nsetting of ", {"type": "code", "text": ["0.5"]}, " halves the number of points along each axis). There\u2019s a hard-wired\nminimum limit of 5 points along each axis (125 points overall)."], "extent": [866, 1099]}, {"type": "tip_group", "body": [{"type": "tip", "indent": 0, "role": "item", "extent": [1099, 1104], "body": [{"type": "para", "indent": 4, "text": ["For the shelf tools to use this operator instead of the default one,\n    issue the following hscript command (before using any shelf tool):"], "extent": [1104, 1249]}, {"type": "para", "indent": 4, "text": [{"type": "code", "text": ["opalias Dop qLib::gasresizefluiddynamic_ql::1 gasresizefluiddynamic"]}], "extent": [1249, 1324]}], "container": true}], "container": true, "role": "item_group"}]}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Important Note"], "extent": [1324, 1347], "body": [{"type": "para", "indent": 0, "text": [{"type": "strong", "text": ["If the container keeps on ", {"type": "q", "text": ["popping"]}, " to a very large size"]}, " for random frames,\nread below \u2013"], "extent": [1347, 1441]}, {"type": "para", "indent": 0, "text": ["Certain emitter settings can result in very large emission velocities, causing the\ncontainer to grow very quickly (and seemingly without reason). Usually the cause of\nthe problem is the following:"], "extent": [1441, 1639]}, {"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": ["The Source Volume DOP is set up by default to ", {"type": "q", "text": ["mask"]}, " (multiply) emission velocity\n  by density. This means that density multipliers (", {"type": "code", "text": ["Scale Source Volume"]}, ") above ", {"type": "code", "text": ["1.0"]}, "\n  will multiply the initial velocity as well."], "extent": [1639, 1856]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": ["Also, if the ", {"type": "code", "text": ["Source Volume"]}, " operation is set to ", {"type": "code", "text": ["Add"]}, ", it could even more increase\n  this multiplication on velocity. (The ", {"type": "code", "text": ["Maximum"]}, " mode is recommended.)"], "extent": [1856, 2015]}], "container": true}, {"type": "para", "indent": 0, "text": ["There is a safety mechanism in place for this, but due to technical limitations large\nvelocity values can slip through from time to time, causing sudden containers to do\nlarge ", {"type": "q", "text": ["pops"]}, " (sudden growth bursts of 1-2 frames long)."], "extent": [2015, 2242]}, {"type": "para", "indent": 0, "text": ["So\u2026"], "extent": [2242, 2249]}, {"type": "tip_group", "body": [{"type": "tip", "indent": 0, "role": "item", "extent": [2249, 2254], "body": [{"type": "para", "indent": 4, "text": ["As a general rule, make sure volume density values don\u2019t exceed ", {"type": "code", "text": ["1.0"]}, " (or at least\n    not by much)."], "extent": [2254, 2360]}, {"type": "para", "indent": 4, "text": ["To produce dense clouds, increase density in the visualizer and/or mantra shader."], "extent": [2360, 2447]}, {"type": "para", "indent": 4, "text": ["On Source Volume DOPs, make sure\u2026"], "extent": [2447, 2487]}, {"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["to set the ", {"type": "em", "text": ["Source Volume"]}, " operation to ", {"type": "code", "text": ["Maximum"]}, " mode (do ", {"type": "em", "text": ["not"]}, " use ", {"type": "code", "text": ["Add"]}, ")"], "extent": [2487, 2569]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"type": "em", "text": ["not to use"]}, " too large values for ", {"type": "em", "text": ["Scalar Source Volume"]}, " (and if you do, compensate\n      by scaling down the ", {"type": "em", "text": ["Scale Velocity"]}, " value accordingly.)"], "extent": [2569, 2729]}], "container": true}], "container": true}], "container": true, "role": "item_group"}]}]}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [2729, 2741], "body": [{"type": "para", "indent": 4, "text": ["For more details, see the help page for\n    ", {"scheme": "Node", "value": "/nodes/dop/gasresizefluiddynamic", "type": "link", "text": "", "fullpath": "/nodes/dop/gasresizefluiddynamic.html"}, "."], "extent": [2741, 2824]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Padding"], "extent": [2824, 2837], "body": [{"type": "para", "indent": 8, "text": ["This padding value is safe to set to ", {"type": "code", "text": ["0"]}, "."], "extent": [2837, 2888]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Field"], "extent": [2888, 2899], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["Field Cutoff"], "extent": [2899, 2921], "body": [{"type": "para", "indent": 12, "text": ["Aside from its original functionality, this value is also used\n            by determining which voxels' velocity fields to be considered.\n            Only the ", {"type": "em", "text": ["Reference Field"]}, " (", {"type": "code", "text": ["density"]}, ") voxels with higher\n            than this value will be used."], "extent": [2921, 3184]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Velocity Field"], "extent": [3184, 3208], "body": [{"type": "para", "indent": 12, "text": ["Name of the velocity field to use for expanding other fields."], "extent": [3208, 3283]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Vel Field Scale"], "extent": [3283, 3308], "body": [{"type": "para", "indent": 12, "text": ["An amount of ", {"type": "q", "text": ["reduction"]}, " on the velocity field before sampling it\n            for boundary expansion. It might be useful to reduce this value\n            for ", {"type": "em", "text": ["very"]}, " large volumes."], "extent": [3308, 3501]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Velocity Multiplier"], "extent": [3501, 3530], "body": [{"type": "para", "indent": 12, "text": ["Scales velocity field values (and hence the expansion rate).\n            There\u2019s probably no reason to adjust this value."], "extent": [3530, 3665]}], "container": true}], "container": true}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Tracking Object"], "extent": [3665, 3686], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["Min Size Threshold"], "extent": [3686, 3714], "body": [{"type": "para", "indent": 12, "text": ["Any tracking object with a bounding box size below this value\n            will be ignored. (The shortest bounding box component is considered.)\n            Use ", {"type": "code", "text": ["0"]}, " to disable."], "extent": [3714, 3916]}], "container": true}], "container": true}], "container": true, "role": "item"}], "container": true, "role": "item_group"}], "text": "Parameters"}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [3916, 3925], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/dop/gasresizefluiddynamic", "type": "link", "text": "", "fullpath": "/nodes/dop/gasresizefluiddynamic.html"}], "extent": [3925, 3964]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/qLib::fluidsource_ql::1", "type": "link", "text": ["Fluid Source qL SOP"], "exists": true}], "extent": [3964, 4028]}], "container": true}], "text": "Related"}, {"level": 1, "id": "relnotes", "container": true, "type": "relnotes_section", "indent": 0, "text": ["Release Notes"], "role": "section", "extent": [4028, 4052], "body": [{"type": "para", "indent": 0, "text": [{"type": "em", "text": ["interface version 1"]}, " \u2014"], "extent": [4052, 4080]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 0, "text": ["2019-12-10"], "extent": [4080, 4092], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Resaved in H17.5 to get rid of Bounds SOP warnings (now it\u2019ll give warnings in 16.5 and earlier) (", {"scheme": null, "value": "https://github.com/qLab/qLib/issues/930", "type": "link", "text": ["#930"], "exists": true}, ")"], "extent": [4092, 4245]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2019-05-24"], "extent": [4245, 4257], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Fixed velocity tracking branch running even if vel tracking is turned off (", {"scheme": null, "value": "https://github.com/qLab/qLib/issues/665", "type": "link", "text": ["#665"], "exists": true}, ")"], "extent": [4257, 4387]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2016-01-08"], "extent": [4387, 4399], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Added a min size threshold for tracking objects"], "extent": [4399, 4454]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2015-01-11"], "extent": [4454, 4466], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Added a limited safety mechanism for emitters with overshot\n      density/velocity combination. (Also added an explanation help page section.)"], "extent": [4466, 4616]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2014-12-17"], "extent": [4616, 4628], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Bug fix (coming from original OP): empty tracking object would expand bounds\n      to include origin. Fixed."], "extent": [4628, 4744]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2014-12-15"], "extent": [4744, 4756], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Fixed basic bug that often resulted in incorrect resizing"], "extent": [4756, 4820]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"type": "em", "text": ["Tracking Object/Sop Path(s)"]}, " now supports multiple SOP paths"], "extent": [4820, 4888]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"type": "em", "text": ["Max Bounds/Clamp to Maxi Size"]}, " is now disabled by default "], "extent": [4888, 4955]}], "container": true}], "container": true}, {"type": "dt", "indent": 0, "text": ["2014-12-14"], "extent": [4955, 4967], "body": [{"type": "para", "indent": 4, "text": ["First version."], "extent": [4967, 4986]}], "container": true}], "container": true}]}], "title": ["Gas Resize Fluid Dynamic qL"], "summary": ["An enhanced, drop-in version of the original ", {"scheme": "Node", "value": "/nodes/dop/gasresizefluiddynamic", "type": "link", "text": "", "fullpath": "/nodes/dop/gasresizefluiddynamic.html"}, " DOP."]}