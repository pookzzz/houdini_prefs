{"type": "root", "attrs": {"type": "node", "context": "dop", "internal": "popwindshadow", "icon": "DOP/popwindshadow", "version": null, "namespace": null}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["POP Wind Shadow"], "extent": [86, 106]}, {"type": "summary", "indent": 0, "text": ["Applies a wind shadow to particles"], "extent": [106, 149]}, {"type": "para", "indent": 0, "text": ["This node applies a wind shadow to particles based on ", {"type": "ui", "text": ["Source Geometry"]}, ". Particles within the wind shadow have their velocity mixed with the velocity of the geometry that is creating the wind shadow. This gives the effect that the geometry is blocking the wind from affecting the particle."], "extent": [149, 442]}, {"type": "para", "indent": 0, "text": ["This node should be applied after any POP Wind nodes since it will updated the ", {"type": "code", "text": ["targetv"]}, " attribute to take into account the wind shadow. The blocking geometry\u2019s ", {"type": "code", "text": ["v"]}, " attribute is used to replace the wind velocity in areas in shadow."], "extent": [442, 675]}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [675, 687], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Activation"], "extent": [45, 61], "body": [{"type": "para", "indent": 8, "text": ["Turns this node on and off. The node is only active if this\n        value is greater than 0. This is useful to control the effect of\n        this node with an ", {"scheme": null, "value": "/expressions/", "type": "link", "text": ["expression"], "fullpath": "/expressions/index.html"}, "."], "extent": [61, 265]}, {"type": "note_group", "body": [{"type": "note", "indent": 8, "role": "item", "extent": [265, 279], "body": [{"type": "para", "indent": 12, "text": ["This is activation of the node as a whole. You can\u2019t use this parameter to deactivate the node for certain particles."], "extent": [279, 410]}], "container": true}], "container": true, "role": "item_group"}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Group"], "extent": [410, 421], "body": [{"type": "para", "indent": 8, "text": ["Only affect a group of points (created with, for example, a\n        ", {"scheme": "Node", "value": "/nodes/dop/popgroup", "type": "link", "text": ["Group POP"], "fullpath": "/nodes/dop/popgroup.html"}, " or ", {"scheme": "Node", "value": "/nodes/dop/popcollisiondetect", "type": "link", "text": ["Collision\n        Detection POP"], "fullpath": "/nodes/dop/popcollisiondetect.html"}, ") out of all the points in \n        the current stream."], "extent": [421, 648]}], "container": true, "role": "item"}], "container": true}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Parameters"], "extent": [730, 747], "body": [{"type": "include_group", "body": [{"ext": "popmaskfromwind#combineop", "type": "include", "indent": 0, "role": "item", "extent": [747, 788]}], "container": true, "role": "item_group"}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Ray Direction"], "extent": [788, 803], "body": [{"type": "para", "indent": 4, "text": ["The direction in which to perform the raycast."], "extent": [826, 878]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Wind"], "extent": [878, 888], "body": [{"type": "para", "indent": 8, "text": ["In the opposite direction of the wind attribute."], "extent": [888, 954]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Velocity"], "extent": [954, 968], "body": [{"type": "para", "indent": 8, "text": ["In the same direction as the particle is moving."], "extent": [968, 1034]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Relative"], "extent": [1034, 1048], "body": [{"type": "para", "indent": 8, "text": ["In the opposite direction of the relative wind velocity."], "extent": [1048, 1122]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "scandirection"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Geometry Source"], "extent": [1534, 1555], "body": [{"type": "para", "indent": 8, "text": ["Specifies the geometry to use."], "extent": [1555, 1595]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["SOP"], "extent": [1595, 1608], "body": [{"type": "para", "indent": 12, "text": ["Use the SOP specified in the ", {"type": "ui", "text": ["SOP Path"]}, " parameter."], "extent": [1608, 1674]}], "container": true}, {"type": "dt", "indent": 8, "text": ["DOP Objects"], "extent": [1674, 1695], "body": [{"type": "para", "indent": 12, "text": ["Use the named DOP object in this DOP network."], "extent": [1695, 1754]}], "container": true}, {"type": "dt", "indent": 8, "text": ["First Context Geometry"], "extent": [1754, 1786], "body": [{"type": "para", "indent": 12, "text": ["Use the SOP connected to the DOP network\u2019s first input."], "extent": [1786, 1855]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Second Context Geometry"], "extent": [1855, 1888], "body": [{"type": "para", "indent": 12, "text": ["Use the SOP connected to the DOP network\u2019s second input."], "extent": [1888, 1958]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Third Context Geometry"], "extent": [1958, 1990], "body": [{"type": "para", "indent": 12, "text": ["Use the SOP connected to the DOP network\u2019s third input."], "extent": [1990, 2059]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Fourth Context Geometry"], "extent": [2059, 2092], "body": [{"type": "para", "indent": 12, "text": ["Use the SOP connected to the DOP network\u2019s fourth input."], "extent": [2092, 2162]}], "container": true}], "container": true}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["SOP Path"], "extent": [2162, 2176], "body": [{"type": "para", "indent": 8, "text": ["Path to the SOP (when ", {"type": "ui", "text": ["Geometry Source"]}, " is set to ", {"type": "ui", "text": ["SOP"]}, ")."], "extent": [2176, 2247]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["DOP Objects"], "extent": [2247, 2264], "body": [{"type": "para", "indent": 8, "text": ["Name of the DOP objects (when ", {"type": "ui", "text": ["Geometry Source"]}, " is set to ", {"type": "ui", "text": ["DOP Object"]}, ")."], "extent": [2264, 2350]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["External Shadow"], "extent": [1168, 1185], "body": [{"type": "para", "indent": 4, "text": ["Scale for how much shadow to apply when the external geometry is hit."], "extent": [1208, 1283]}], "container": true, "attrs": {"id": "externalmask"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Self Shadow"], "extent": [1283, 1296], "body": [{"type": "para", "indent": 4, "text": ["Scale for how much shadow to apply when the geometry itself is hit."], "extent": [1315, 1392]}], "container": true, "attrs": {"id": "selfmask"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Max Distance"], "extent": [2508, 2522], "body": [{"type": "para", "indent": 4, "text": ["The maximum distance to check for occlusions."], "extent": [2549, 2604]}], "container": true, "attrs": {"id": "maxshadowdistance"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Ray Bias"], "extent": [2604, 2614], "body": [{"type": "para", "indent": 4, "text": ["The distance to offset the ray from the particle. This is used to avoid self intersections if the node is used for self wind shadow."], "extent": [2631, 2769]}], "container": true, "attrs": {"id": "raybias"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Shadow Angle"], "extent": [2769, 2783], "body": [{"type": "para", "indent": 4, "text": ["The spread to send shadow rays.  A value of ", {"type": "code", "text": ["90"]}, " will sample the full hemisphere, and a value of ", {"type": "code", "text": ["180"]}, " will send rays in all directions."], "extent": [2803, 2945]}], "container": true, "attrs": {"id": "coneangle"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Shadow Samples"], "extent": [2945, 2961], "body": [{"type": "para", "indent": 4, "text": ["Number of samples to send randomly within the cone angle.  If the cone angle is zero, only one sample will be taken."], "extent": [2978, 3104]}], "container": true, "attrs": {"id": "samples"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Distance Falloff"], "extent": [3104, 3122], "body": [{"type": "para", "indent": 4, "text": ["This ramp maps the distance of the particle to the to the output value of the mask."], "extent": [3143, 3236]}], "container": true, "attrs": {"id": "maskfalloff"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Blur Wind Shadow"], "extent": [1593, 1611], "body": [{"type": "para", "indent": 4, "text": ["Apply blurring to the wind shadow mask and wind shadow velocity."], "extent": [1627, 1701]}], "container": true, "attrs": {"id": "doblur"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Blurring Iterations"], "extent": [1701, 1722], "body": [{"type": "para", "indent": 4, "text": ["The number of times the input geometry is blurred.  The higher the number, the more blurring."], "extent": [2048, 2147]}], "container": true, "attrs": {"id": "iterations"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Blur Influence Type"], "extent": [1783, 1804], "body": [{"type": "para", "indent": 4, "text": ["Blurring relies on each point being able to see what its neighbors' attributes are.\n    This parameter determines how points see their neighbors.  "], "extent": [3871, 4028]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Connectivity"], "extent": [4028, 4046], "body": [{"type": "para", "indent": 8, "text": ["Neighbors are determined by mesh connectivity.  Each point mixes its attribute value with the value of its neighbors to achieve blurring."], "extent": [4046, 4193]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Proximity"], "extent": [4193, 4208], "body": [{"type": "para", "indent": 8, "text": ["Neighbors are determined by proximity.  Each point has a maximum number of neighbors given by the ", {"type": "ui", "text": ["Max Neighbors"]}, " parameter, where each neighbor must be within a certain distance away given by the ", {"type": "ui", "text": ["Proximity Radius"]}, " parameter."], "extent": [4208, 4448]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "blur_influencetype"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Blur Proximity Radius"], "extent": [1876, 1899], "body": [{"type": "para", "indent": 4, "text": ["Determines how far points influence each other when ", {"type": "ui", "text": ["Influence Type"]}, " is set to proximity."], "extent": [4484, 4581]}], "container": true, "attrs": {"id": "blur_proxrad"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Blur Max Neighbors"], "extent": [1959, 1979], "body": [{"type": "para", "indent": 4, "text": ["Determines the maximum number of neighbors each point is permitted to have.  Large numbers of neighbors may reduce performance."], "extent": [4619, 4752]}], "container": true, "attrs": {"id": "blur_maxneigh"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Update Wind Velocity"], "extent": [2041, 2063], "body": [{"type": "para", "indent": 4, "text": ["Update the ", {"type": "code", "text": ["targetv"]}, " according to the computed ", {"type": "code", "text": ["windshadow_mask"]}, " and ", {"type": "code", "text": ["windshadow_v"]}, "."], "extent": [2083, 2177]}], "container": true, "attrs": {"id": "updatewind"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Bindings"], "extent": [2177, 2192], "body": []}], "text": "Parameters"}, {"level": 1, "id": "inputs", "container": true, "type": "inputs_section", "indent": 0, "role": "section", "extent": [2192, 2201], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 0, "text": ["Wind Velocity"], "extent": [2201, 2217], "body": [{"type": "include_group", "body": [{"ext": "popmaskfromwind#windvelocity/", "type": "include", "indent": 4, "role": "item", "extent": [2239, 2288]}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "windvelocity"}}, {"type": "dt", "indent": 0, "text": ["Velocity"], "extent": [2288, 2298], "body": [{"type": "include_group", "body": [{"ext": "popmaskfromwind#velocity/", "type": "include", "indent": 4, "role": "item", "extent": [2316, 2361]}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "velocity"}}], "container": true}], "text": "Inputs"}, {"level": 1, "id": "outputs", "container": true, "type": "outputs_section", "indent": 0, "role": "section", "extent": [2361, 2370], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 0, "text": ["Shadow Mask"], "extent": [2370, 2384], "body": [{"type": "include_group", "body": [{"ext": "popmaskfromwind#mask_attrib/", "type": "include", "indent": 4, "role": "item", "extent": [2408, 2456]}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "windshadowmask"}}, {"type": "dt", "indent": 0, "text": ["Shadowed Air Velocity"], "extent": [2456, 2479], "body": [{"type": "include_group", "body": [{"ext": "popmaskfromwind#maskv_attrib/", "type": "include", "indent": 4, "role": "item", "extent": [2500, 2549]}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "windshadowv"}}, {"type": "dt", "indent": 0, "text": ["Shadow Hit Distance"], "extent": [2549, 2570], "body": [{"type": "include_group", "body": [{"ext": "popmaskfromwind#maskhitdist_attrib/", "type": "include", "indent": 4, "role": "item", "extent": [2596, 2651]}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "windshadowhitpos"}}], "container": true}], "text": "Outputs"}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [2651, 2660], "body": [{"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/dop/popmaskfromwind", "type": "link", "text": "", "fullpath": "/nodes/dop/popmaskfromwind.html"}], "extent": [2660, 2690]}], "container": true}], "text": "Related"}], "title": ["POP Wind Shadow"], "summary": ["Applies a wind shadow to particles"], "included": ["/nodes/dop/popCommonParms", "/nodes/dop/popattribblur", "/nodes/dop/popmaskfromshadow", "/nodes/dop/standard_pop_parms", "/nodes/sop/attribblur"]}